{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } AXGK's Blog \u00a4 Just some random collection of software related stuff - and a testbed to try a thing or two... For my own private purposes, not yet worth sharing May turn into a 'real' tech blog some day May also turn into my memoires. Really not yet sure, how much fun I'll find in typing markdown.. If you'd like to comment or ask anything, you can do it here, just refer to the page: Last modified: Mon, 17 Apr 2023 21h GMT var scr = document.createElement('script'); scr.setAttribute('src','https://utteranc.es/client.js'); scr.setAttribute('repo','AXGKl/blog'); scr.setAttribute('issue-term','pathname'); scr.setAttribute('theme','github-dark'); scr.setAttribute('crossorigin','anonymous'); document.getElementById('utterance_comments').appendChild(scr); .utterances {max-width: 100% !important} typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Overview"},{"location":"#axgks-blog","text":"Just some random collection of software related stuff - and a testbed to try a thing or two... For my own private purposes, not yet worth sharing May turn into a 'real' tech blog some day May also turn into my memoires. Really not yet sure, how much fun I'll find in typing markdown.. If you'd like to comment or ask anything, you can do it here, just refer to the page: Last modified: Mon, 17 Apr 2023 21h GMT var scr = document.createElement('script'); scr.setAttribute('src','https://utteranc.es/client.js'); scr.setAttribute('repo','AXGKl/blog'); scr.setAttribute('issue-term','pathname'); scr.setAttribute('theme','github-dark'); scr.setAttribute('crossorigin','anonymous'); document.getElementById('utterance_comments').appendChild(scr); .utterances {max-width: 100% !important} typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"AXGK's Blog"},{"location":"logbook/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Logbook \u00a4 shorts: https://gist.github.com/vfarcic/e593ff9fa1a34d286e4b7f739bf47bc2 https://www.bing.com/videos/search?q=argocd+install&docid=608019442253525319&mid=A636CCDBDF44CC1E58EBA636CCDBDF44CC1E58EB&view=detail&FORM=VIRE https://www.whatsmydns.net/#SOA/axlc.net dynu change nameservers: https://www.dynu.com/en-US/ControlPanel/DomainRegistrationNameServer?ATVPDKIKX0DER=SQBEAD0ANwAzADUANwA5ADQAMAA%7C Using FontPatcher \u00a4 Gettting [2023-04-23 20:10] \"Patching\" means: Adding all the icons to a font. 1. You can download a fully patched font Download one from here: https://www.nerdfonts.com/font-downloads , unzip, move to .local/share/fonts, run fc-cache , then it should occur in fc-list . Then pick it e.g. in Alacritty config: #family: \"CaskaydiaCove Nerd Font Mono\" (alacritty applies after save, nice) I have Comic Code, i.e. I need to patch an existing font. sudo dnf install fontforge (and set PATH to my system python) -> Download patcher from here https://www.nerdfonts.com/#home for k in /home/gk/.local/share/fonts/ComicCode/*.otf; do echo \"$k\"; ./font-patcher --fontawesome --fontawesomeextension --fontlogos --octicons --codicons --powersymbols --pomicons --powerline --powerlineextra --material --weather \"$k\"; done Then move resulting patched fonts over: `mv Comic* $HOME/.local/share/fonts/ComicCode/ (and select in Alacritty) Intercepting ALL XHR going on \u00a4 Also [2023-01-03 20:10] ```javascript var open = window.XMLHttpRequest.prototype.open; var send = window.XMLHttpRequest.prototype.send; function openReplacement(method, url, async, user, password) { this._url = url; console.log('opening ', arguments) return open.apply(this, arguments); } function sendReplacement(data) { if (this.onreadystatechange) { this._onreadystatechange = this.onreadystatechange; } this.onreadystatechange = onReadyStateChangeReplacement; return send.apply(this, arguments); } function onReadyStateChangeReplacement() { if (this.readyState == 4) { console.log('this', JSON.parse(this.response)[\"content\"]) } if (this._onreadystatechange) { return this._onreadystatechange.apply(this, arguments); } } window.XMLHttpRequest.prototype.open = openReplacement; window.XMLHttpRequest.prototype.send = sendReplacement; ``` dwm all vertical layout \u00a4 Based [2022-12-09 20:10] This keeps the slaves all vertical and moves out when < 500px wide ``` void col(Monitor *m) { unsigned int i, n, h, w, x, w1, x1, y, mw; Client *c; for (n = 0, c = nexttiled(m->clients); c; c = nexttiled(c->next), n++) ; if (n == 0) return; w1 = 0; x1 = 0; if (n > m->nmaster) mw = m->nmaster ? m->ww * m->mfact : 0; else mw = m->ww; for (i = x = y = 0, c = nexttiled(m->clients); c; c = nexttiled(c->next), i++) { if (i < m->nmaster) { // masters come first w = (mw - x) / (MIN(n, m->nmaster) - i); resize(c, x + m->wx, m->wy, w - (2 * c->bw), m->wh - (2 * c->bw), False); x += WIDTH(c); x1 = x; } else { w1 = m->ww - x1 - (2 * c->bw); // fprintf(stderr, \"dwm: %d %d %d\\n\", w1, n, m->nmaster); // effects in a min. width and then move out the rightes window from the // screen: w1 = MAX(500, w1 / (n - m->nmaster)) - (2 * c->bw); resize(c, x + m->wx, m->wy + y, w1, m->wh - (2 * c->bw), False); x += WIDTH(c); } } } ``` CCC: Is this guy for real? \u00a4 Optical inspection of ROM to get to the data?! - WTF?! [2022-04-10 18:00] https://youtu.be/lhbSD1Jba0Q?t=1355 ![](./img/optical_chip_anal.png) [Oliver Koemmerling...](https://taz.de/Vorwuerfe-gegen-Murdochs-Unternehmen/!5097441/) https://youtu.be/lhbSD1Jba0Q?t=1355 Background: I started my \"career\" at Siemens in the Chip Quality department. We had a big lab, with all sorts of microscopes. But reading out the ROM *optically*, that is unheard of... AutoKey: Types stuff into XWindows \u00a4 Away with xdotool type [2022-03-21 20:10] Start `autokey-gtk` in dwm autostart.sh -> systray icon or Super-k brings up Editor. [FAQ](https://github.com/autokey/autokey/wiki/FAQ) Can be pip installed, it's python :-) The dates here have been entered via alt-d bound to: ```python ~ \u276f cat .config/autokey/data/My\\ Phrases/Insert\\ Date.py output = system.exec_command(\"date -u '+%+2Y-%m-%d %H:%M'\") keyboard.send_keys('[%s] ' % output) ``` ```json ~/.config/autokey/data/My Phrases \u276f cat .Insert\\ Date.json 6s { \"type\": \"script\", \"description\": \"Insert Date\", \"store\": {}, \"modes\": [ 3 ], \"usageCount\": 6, \"prompt\": false, \"omitTrigger\": false, \"showInTrayMenu\": false, \"abbreviation\": { \"abbreviations\": [], \"backspace\": true, \"ignoreCase\": false, \"immediate\": false, \"triggerInside\": false, \"wordChars\": \"[\\\\w]\" }, \"hotkey\": { \"modifiers\": [ \"<alt>\" ], \"hotKey\": \"d\" }, \"filter\": { \"regex\": null, \"isRecursive\": false } } ``` Install on new Fedora \u00a4 nvim: some hassle with lsb to solve [2022-03-01 04:18] 1. python -m venv .venv/nvim, there pip install neovim 1. user install node, put in path, there node i -g neovim 1. Fix lsp incompat problems See https://jdhao.github.io/2021/12/01/nvim_v06_released/ (also see .cache/nvim/lsb.log) 1. Remove octo plugin (too much foo) 1. rg over .config/nvim and .local/share/nvim to find those deprecated lua calls. :checkhealth provider Thunderbird Compose Plaintext Mails \u00a4 Hold Shift while clicking Reply or New [2022-02-08 14:32] Not obvious, no mouse over tooltip - you simply have to know it. All hotkeys here: https://support.mozilla.org/en-US/kb/keyboard-shortcuts-thunderbird?redirectslug=keyboard-shortcuts&redirectlocale=en-US#w_writing-messages Common Image Operations On the CLI \u00a4 Not everything requires Gimp [2022-01-13 22:03] Gimp is overkill for these - also automation possibilities, within scripts: === \"Add alpha channel to png (make transparent)\" ```bash ~ \u276f cat bin/add-alpha.sh #!/usr/bin/env bash # Removes the background (makes transparent) # https://stackoverflow.com/a/44542839/4583360 orig=\"/tmp/img_orig.png\" main() { img=\"$1\" test -e \"$img\" || { echo \"Image file missing: $img\" exit 1 } shift test -n \"$1\" && { bgcol=\"$1\" shift } || bgcol=\"white\" test -n \"$1\" && { fuzz=\"$1\" shift } || fuzz=\"2%\" rm -f \"$orig\" mv \"$img\" \"$orig\" convert \"$orig\" -fuzz \"$fuzz\" -transparent \"$bgcol\" \"$img\" feh --class HUD \"$img\" & echo \"Alpha added: $img. Original image at $orig.\" } main \"$@\" ``` === \"Resize SVG Canvas to Image Size\" inkscape --batch-process --verb \"EditSelectAll;FitCanvasToSelection;FileSave;FileQuit\" filename.svg First Steps on a TV API \u00a4 Trying to Remote Control a Samsung Q8 [2022-01-09 22:13] Own Article [here](./ll/devices/tv_q8.md) Re-enabling VLC for Youtube Streaming \u00a4 Updating Youtube Streaming [2021-12-26 17:46] YT seems not very fond of clients outside the browser, addlessly streaming their stuff. Noticed in MPV massive throttling and vlc ran into: ``` [00007fb1744fe6d0] lua stream error: Couldn't process youtube video URL, please check for updates to this script [00007fb1744e2a10] access stream error: HTTP 403 error ``` Fix (as root): ```bash [root@axgk playlist]# pwd /usr/lib64/vlc/lua/playlist [root@axgk playlist]# mv youtube.luac /tmp/ [root@axgk playlist]# wget https://raw.githubusercontent.com/videolan/vlc/master/share/lua/playlist/youtube.lua ~ \u276f vlc \"https://www.youtube.com/watch?v=El90OBILFBw\" ``` No luac(ompile) needed, vlc now plays the stream w/o delays (and no adds). gitty : github & gitlab Repo Status Viewer \u00a4 All infos you want - but not more [2021-12-16 23:44] gitty is a smart little CLI helper for git projects, that shows you all the relevant issues, pull requests and changes at a quick glance, right on the command-line. It currently supports the GitHub & GitLab APIs. Just call gitty in a repo folder (or on a url) and you have the infos. Also works with multiple repos Hacking On the Wire API \u00a4 Getting the login right [2021-11-02 23:28] The login process in wire's API docs is outdated. Here a working login, with access to all API endpoints: !!! danger Only problem: `{\"code\":429,\"message\":\"Logins too frequent\",\"label\":\"client-error\"}` after many attempts. - No more browser logins as well(!) - lasting, also the next day (try again later). - Resolution: Password reset, then they cleared it. ```python import json, os import sys import requests import structlog passw = lambda s: os.popen('pass show %s' % s).read().strip() L = structlog.get_logger() handle = passw('wire/handle') pw = passw('wire/password') server = 'https://app.wire.com' server = 'https://prod-nginz-https.wire.com' loads = json.loads dumps = json.dumps class S: zuid = None at = None # access_token class U: \"\"\"interesting users\"\"\" class lucy: accent_id = 4 domain = 'wire.com' handle = 'mylucy' id = 'a32e1af9-a93d-a24e-a905-a619f06184c4' name = 'Lucy' team = None def headers(): h = { 'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json;charset=UTF-8', 'Accept-Encoding': 'gzip, deflate, br', 'Accept-Language': 'en-GB,en-US;q=0.9,en;q=0.8,de;q=0.7', 'Connection': 'keep-alive', 'sec-ch-ua': '\"Chromium\";v=\"93\", \" Not;A Brand\";v=\"99\"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': 'Linux', 'Sec-Fetch-Dest': 'empty', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Site': 'same-site', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.99 Safari/537.36', } if S.at: h['Authorization'] = 'Bearer ' + S.at return h def req(pth, data=None, meth='post', **kw): kw = {'headers': headers()} if data: kw['json'] = data # https://docs.wire.com/understand/api-client-perspective/authentication.html#: if S.zuid: kw['cookies'] = {'zuid': S.zuid} m = getattr(requests, meth) r = m(server + pth, **kw) if 'zuid' in r.cookies: S.zuid = r.cookies['zuid'] r = r.text # json?: if r and r[0] in ('{', '['): r = loads(r) if 'access_token' in r: S.at = r['access_token'] return r get = lambda pth, **kw: req(pth, meth='get', **kw) post = lambda pth, **kw: req(pth, meth='post', **kw) # some useful endpoints in general: access = lambda: req('/access') self = lambda: get('/self') search = lambda q: get('/search/contacts?q=' + q) def auth(): r = req('/login?persist=true', data={'handle': handle, 'password': pw}) if not 'user' in r: L.fatal('Login error', **r) sys.exit(1) S.user = r['user'] L.info('Profile', **self()) def main(): auth() conv = get('/conversations')['conversations'] # find a converstation: conv = [k for k in conv if 'Lucy' in str(k)] cnv_domain = 'wire.com' cnv = conv['id'] conv = get(f'/conversations/{cnv_domain}/{cnv}') if __name__ == '__main__': main() ``` Conversations to pdf in wire chat \u00a4 A strange failure [2021-11-02 23:32] Here is the docker based pdf exporter, exporting a backup file created via their UI: ```bash ~ \u276f cat r.sh #!/usr/bin/env bash podman run --rm -it \\ --privileged \\ -v /home/gk/foo/gk.desktop_wbu:/app/database-in \\ -v /home/gk/bar:/app/database-out \\ -e CLIENT_TYPE=web \\ -e WIRE_USER=$(pass show wire/handle)@wire.com \\ -e WIRE_PASSWORD=$(pass show wire/password) \\ quay.io/wire/backup-export-tool:2.0.0 ``` Problem: Fails with ```bash ~ \u276f ./r.sh 5h 41m 43s Backup to PDF converter version: null Processing backup: Device: xxxxxxxxxxx User: xxxxxxx id: xxxxxxxxxxx created: 2021-11-02T18:10:08.402Z platform: Web version: 16 Directories had to be created: false com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.UUID` from Object value (token `JsonToken.START_OBJECT`) at [Source: (File); line: 1, column: 978921] (through reference chain: java.lang.Object[][1965]->com.wire.backups.exports.exporters.DesktopExporter$Event[\"data\"]->com.wire.backups.exports.exporters.DesktopExporter$Data[\"userIds\"]->java.util.ArrayList[0]) at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63) at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1590) (...) ``` HomeAssistant \u00a4 Interesting Tool [2021-09-16 09:29] https://demo.home-assistant.io/#/lovelace/0 https://www.awesome-ha.com/#themes Interesting mkdocs Plugins \u00a4 Scanning the mkdocs wiki [2021-09-15 22:28] mike Multiple version of documentation in gh-pages branch (major.minor) - simple markdown extraction from source files - tags creates a tags page from yaml metadata in pages - autorefs finds header slugs and allows to link to them w/o specyfying the page itself. There are many other such links easing plugins. - htmlproofer Validates internal and external links in rendered html TFL Tips \u00a4 Just some random notes I try push into my head by writing them [2021-09-09 02:08] - Pretty much forget `echo` printf -v >> echo I got reminded about printf and I admit I've done this *a lot* (left side): [![./img/printf.png](./img/printf.png)](./img/printf.png) - `<` instead `cat`: myhosts=\"$(< /etc/hosts)\" ST No more crashes on color emojjs \u00a4 Patching libxft [2021-09-09 01:56] Details here Storing last edit position \u00a4 All plugins replaceable by one line [2021-09-08 10:56] Tried: ```lua --use \"farmergreg/vim-lastplace\" --use \"vim-scripts/restore_view.vim\" ``` and all have their bugs, like storing and restoring wrong cwd, so that fzf failed opening files - with now apparent reason. This single line does exactly what I want - and not more: ```vim \" go to the position I was when last editing the file au BufReadPost * if line(\"'\\\"\") > 0 && line(\"'\\\"\") <= line(\"$\") | exe \"normal g'\\\"\" | endif ``` Bye bye Travis. Github Actions FTW \u00a4 I spent a chapter about that... GH delivers - Also on CI [2021-09-07 01:19] Ok after further travis trouble with a CI related problem (tmux did not react fast enough, need a delay - no reproducable in local ubuntu container) I began to check if the error was happening using another CI tool. GH actions was anyway on the list since long. Compare: https://docs.github.com/en/actions/learn-github-actions/migrating-from-travis-ci-to-github-actions Verdict: Totally rocks. The error was also there in GH, but here I could find and fix it within a few minutes, since the turnaround times are that short. Plus...I mean: Alone the frontend...: [![./img/ghact.png](./img/ghact.png)](./img/ghact.png) Plus you can cache away your venvs, which would save another 40 secs for poetry install. So, bye bye travis... you should have focussed on *features* - and not an bullsh like that... maybe? ??? note \"So woke...\" [![./img/pride.png](./img/pride.png)](./img/pride.png) Lastly, to be fair: They contributed a lot, they were the first to offer CI for free: https://www.jeffgeerling.com/blog/2020/travis-cis-new-pricing-plan-threw-wrench-my-open-source-works Nail the subprocess shell executable. Always! \u00a4 Ubuntu has dash. And dash sucks [2021-09-06 23:09] - `subprocess.check_output(shell=True)` is using /bin/sh - On Fedora this is linked to bash => you can send bashisms - On Travis all hell breaks loose. Why. After an hour I decided to `podman pull ubuntu:xenial` -> run -> export -> systemd-nspawn into it -> run .travis setup -> run test.` Breaks. Fine. Checking: ```bash root@xenial:~ echo -e \"Hello\" Hello root@xenial:~# python -c 'import os; os.system(\"echo -e Hello\")' -e Hello root@xenial:~# FCKUBUNTU bash: FCKUBUNTU: command not found ``` Solution: **`subprocess.check_output(shell=True, executable='/bin/bash')`** Travis: How to enable \u00a4 You always need a plan... [2021-09-06 15:09] In their not so new anymore travis.com you need to first select the free plan - not autoselected. Otherwise auth errors. On travis.com: ![](./img/travisplan.png) On github: [![./img/ghtrav.png](./img/ghtrav.png)](./img/ghtrav.png) tmux: Best Guide \u00a4 Very nice and detailed tmux guide [2021-09-04 21:48] https://thevaluable.dev/tmux-config-mouseless/ Available Software \u00a4 Garduda has it all... [2021-09-04 21:48] Mental Outlaw recently did a Garduda review - and their software options seem quite extensive. [check it out](https://youtu.be/_ZCEiFA8ezA?t=700) Make a WLAN Accesspoint \u00a4 Using nmcli - no NetworkManager [2021-09-04 09:05] My Fedora 34 does funnily not use NetworkManager, nmcli was working like a charm: This does the job for now, incl. IP config, no need to install hostapd or anything else, like suggested on [arch wiki](https://aur.archlinux.org/packages/linux-wifi-hotspot/): ```bash ~ \u276f cat bin/wlan_access_point #!/usr/bin/env bash IFNAME=\"wlp109s0\" CON_NAME=\"myhotspot\" PASS=\"<xxx>\" function ap { mode=show case $1 in up) mode=up ;; down) mode=down ;; esac echo \"$CON_NAME $mode\" test $mode == \"up\" && { $0 down nmcli con add type wifi ifname $IFNAME con-name \"$CON_NAME\" autoconnect yes ssid \"$CON_NAME\" nmcli con modify \"$CON_NAME\" 802-11-wireless.mode ap 802-11-wireless.band bg ipv4.method shared nmcli con modify \"$CON_NAME\" wifi-sec.key-mgmt wpa-psk nmcli con modify \"$CON_NAME\" wifi-sec.psk \"$PASS\" nmcli con up \"$CON_NAME\" } test $mode == \"down\" && { nmcli con down \"$CON_NAME\" nmcli con del type wifi ifname \"$CON_NAME\" } nmcli con show } main() { test \"$1\" == \"-h\" && { cat \"$0\" exit 0 } ap \"${1:-show}\" } main \"$@\" ``` A Better xdg hack \u00a4 Custom xdg-open ftw [2021-08-24 22:07] Xdg is a buggy mess and [everybody](https://vermaden.wordpress.com/2021/04/22/freebsd-desktop-part-24-configuration-universal-file-opener/) knows this. If you don't then cat out `~/.config/mimeapps.list` and ask yourself again... I tried a few hacks in the past to get a simple easily changeable handling for custom schemes and extensions into the game, w/o screwing up the system and/or having to provide handlers for each and any of these hundreds of file types. Wrong was to overlay `xdg-query` or `xdg-mime`. Right seems, as simple as it sounds, to just provide an `~/bin/xdg-open`, which when none of your custom scheme and/or extensions and/or file criterions are met, just does this at the end `/usr/bin/xdg-open \"$@\"`. Now I can have e.g. my `edit_uri: editor:///home/gk/repos/blog/docs`, w/o having to bypass browser security, which I would, with a `file://...` handler, xdg-open gets the editor scheme. Or, add indirections, like `edit_uri: editor://$repos/docutools/docs`, only resolved in the custom `xdg-run`. And all of this w/o the need to further blow up `./config/mimeapps` or create any stupid `.desktop` files , with just one info, the app to open, burried in 100 lines of foo. btrfs, timeshift, fedora, encryption, ... \u00a4 Willi Mutschler's blog: timeshift co-author with a great variety of linux subjects [2021-08-22 17:48] He is not only providing super infos about timeshift but about many distros, incl. fedora in general. !!! note \"Apropos btrfs\" finally understand why my used diskpace is so low, during the reading process: UUID=4a9240a1-ee59-403f-b775-e18b67d8ac2e /home btrfs subvol=home,compress=zstd:1,x-systemd.device-timeout=0 0 0 compress....:sunglasses: - maybe it actually means: [**compress**](https://fedoramagazine.org/fedora-workstation-34-feature-focus-btrfs-transparent-compression/) :smile: [This](https://fedoramagazine.org/recover-your-files-from-btrfs-snapshots/) is a good btrfs resource as well Overriding Specific Colors \u00a4 Keeping the colorscheme, using hi link [2021-08-22 10:33] The lsp errors can get really distracting, especially when you refactor: [![./img/lspcolors.png](./img/lspcolors.png)](./img/lspcolors.png) In my most like deep-space scheme it was even heftier, bright green messages spamming me. So I first found out the name of the items, see the note below. Then tried to set it via the normal `hi LspDiagnosticsHint guifg=grey` in `init.vim`, after loading the scheme. But to no avail the items did not change color. *Maybe the colors area loaded async or sth else is setting the colorscheme again afterwards, I did not check* But what did work and is anyway even better, because taking the colors of the scheme is using `link`: ```vim nnoremap <M-enter> :luafile ~/.config/nvim/lua/colorpicker.lua<CR> \" Written by the colorpicker: source ~/.config/nvim/cur_colorscheme.vim \" the diagnostic mesgs should be rather unobstrusive, LineNrs are: :hi def link LspDiagnosticsVirtualTextError LineNr :hi def link LspDiagnosticsDefaultHint LineNr ``` !!! note \"Apropos vim colors\" With a few plugins you easily get over a 1000(!) different coloritems in the output of `:hi` (hilight). Better to find out a specific one you need to override via `:so $VIMRUNTIME/syntax/hitest.vim` evtest for Better Input Tracing \u00a4 Better than xev for many use cases [2021-08-21 13:07] See this pyright error anlysis \u00a4 Know the lsp log [2021-08-20 07:09] Pyright consistently ignored the pyproject.toml settings - pyrightconfig.json worked. This showed the reason: ```bash $ tail -f .cache/nvim/lsp.log [ WARN ] 2021-08-20T09:08:21+0200 ] ....axYdu21/usr/share/nvim/runtime/lua/vim/lsp/handlers.lua:108 ] \"The language server pyright triggers a registerCapability handler despite dynamicRegistration set to false. Report upstream, this warning is harmless\" [ ERROR ] 2021-08-20T09:08:21+0200 ] ....axYdu21/usr/share/nvim/runtime/lua/vim/lsp/handlers.lua:402 ] 'Pyproject file parse attempt 1 error: {\"name\":\"TomlError\",\"fromTOML\":true,\"wrapped\":null,\"line\":117,\"col\":0,\"pos\":3496}' ``` !!! note \"Apropos pyright\" vim: e.g.: `:PyrightOrganizeImports` pyright allows users to configure settings in four ways: - Through command-line options - Through LSP client settings (including user-specific, project-specific and workspace-specific overrides) - A dedicated pyrightconfig.json configuration file (meanwhile also pp.toml) - File-specific overrides in the form of # pyright comments Sample [config](https://github.com/microsoft/pyright/blob/main/docs/configuration.md): ```toml [tool.pyright] # include = [\"src\"] # pythonVersion = \"3.8\" reportSelfClsParameterName = false pythonPlatform = \"Linux\" executionEnvironments = [{ root = \"src\" }] typeCheckingMode = \"off\" ``` theirs: ```toml [tool.pyright] include = [\"src\"] exclude = [\"**/node_modules\", \"**/__pycache__\", \"src/experimental\", \"src/typestubs\" ] ignore = [\"src/oldstuff\"] stubPath = \"src/stubs\" venv = \"env367\" reportMissingImports = true reportMissingTypeStubs = false pythonVersion = \"3.6\" pythonPlatform = \"Linux\" executionEnvironments = [ { root = \"src/web\", pythonVersion = \"3.5\", pythonPlatform = \"Windows\", extraPaths = [ \"src/service_libs\" ] }, { root = \"src/sdk\", pythonVersion = \"3.0\", extraPaths = [ \"src/backend\" ] }, { root = \"src/tests\", extraPaths = [\"src/tests/e2e\", \"src/sdk\" ]}, { root = \"src\" } ] ``` Ultisnips Programmatically Created \u00a4 dynamically creating the ultisnips body itself [2021-08-19 17:38] This is really neat: I can define tags in the environ and ulti shows them to me, per project basically: global !p def create_tag(snip): tags = [x.strip() for x in os.environ.get('tags', '<no $tags>').split(',')] snip.expand_anon(\":${1|%s|}:$0\" % ','.join(tags)) def position_cursor(snip): snip.cursor.set(snip.line, snip.column+1) endglobal post_jump \"create_tag(snip)\" snippet tag \"Add a tag exported in $tags\" w endsnippet ``` ### :fe: Mixing CSS layouts ??? success \"Always invest in extra tags...\" [2021-08-19 1:34] Timesucker of the evening was the (finally succesfull) attempt to add parent links to the navigation plugin in the mkdocs footer. ![](./img/next.png) (from https://github.com/PleatMan/mkdocs-tree-title, which I found useful - but I wanted those **linked** to the pages, i.e. behaving like a real breadcrumb system...) Cannot be that hard, so I thought... BUT: !!! note A feature of mkdocs is the footer having two huge linked areas, one for prev one for next. Big feature, its really convenient for mouse pushing users to not have to target the exact word... How to get both, i.e. next on the big area *EXCEPT* when clicking on a parent title exactly? Original footer, simplyfied: ```html ~/mi/en/docutools_py37/l/py/si/mkdocs \u276f cat themes/readthedocs/footer.html {% if page.next_page %} <a href=\"{{ page.next_page.url | url }}\" title=\"{{ page.next_page.title | striptags }}\" class=\"md-footer-nav__link md-footer-nav__link--next\" rel=\"next\"> <div class=\"md-footer-nav__title\"> <div class=\"md-ellipsis\"> <span class=\"md-footer-nav__direction\"> {{ lang.t(\"footer.next\") }} </span> {{ page.next_page.title }} </div> </div> <div class=\"md-footer-nav__button md-icon\"> </div> </a> {% endif %} ``` The tree title plugin basically replaces the string `.title` in `{{ page.next_page.title }}` with `page.tree_title`, being set within the plugin for each page, like that: ??? note \"original plugin code\" ```python def on_pre_page(self, page, config, files): # skip if pages are not yet included in the mkdocs config file if not page.title: return page join_str = self.config['join_string'] if page.ancestors: tree_titles = [x.title for x in page.ancestors[::-1]] + [page.title] page.tree_title = join_str.join(tree_titles) else: page.tree_title = page.title return page ``` Simple. So we extended the plugin to not set a string but a list of `[[title parent1, url1],(...)]`, and created the links in a jinja loop over that. Did only partially work, clear, the links are nested within the big a. The titles themselves where shown, clear. *Removing the a screwed up the page, since it had important formatting classes, e.g. float - and flex via CSS.* Replacing the `<a classes>` with `<div classes>` did work, formatting wise. But: the big links where gone. I tried to add click handlers to the parents via javascript but to no avail, within one big `<a>` tag... !!! note It *may* work, if you remove the enclosing a tag and loop over any child element of the replacement div, attaching click handlers, while stopping bubbling up in the inner ones. Sounded like a nightmare. Was that not possible in CSS/HTML alone? Answer: Not really, nesting links is simply forbidden. !!! quote \"W3\" Links and anchors defined by the A element must not be nested; an A element must not contain any other A elements. Since the DTD defines the LINK element to be empty, LINK elements may not be nested either. What to do. ??? success \"Link Nesting IS Possible, with HTML5 w/o JS\" Here the solution for the link nesting problem: ```html <div class=\"block\"> <a class=\"overlay\" href=\"#overlay-link\"></a> <div class=\"inner\"> This entire box is a hyperlink. (Kind of)<br><br><br><br> <a href=\"#inner-link\">I'm a W3C compliant hyperlink inside that box</a> </div> </div> ``` ```css .block { position:relative; } .block .overlay { position:absolute; left:0; top:0; bottom:0; right:0; } .block .inner { position:relative; pointer-events: none; z-index: 1; } .block .inner a { pointer-events: all; } ``` Key is the CSS HTML5 access to pointer events. But now the real nightmare started. We have original CSS with float and flex layout - and need to mix with classic box model layout. All attempts to combine using the same tags failed miserably and in strange ways. Solution is really to strictly invest one tag per styling philosophy: ```html {% endif %} {% if page.next_page %} <div class=\"md-footer-nav__link md-footer-nav__link--next\"> <div class=\"overlay_block\"> <a class=\"overlay_link\" href=\"{{ page.next_page.url | url }}\" rel=\"next\" ></a> <div class=\"overlay_inner\"> <div class=\"md-footer-nav__title\"> <div class=\"md-ellipsis\"> <span class=\"md-footer-nav__direction\"> {{ lang.t(\"footer.next\") }} </span> {% for p in page.next_page.parent_links %} <a href=\"{{p[1]}}\"> {% if loop.last %} {{ p[0] }} {% else %} <small>{{ p[0] }}</small> - {% endif %} </a> {% endfor %} </div> </div> </div> </div> <div style=\"margin-left: -2rem\" class=\"md-footer-nav__button md-icon\"> {% include \".icons/material/arrow-right.svg\" %} </div> </div> <style> .overlay_block { position: relative; width: 100%; } .overlay_block .overlay_link { position: absolute; left: 0; top: 0; bottom: 0; right: 0; } .overlay_block .overlay_inner { position: relative; pointer-events: none; z-index: 1; } .overlay_block .overlay_inner a { pointer-events: all; } </style> {% endif %} ``` And now it all works nicely, as you can see in this blog :sunglasses:. ### :vim: [nginx.vim](https://github.com/chr4/nginx.vim): nginx conf highlighter ??? tip \"Nice syntax highlighter with lua support\" [2021-08-19 08:29] [![img/nginx.vim.png](img/nginx.vim.png)](img/nginx.vim.png) ### :python: poetry plugin entrypoints ??? danger \"How to make them be found\" [2021-08-18 14:49] Took me a while to find out how to get an entrypoint working which is contained in the repo under development. Not talking of a script, that's clear: `tool.poetry.scripts` but of a plugin: ```toml [tool.poetry.plugins.\"mkdocs.plugins\"] \"page-tree\" = \"lcdoc.mkdocs.page_tree:PageTreePlugin\" ``` analogue to setup.py's ```python entry_points={ 'mkdocs.plugins': [ 'tree-title = mkdocs_tree_title.plugin:TreeTitlePlugin' ] } ``` Both create sth like: ```ini ~/mi/en/docutools_py37/l/py/site-packages \u276f cat docutools-2021.8.10.dist-info/entry_points.txt [console_scripts] doc=devapp.plugin_tools:main [mkdocs.plugins] page-tree=lcdoc.mkdocs.page_tree:PageTreePlugin ``` But the plugin was not found by mkdocs, even after rm poetry.lock -> poetry install. Resolution: There was an old `<projectroot>.venv` folder around, with an (empty) site-packages, which poetry preferred to look for such entry_points.txt files. After removing it all worked after a new `poetry install` (not update, not required), those python entryponits are, like scripts, installed by `poetry install`. ### :vi: :chrome: [vimium-c](https://github.com/gdh1995/vimium-c/wiki) Rocks ??? tip \"`cd-`: like in shell, `T`\" [2021-08-18 12:41] The vimium-c guy has strong political [opinions](https://github.com/gdh1995/vimium-c/issues/359). Well maybe he is right, who am I to judge. In any case, his extension is the best \"vimifier\". Examples: - `T`: Lets you search thru open tabs. - Hotkey defs like `cd-` - (...) === \"My Current Non Default Mappings\" ```ini unmap h unmap l map h goBack map l goForward map cd- visitPreviousTab ``` === \"All Commands\" All available commands in Vimium C (up to v1.89.1). The list of available options can be seen in `CmdOptions` (for most frontend commands) of [types/messages.d.ts#CmdOptions](https://github.com/gdh1995/vimium-c/blob/master/typings/messages.d.ts#:~:text=interface%20CmdOptions) and `BgCmdOptions` (for other commands) of [background/typed_commands.d.ts](https://github.com/gdh1995/vimium-c/blob/master/background/typed_commands.d.ts). ``` json [ \"LinkHints.activate\", \"LinkHints.activateMode\", \"LinkHints.activateModeToCopyLinkText\", \"LinkHints.activateModeToCopyLinkUrl\", \"LinkHints.activateModeToDownloadImage\", \"LinkHints.activateModeToDownloadLink\", \"LinkHints.activateModeToEdit\", \"LinkHints.activateModeToHover\", \"LinkHints.activateModeToLeave\", \"LinkHints.activateModeToUnhover\", \"LinkHints.activateModeToOpenImage\", \"LinkHints.activateModeToOpenIncognito\", \"LinkHints.activateModeToOpenInNewForegroundTab\", \"LinkHints.activateModeToOpenInNewTab\", \"LinkHints.activateModeToOpenVomnibar\", \"LinkHints.activateModeToSearchLinkText\", \"LinkHints.activateModeToSelect\", \"LinkHints.activateModeWithQueue\", \"LinkHints.click\", \"LinkHints.unhoverLast\", \"Marks.activate\", \"Marks.activateCreateMode\", \"Marks.activateGotoMode\", \"Marks.clearGlobal\", \"Marks.clearLocal\", \"Vomnibar.activate\", \"Vomnibar.activateBookmarks\", \"Vomnibar.activateBookmarksInNewTab\", \"Vomnibar.activateEditUrl\", \"Vomnibar.activateEditUrlInNewTab\", \"Vomnibar.activateHistory\", \"Vomnibar.activateHistoryInNewTab\", \"Vomnibar.activateInNewTab\", \"Vomnibar.activateTabSelection\", \"Vomnibar.activateUrl\", \"Vomnibar.activateUrlInNewTab\", \"addBookmark\", \"autoCopy\", \"autoOpen\", \"blank\", \"clearCS\", \"clearFindHistory\", \"closeDownloadBar\", \"closeOtherTabs\", \"closeTabsOnLeft\", \"closeTabsOnRight\", \"captureTab\", \"copyCurrentTitle\", \"copyCurrentUrl\", \"copyWindowInfo\", \"createTab\", \"debugBackground\", \"discardTab\", \"duplicateTab\", \"editText\", \"enableCSTemp\", \"enterFindMode\", \"enterInsertMode\", \"enterVisualLineMode\", \"enterVisualMode\", \"firstTab\", \"focusInput\", \"focusOrLaunch\", \"goBack\", \"goForward\", \"goNext\", \"goPrevious\", \"goToRoot\", \"goUp\", \"joinTabs\", \"lastTab\", \"mainFrame\", \"moveTabLeft\", \"moveTabRight\", \"moveTabToIncognito\", \"moveTabToNewWindow\", \"moveTabToNextWindow\", \"newTab\", \"nextFrame\", \"nextTab\", \"openCopiedUrlInCurrentTab\", \"openCopiedUrlInNewTab\", \"openUrl\", \"parentFrame\", \"passNextKey\", \"performAnotherFind\", \"performBackwardsFind\", \"performFind\", \"previousTab\", \"quickNext\", \"reload\", \"reloadGivenTab\", \"reloadTab\", \"removeRightTab\", \"removeTab\", \"reopenTab\", \"reset\", \"restoreGivenTab\", \"restoreTab\", \"runKey\", \"scrollDown\", \"scrollFullPageDown\", \"scrollFullPageUp\", \"scrollLeft\", \"scrollPageDown\", \"scrollPageUp\", \"scrollPxDown\", \"scrollPxLeft\", \"scrollPxRight\", \"scrollPxUp\", \"scrollRight\", \"scrollSelect\", \"scrollTo\", \"scrollToBottom\", \"scrollToLeft\", \"scrollToRight\", \"scrollToTop\", \"scrollUp\", \"searchAs\", \"searchInAnother\", \"sendToExtension\", \"showHelp\", \"showTip\", \"simBackspace\", \"sortTabs\", \"switchFocus\", \"toggleCS\", \"toggleLinkHintCharacters\", \"toggleMuteTab\", \"togglePinTab\", \"toggleStyle\", \"toggleSwitchTemp\", \"toggleViewSource\", \"toggleReaderMode\", \"toggleVomnibarStyle\", \"visitPreviousTab\", \"zoomIn\", \"zoomOut\", \"zoomReset\", ] ``` ### :terminal: ZSH: global aliases ??? success \"`ps ax pg foo`, `cat foo pclip`, ...\" [2021-08-18 07:17] Those work within commands: `bash alias -g pg='| grep -i ' alias -g pclip='| xclip -i -selection clipboard' ` Then ```bash $ cat foo pclip # and you have it in the clipboard $ ps ax pg node 1215 ? Ss 0:00 fusermount -o rw,nosuid,nodev,fsname=portal,auto_unmount,subtype=portal -- /run/user/1000/doc ``` ### :terminal: ZSH: better `type` ??? success \"shows where function is defined\" [2021-08-18 07:20] === \"zsh\" man zshbuiltins ```bash hl_lines=\"2\" ~/mi/en/b/l/py/si/mkdocs \u276f type gomod gomod is a shell function from /home/gk/.bashrc-personal ~/mi/en/b/l/py/si/mkdocs \u276f type -f gomod gomod () { local mod=\"${1:-os}\" local l=\"$(python -c \"import os, $mod;print(os.path.dirname($mod.__file__))\")\" cd \"$l\" pwd } ``` === \"bash\" ```bash [gk@axgk mkdocs]$ type gomod gomod is a function gomod () { local l=\"$(python -c \"import os, $mod;print(os.path.dirname($mod.__file__))\")\" cd \"$l\"; pwd } ``` But [where is it defined](https://askubuntu.com/questions/1146269/how-can-i-find-where-certain-bash-function-is-defined)?! ### :cloud: [Nuclio](https://nuclio.io/docs/latest/setup/k8s/getting-started-k8s/) FaaS ??? question \"New kid on the block in FAAS land\" [2021-08-18 01:14] See [here](https://github.com/nuclio/nuclio) - found in [this](https://imhotep.io/istio/faas/2018/02/23/combing-lambdas.html) blog of the k9s guy... ### :vi: Ultisnips config: No lua ??? danger \"configure in init.vim not in lua\" [2021-08-18 00:55] See [ultisnips page](./ll/vim/ultisnips.md) ### :linux: [`kmcaster`](https://github.com/DaveJarvis/kmcaster/) ??? tip \"Best screenkey recorder\" [2021-08-17 00:55] ![](img/kmcaster.gif) ### :linux: openjdk install ??? note \"Per App / Non Global\" [2021-08-17 11:09] ```mk_console sudo yum -y install curl curl -O https://download.java.net/java/GA/jdk14/076bab302c7b4508975440c56f6cc26a/36/GPL/openjdk-14_linux-x64_bin.tar.gz tar xvf openjdk-14_linux-x64_bin.tar.gz sudo mv jdk-14 /opt/ ``` Unlike [here](https://computingforgeeks.com/install-oracle-java-openjdk-14-on-centosfedora-linux/) we don't export set any profiles in /etc/profile.d for this but use it per app like: `alias screenkeyjs='/opt/jdk-14/bin/java -jar /home/gk/inst/kmcaster.jar -d 60'` ### :linux: gpg-agent cache timeout ??? tip \"Avoiding popups every minute\" [2021-08-17 10:34] After a fedora security update I got an annoyingly short gpg timeout for the pass utility. Fix: ```bash \u276f cat /home/gk/.gnupg/gpg-agent.conf default-cache-ttl 7200 ``` and `systemctl --user restart gpg-agent` ### :linux: Grub: See the system booting ??? tip \"Using grubby\" [2021-08-16 10:34] On Fedora34 fiddling with removing `quiet` and `rhgb`, then grub2-mkconfig did not work, guess I was \"holding it wrong\". [This](https://docs.fedoraproject.org/en-US/fedora/rawhide/system-administrators-guide/kernel-module-driver-configuration/Working_with_the_GRUB_2_Boot_Loader/) helped, use RedHat's grubby. ```bash grubby --default-kernel grubby --remove-args=\"rhgb quiet\" --update-kernel /boot/vmlinuz-5.13.8-200.fc34.x86_64 ``` No mkconfig necessary. !!! warning Do **not** add console=tty... as suggested in the example in the tutorial - I had no output anymore ### :vi: Filedir in galaxyline ??? success \"Lua Hack: Displaying parent dir\" [2021-08-11 18:00] Seeing only index.md in the statusline on multiple markdown files is not really cool. galaxyline allows functions: Fixed, with embarrassingly low lua skills, we see the first parent directory level now, enough in most cases for unique file identification: === \"Result\" The directory is shown: ![](img/galaxyline.png) === \"Code\" ```lua gls.left[5] = { FileDir = { provider = function() local fn = vim.fn.expand(\"%:p\") local fn, a = string.match(fn, \"(.*)%/(.*)\") local a, fn = string.match(fn, \"(.*)%/(.*)\") return fn .. \"/\" end, condition = condition.buffer_not_empty, highlight = {colors.fg, colors.bg} } } gls.left[6] = { FileName = { provider = function() local fn = vim.fn.expand(\"%:p\") local a, b = string.match(fn, \"(.*)%/(.*)\") return b .. \" \" end, condition = condition.buffer_not_empty, highlight = {colors.magenta, colors.bg, \"bold\"} } } ``` ### :vi: Lost content on file save ??? danger \"Formatter misinterprets files named '-'\" [2021-08-11 12:59] Crazy nvim bug/config problem(?): **You edit a file, write, content gone**. Especially when write+quitting this can kill your day. Reason: If you managed to create a file with name '-' (a single dash) - then the formatter (run on write by nvim) sees this obviously as input and changes the buffer accordingly. Solution: Delete the file, all works again: `rm -- -` ### :chrome: Edge Browser ??? tip \"Meanwhile my default\" [2021-08-11 12:38] Politics aside but **Microsoft Edge**/Linux seems currently the technical best browser for me. FF is anyway totally [political](https://blog.mozilla.org/en/mozilla/we-need-more-than-deplatforming/) meanwhile as well ### :linux: pipewire -> pulse ??? info \"Avoid problems with old config / alsamixer is great\" [2021-05-01 11:37] Fedora 34 fresh. Sound: Remove pipewire like described by fedora - then removed old .config/pulse(! (from arch times)). `systemctl --user restart pulseaudio` -> alsamixer worked, could connect, the rest as well ### :vi: Appimage ??? tip \"Best sandbox for newest versions\" [2021-02-11 12:36] nvim: Do not install the package mgr version on a stable distro, nvims' dev speed is crazy (e.g. lua support) - the app image (from their github) works perfect. /home/gk/inst/nvim.appimage README.md ``` typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"\u270f\ufe0f  LOG"},{"location":"logbook/#logbook","text":"shorts: https://gist.github.com/vfarcic/e593ff9fa1a34d286e4b7f739bf47bc2 https://www.bing.com/videos/search?q=argocd+install&docid=608019442253525319&mid=A636CCDBDF44CC1E58EBA636CCDBDF44CC1E58EB&view=detail&FORM=VIRE https://www.whatsmydns.net/#SOA/axlc.net dynu change nameservers: https://www.dynu.com/en-US/ControlPanel/DomainRegistrationNameServer?ATVPDKIKX0DER=SQBEAD0ANwAzADUANwA5ADQAMAA%7C","title":"Logbook"},{"location":"logbook/#using-fontpatcher","text":"Gettting [2023-04-23 20:10] \"Patching\" means: Adding all the icons to a font. 1. You can download a fully patched font Download one from here: https://www.nerdfonts.com/font-downloads , unzip, move to .local/share/fonts, run fc-cache , then it should occur in fc-list . Then pick it e.g. in Alacritty config: #family: \"CaskaydiaCove Nerd Font Mono\" (alacritty applies after save, nice) I have Comic Code, i.e. I need to patch an existing font. sudo dnf install fontforge (and set PATH to my system python) -> Download patcher from here https://www.nerdfonts.com/#home for k in /home/gk/.local/share/fonts/ComicCode/*.otf; do echo \"$k\"; ./font-patcher --fontawesome --fontawesomeextension --fontlogos --octicons --codicons --powersymbols --pomicons --powerline --powerlineextra --material --weather \"$k\"; done Then move resulting patched fonts over: `mv Comic* $HOME/.local/share/fonts/ComicCode/ (and select in Alacritty)","title":"Using FontPatcher"},{"location":"logbook/#intercepting-all-xhr-going-on","text":"Also [2023-01-03 20:10] ```javascript var open = window.XMLHttpRequest.prototype.open; var send = window.XMLHttpRequest.prototype.send; function openReplacement(method, url, async, user, password) { this._url = url; console.log('opening ', arguments) return open.apply(this, arguments); } function sendReplacement(data) { if (this.onreadystatechange) { this._onreadystatechange = this.onreadystatechange; } this.onreadystatechange = onReadyStateChangeReplacement; return send.apply(this, arguments); } function onReadyStateChangeReplacement() { if (this.readyState == 4) { console.log('this', JSON.parse(this.response)[\"content\"]) } if (this._onreadystatechange) { return this._onreadystatechange.apply(this, arguments); } } window.XMLHttpRequest.prototype.open = openReplacement; window.XMLHttpRequest.prototype.send = sendReplacement; ```","title":" Intercepting ALL XHR going on"},{"location":"logbook/#dwm-all-vertical-layout","text":"Based [2022-12-09 20:10] This keeps the slaves all vertical and moves out when < 500px wide ``` void col(Monitor *m) { unsigned int i, n, h, w, x, w1, x1, y, mw; Client *c; for (n = 0, c = nexttiled(m->clients); c; c = nexttiled(c->next), n++) ; if (n == 0) return; w1 = 0; x1 = 0; if (n > m->nmaster) mw = m->nmaster ? m->ww * m->mfact : 0; else mw = m->ww; for (i = x = y = 0, c = nexttiled(m->clients); c; c = nexttiled(c->next), i++) { if (i < m->nmaster) { // masters come first w = (mw - x) / (MIN(n, m->nmaster) - i); resize(c, x + m->wx, m->wy, w - (2 * c->bw), m->wh - (2 * c->bw), False); x += WIDTH(c); x1 = x; } else { w1 = m->ww - x1 - (2 * c->bw); // fprintf(stderr, \"dwm: %d %d %d\\n\", w1, n, m->nmaster); // effects in a min. width and then move out the rightes window from the // screen: w1 = MAX(500, w1 / (n - m->nmaster)) - (2 * c->bw); resize(c, x + m->wx, m->wy + y, w1, m->wh - (2 * c->bw), False); x += WIDTH(c); } } } ```","title":" dwm all vertical layout"},{"location":"logbook/#ccc-is-this-guy-for-real","text":"Optical inspection of ROM to get to the data?! - WTF?! [2022-04-10 18:00] https://youtu.be/lhbSD1Jba0Q?t=1355 ![](./img/optical_chip_anal.png) [Oliver Koemmerling...](https://taz.de/Vorwuerfe-gegen-Murdochs-Unternehmen/!5097441/) https://youtu.be/lhbSD1Jba0Q?t=1355 Background: I started my \"career\" at Siemens in the Chip Quality department. We had a big lab, with all sorts of microscopes. But reading out the ROM *optically*, that is unheard of...","title":"CCC: Is this guy for real?"},{"location":"logbook/#autokey-types-stuff-into-xwindows","text":"Away with xdotool type [2022-03-21 20:10] Start `autokey-gtk` in dwm autostart.sh -> systray icon or Super-k brings up Editor. [FAQ](https://github.com/autokey/autokey/wiki/FAQ) Can be pip installed, it's python :-) The dates here have been entered via alt-d bound to: ```python ~ \u276f cat .config/autokey/data/My\\ Phrases/Insert\\ Date.py output = system.exec_command(\"date -u '+%+2Y-%m-%d %H:%M'\") keyboard.send_keys('[%s] ' % output) ``` ```json ~/.config/autokey/data/My Phrases \u276f cat .Insert\\ Date.json 6s { \"type\": \"script\", \"description\": \"Insert Date\", \"store\": {}, \"modes\": [ 3 ], \"usageCount\": 6, \"prompt\": false, \"omitTrigger\": false, \"showInTrayMenu\": false, \"abbreviation\": { \"abbreviations\": [], \"backspace\": true, \"ignoreCase\": false, \"immediate\": false, \"triggerInside\": false, \"wordChars\": \"[\\\\w]\" }, \"hotkey\": { \"modifiers\": [ \"<alt>\" ], \"hotKey\": \"d\" }, \"filter\": { \"regex\": null, \"isRecursive\": false } } ```","title":" AutoKey: Types stuff into XWindows"},{"location":"logbook/#install-on-new-fedora","text":"nvim: some hassle with lsb to solve [2022-03-01 04:18] 1. python -m venv .venv/nvim, there pip install neovim 1. user install node, put in path, there node i -g neovim 1. Fix lsp incompat problems See https://jdhao.github.io/2021/12/01/nvim_v06_released/ (also see .cache/nvim/lsb.log) 1. Remove octo plugin (too much foo) 1. rg over .config/nvim and .local/share/nvim to find those deprecated lua calls. :checkhealth provider","title":" Install on new Fedora"},{"location":"logbook/#thunderbird-compose-plaintext-mails","text":"Hold Shift while clicking Reply or New [2022-02-08 14:32] Not obvious, no mouse over tooltip - you simply have to know it. All hotkeys here: https://support.mozilla.org/en-US/kb/keyboard-shortcuts-thunderbird?redirectslug=keyboard-shortcuts&redirectlocale=en-US#w_writing-messages","title":"Thunderbird Compose Plaintext Mails"},{"location":"logbook/#common-image-operations-on-the-cli","text":"Not everything requires Gimp [2022-01-13 22:03] Gimp is overkill for these - also automation possibilities, within scripts: === \"Add alpha channel to png (make transparent)\" ```bash ~ \u276f cat bin/add-alpha.sh #!/usr/bin/env bash # Removes the background (makes transparent) # https://stackoverflow.com/a/44542839/4583360 orig=\"/tmp/img_orig.png\" main() { img=\"$1\" test -e \"$img\" || { echo \"Image file missing: $img\" exit 1 } shift test -n \"$1\" && { bgcol=\"$1\" shift } || bgcol=\"white\" test -n \"$1\" && { fuzz=\"$1\" shift } || fuzz=\"2%\" rm -f \"$orig\" mv \"$img\" \"$orig\" convert \"$orig\" -fuzz \"$fuzz\" -transparent \"$bgcol\" \"$img\" feh --class HUD \"$img\" & echo \"Alpha added: $img. Original image at $orig.\" } main \"$@\" ``` === \"Resize SVG Canvas to Image Size\" inkscape --batch-process --verb \"EditSelectAll;FitCanvasToSelection;FileSave;FileQuit\" filename.svg","title":" Common Image Operations On the CLI"},{"location":"logbook/#first-steps-on-a-tv-api","text":"Trying to Remote Control a Samsung Q8 [2022-01-09 22:13] Own Article [here](./ll/devices/tv_q8.md)","title":" First Steps on a TV API"},{"location":"logbook/#re-enabling-vlc-for-youtube-streaming","text":"Updating Youtube Streaming [2021-12-26 17:46] YT seems not very fond of clients outside the browser, addlessly streaming their stuff. Noticed in MPV massive throttling and vlc ran into: ``` [00007fb1744fe6d0] lua stream error: Couldn't process youtube video URL, please check for updates to this script [00007fb1744e2a10] access stream error: HTTP 403 error ``` Fix (as root): ```bash [root@axgk playlist]# pwd /usr/lib64/vlc/lua/playlist [root@axgk playlist]# mv youtube.luac /tmp/ [root@axgk playlist]# wget https://raw.githubusercontent.com/videolan/vlc/master/share/lua/playlist/youtube.lua ~ \u276f vlc \"https://www.youtube.com/watch?v=El90OBILFBw\" ``` No luac(ompile) needed, vlc now plays the stream w/o delays (and no adds).","title":" Re-enabling VLC for Youtube Streaming"},{"location":"logbook/#gitty-github-gitlab-repo-status-viewer","text":"All infos you want - but not more [2021-12-16 23:44] gitty is a smart little CLI helper for git projects, that shows you all the relevant issues, pull requests and changes at a quick glance, right on the command-line. It currently supports the GitHub & GitLab APIs. Just call gitty in a repo folder (or on a url) and you have the infos. Also works with multiple repos","title":" gitty: github &amp; gitlab Repo Status Viewer"},{"location":"logbook/#hacking-on-the-wire-api","text":"Getting the login right [2021-11-02 23:28] The login process in wire's API docs is outdated. Here a working login, with access to all API endpoints: !!! danger Only problem: `{\"code\":429,\"message\":\"Logins too frequent\",\"label\":\"client-error\"}` after many attempts. - No more browser logins as well(!) - lasting, also the next day (try again later). - Resolution: Password reset, then they cleared it. ```python import json, os import sys import requests import structlog passw = lambda s: os.popen('pass show %s' % s).read().strip() L = structlog.get_logger() handle = passw('wire/handle') pw = passw('wire/password') server = 'https://app.wire.com' server = 'https://prod-nginz-https.wire.com' loads = json.loads dumps = json.dumps class S: zuid = None at = None # access_token class U: \"\"\"interesting users\"\"\" class lucy: accent_id = 4 domain = 'wire.com' handle = 'mylucy' id = 'a32e1af9-a93d-a24e-a905-a619f06184c4' name = 'Lucy' team = None def headers(): h = { 'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json;charset=UTF-8', 'Accept-Encoding': 'gzip, deflate, br', 'Accept-Language': 'en-GB,en-US;q=0.9,en;q=0.8,de;q=0.7', 'Connection': 'keep-alive', 'sec-ch-ua': '\"Chromium\";v=\"93\", \" Not;A Brand\";v=\"99\"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': 'Linux', 'Sec-Fetch-Dest': 'empty', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Site': 'same-site', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.99 Safari/537.36', } if S.at: h['Authorization'] = 'Bearer ' + S.at return h def req(pth, data=None, meth='post', **kw): kw = {'headers': headers()} if data: kw['json'] = data # https://docs.wire.com/understand/api-client-perspective/authentication.html#: if S.zuid: kw['cookies'] = {'zuid': S.zuid} m = getattr(requests, meth) r = m(server + pth, **kw) if 'zuid' in r.cookies: S.zuid = r.cookies['zuid'] r = r.text # json?: if r and r[0] in ('{', '['): r = loads(r) if 'access_token' in r: S.at = r['access_token'] return r get = lambda pth, **kw: req(pth, meth='get', **kw) post = lambda pth, **kw: req(pth, meth='post', **kw) # some useful endpoints in general: access = lambda: req('/access') self = lambda: get('/self') search = lambda q: get('/search/contacts?q=' + q) def auth(): r = req('/login?persist=true', data={'handle': handle, 'password': pw}) if not 'user' in r: L.fatal('Login error', **r) sys.exit(1) S.user = r['user'] L.info('Profile', **self()) def main(): auth() conv = get('/conversations')['conversations'] # find a converstation: conv = [k for k in conv if 'Lucy' in str(k)] cnv_domain = 'wire.com' cnv = conv['id'] conv = get(f'/conversations/{cnv_domain}/{cnv}') if __name__ == '__main__': main() ```","title":" Hacking On the Wire API"},{"location":"logbook/#conversations-to-pdf-in-wire-chat","text":"A strange failure [2021-11-02 23:32] Here is the docker based pdf exporter, exporting a backup file created via their UI: ```bash ~ \u276f cat r.sh #!/usr/bin/env bash podman run --rm -it \\ --privileged \\ -v /home/gk/foo/gk.desktop_wbu:/app/database-in \\ -v /home/gk/bar:/app/database-out \\ -e CLIENT_TYPE=web \\ -e WIRE_USER=$(pass show wire/handle)@wire.com \\ -e WIRE_PASSWORD=$(pass show wire/password) \\ quay.io/wire/backup-export-tool:2.0.0 ``` Problem: Fails with ```bash ~ \u276f ./r.sh 5h 41m 43s Backup to PDF converter version: null Processing backup: Device: xxxxxxxxxxx User: xxxxxxx id: xxxxxxxxxxx created: 2021-11-02T18:10:08.402Z platform: Web version: 16 Directories had to be created: false com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.UUID` from Object value (token `JsonToken.START_OBJECT`) at [Source: (File); line: 1, column: 978921] (through reference chain: java.lang.Object[][1965]->com.wire.backups.exports.exporters.DesktopExporter$Event[\"data\"]->com.wire.backups.exports.exporters.DesktopExporter$Data[\"userIds\"]->java.util.ArrayList[0]) at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63) at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1590) (...) ```","title":" Conversations to pdf in wire chat"},{"location":"logbook/#homeassistant","text":"Interesting Tool [2021-09-16 09:29] https://demo.home-assistant.io/#/lovelace/0 https://www.awesome-ha.com/#themes","title":" HomeAssistant"},{"location":"logbook/#interesting-mkdocs-plugins","text":"Scanning the mkdocs wiki [2021-09-15 22:28] mike Multiple version of documentation in gh-pages branch (major.minor) - simple markdown extraction from source files - tags creates a tags page from yaml metadata in pages - autorefs finds header slugs and allows to link to them w/o specyfying the page itself. There are many other such links easing plugins. - htmlproofer Validates internal and external links in rendered html","title":" Interesting mkdocs Plugins"},{"location":"logbook/#tfl-tips","text":"Just some random notes I try push into my head by writing them [2021-09-09 02:08] - Pretty much forget `echo` printf -v >> echo I got reminded about printf and I admit I've done this *a lot* (left side): [![./img/printf.png](./img/printf.png)](./img/printf.png) - `<` instead `cat`: myhosts=\"$(< /etc/hosts)\"","title":" TFL Tips"},{"location":"logbook/#st-no-more-crashes-on-color-emojjs","text":"Patching libxft [2021-09-09 01:56] Details here","title":" ST No more crashes on color emojjs"},{"location":"logbook/#storing-last-edit-position","text":"All plugins replaceable by one line [2021-09-08 10:56] Tried: ```lua --use \"farmergreg/vim-lastplace\" --use \"vim-scripts/restore_view.vim\" ``` and all have their bugs, like storing and restoring wrong cwd, so that fzf failed opening files - with now apparent reason. This single line does exactly what I want - and not more: ```vim \" go to the position I was when last editing the file au BufReadPost * if line(\"'\\\"\") > 0 && line(\"'\\\"\") <= line(\"$\") | exe \"normal g'\\\"\" | endif ```","title":" Storing last edit position"},{"location":"logbook/#bye-bye-travis-github-actions-ftw","text":"I spent a chapter about that... GH delivers - Also on CI [2021-09-07 01:19] Ok after further travis trouble with a CI related problem (tmux did not react fast enough, need a delay - no reproducable in local ubuntu container) I began to check if the error was happening using another CI tool. GH actions was anyway on the list since long. Compare: https://docs.github.com/en/actions/learn-github-actions/migrating-from-travis-ci-to-github-actions Verdict: Totally rocks. The error was also there in GH, but here I could find and fix it within a few minutes, since the turnaround times are that short. Plus...I mean: Alone the frontend...: [![./img/ghact.png](./img/ghact.png)](./img/ghact.png) Plus you can cache away your venvs, which would save another 40 secs for poetry install. So, bye bye travis... you should have focussed on *features* - and not an bullsh like that... maybe? ??? note \"So woke...\" [![./img/pride.png](./img/pride.png)](./img/pride.png) Lastly, to be fair: They contributed a lot, they were the first to offer CI for free: https://www.jeffgeerling.com/blog/2020/travis-cis-new-pricing-plan-threw-wrench-my-open-source-works","title":" Bye bye Travis. Github Actions FTW"},{"location":"logbook/#nail-the-subprocess-shell-executable-always","text":"Ubuntu has dash. And dash sucks [2021-09-06 23:09] - `subprocess.check_output(shell=True)` is using /bin/sh - On Fedora this is linked to bash => you can send bashisms - On Travis all hell breaks loose. Why. After an hour I decided to `podman pull ubuntu:xenial` -> run -> export -> systemd-nspawn into it -> run .travis setup -> run test.` Breaks. Fine. Checking: ```bash root@xenial:~ echo -e \"Hello\" Hello root@xenial:~# python -c 'import os; os.system(\"echo -e Hello\")' -e Hello root@xenial:~# FCKUBUNTU bash: FCKUBUNTU: command not found ``` Solution: **`subprocess.check_output(shell=True, executable='/bin/bash')`**","title":" Nail the subprocess shell executable. Always!"},{"location":"logbook/#travis-how-to-enable","text":"You always need a plan... [2021-09-06 15:09] In their not so new anymore travis.com you need to first select the free plan - not autoselected. Otherwise auth errors. On travis.com: ![](./img/travisplan.png) On github: [![./img/ghtrav.png](./img/ghtrav.png)](./img/ghtrav.png)","title":" Travis: How to enable"},{"location":"logbook/#tmux-best-guide","text":"Very nice and detailed tmux guide [2021-09-04 21:48] https://thevaluable.dev/tmux-config-mouseless/","title":" tmux: Best Guide"},{"location":"logbook/#available-software","text":"Garduda has it all... [2021-09-04 21:48] Mental Outlaw recently did a Garduda review - and their software options seem quite extensive. [check it out](https://youtu.be/_ZCEiFA8ezA?t=700)","title":" Available Software"},{"location":"logbook/#make-a-wlan-accesspoint","text":"Using nmcli - no NetworkManager [2021-09-04 09:05] My Fedora 34 does funnily not use NetworkManager, nmcli was working like a charm: This does the job for now, incl. IP config, no need to install hostapd or anything else, like suggested on [arch wiki](https://aur.archlinux.org/packages/linux-wifi-hotspot/): ```bash ~ \u276f cat bin/wlan_access_point #!/usr/bin/env bash IFNAME=\"wlp109s0\" CON_NAME=\"myhotspot\" PASS=\"<xxx>\" function ap { mode=show case $1 in up) mode=up ;; down) mode=down ;; esac echo \"$CON_NAME $mode\" test $mode == \"up\" && { $0 down nmcli con add type wifi ifname $IFNAME con-name \"$CON_NAME\" autoconnect yes ssid \"$CON_NAME\" nmcli con modify \"$CON_NAME\" 802-11-wireless.mode ap 802-11-wireless.band bg ipv4.method shared nmcli con modify \"$CON_NAME\" wifi-sec.key-mgmt wpa-psk nmcli con modify \"$CON_NAME\" wifi-sec.psk \"$PASS\" nmcli con up \"$CON_NAME\" } test $mode == \"down\" && { nmcli con down \"$CON_NAME\" nmcli con del type wifi ifname \"$CON_NAME\" } nmcli con show } main() { test \"$1\" == \"-h\" && { cat \"$0\" exit 0 } ap \"${1:-show}\" } main \"$@\" ```","title":" Make a WLAN Accesspoint"},{"location":"logbook/#a-better-xdg-hack","text":"Custom xdg-open ftw [2021-08-24 22:07] Xdg is a buggy mess and [everybody](https://vermaden.wordpress.com/2021/04/22/freebsd-desktop-part-24-configuration-universal-file-opener/) knows this. If you don't then cat out `~/.config/mimeapps.list` and ask yourself again... I tried a few hacks in the past to get a simple easily changeable handling for custom schemes and extensions into the game, w/o screwing up the system and/or having to provide handlers for each and any of these hundreds of file types. Wrong was to overlay `xdg-query` or `xdg-mime`. Right seems, as simple as it sounds, to just provide an `~/bin/xdg-open`, which when none of your custom scheme and/or extensions and/or file criterions are met, just does this at the end `/usr/bin/xdg-open \"$@\"`. Now I can have e.g. my `edit_uri: editor:///home/gk/repos/blog/docs`, w/o having to bypass browser security, which I would, with a `file://...` handler, xdg-open gets the editor scheme. Or, add indirections, like `edit_uri: editor://$repos/docutools/docs`, only resolved in the custom `xdg-run`. And all of this w/o the need to further blow up `./config/mimeapps` or create any stupid `.desktop` files , with just one info, the app to open, burried in 100 lines of foo.","title":" A Better xdg hack"},{"location":"logbook/#btrfs-timeshift-fedora-encryption","text":"Willi Mutschler's blog: timeshift co-author with a great variety of linux subjects [2021-08-22 17:48] He is not only providing super infos about timeshift but about many distros, incl. fedora in general. !!! note \"Apropos btrfs\" finally understand why my used diskpace is so low, during the reading process: UUID=4a9240a1-ee59-403f-b775-e18b67d8ac2e /home btrfs subvol=home,compress=zstd:1,x-systemd.device-timeout=0 0 0 compress....:sunglasses: - maybe it actually means: [**compress**](https://fedoramagazine.org/fedora-workstation-34-feature-focus-btrfs-transparent-compression/) :smile: [This](https://fedoramagazine.org/recover-your-files-from-btrfs-snapshots/) is a good btrfs resource as well","title":" btrfs, timeshift, fedora, encryption, ..."},{"location":"logbook/#overriding-specific-colors","text":"Keeping the colorscheme, using hi link [2021-08-22 10:33] The lsp errors can get really distracting, especially when you refactor: [![./img/lspcolors.png](./img/lspcolors.png)](./img/lspcolors.png) In my most like deep-space scheme it was even heftier, bright green messages spamming me. So I first found out the name of the items, see the note below. Then tried to set it via the normal `hi LspDiagnosticsHint guifg=grey` in `init.vim`, after loading the scheme. But to no avail the items did not change color. *Maybe the colors area loaded async or sth else is setting the colorscheme again afterwards, I did not check* But what did work and is anyway even better, because taking the colors of the scheme is using `link`: ```vim nnoremap <M-enter> :luafile ~/.config/nvim/lua/colorpicker.lua<CR> \" Written by the colorpicker: source ~/.config/nvim/cur_colorscheme.vim \" the diagnostic mesgs should be rather unobstrusive, LineNrs are: :hi def link LspDiagnosticsVirtualTextError LineNr :hi def link LspDiagnosticsDefaultHint LineNr ``` !!! note \"Apropos vim colors\" With a few plugins you easily get over a 1000(!) different coloritems in the output of `:hi` (hilight). Better to find out a specific one you need to override via `:so $VIMRUNTIME/syntax/hitest.vim`","title":" Overriding Specific Colors"},{"location":"logbook/#evtest-for-better-input-tracing","text":"Better than xev for many use cases [2021-08-21 13:07] See this","title":" evtest for Better Input Tracing"},{"location":"logbook/#pyright-error-anlysis","text":"Know the lsp log [2021-08-20 07:09] Pyright consistently ignored the pyproject.toml settings - pyrightconfig.json worked. This showed the reason: ```bash $ tail -f .cache/nvim/lsp.log [ WARN ] 2021-08-20T09:08:21+0200 ] ....axYdu21/usr/share/nvim/runtime/lua/vim/lsp/handlers.lua:108 ] \"The language server pyright triggers a registerCapability handler despite dynamicRegistration set to false. Report upstream, this warning is harmless\" [ ERROR ] 2021-08-20T09:08:21+0200 ] ....axYdu21/usr/share/nvim/runtime/lua/vim/lsp/handlers.lua:402 ] 'Pyproject file parse attempt 1 error: {\"name\":\"TomlError\",\"fromTOML\":true,\"wrapped\":null,\"line\":117,\"col\":0,\"pos\":3496}' ``` !!! note \"Apropos pyright\" vim: e.g.: `:PyrightOrganizeImports` pyright allows users to configure settings in four ways: - Through command-line options - Through LSP client settings (including user-specific, project-specific and workspace-specific overrides) - A dedicated pyrightconfig.json configuration file (meanwhile also pp.toml) - File-specific overrides in the form of # pyright comments Sample [config](https://github.com/microsoft/pyright/blob/main/docs/configuration.md): ```toml [tool.pyright] # include = [\"src\"] # pythonVersion = \"3.8\" reportSelfClsParameterName = false pythonPlatform = \"Linux\" executionEnvironments = [{ root = \"src\" }] typeCheckingMode = \"off\" ``` theirs: ```toml [tool.pyright] include = [\"src\"] exclude = [\"**/node_modules\", \"**/__pycache__\", \"src/experimental\", \"src/typestubs\" ] ignore = [\"src/oldstuff\"] stubPath = \"src/stubs\" venv = \"env367\" reportMissingImports = true reportMissingTypeStubs = false pythonVersion = \"3.6\" pythonPlatform = \"Linux\" executionEnvironments = [ { root = \"src/web\", pythonVersion = \"3.5\", pythonPlatform = \"Windows\", extraPaths = [ \"src/service_libs\" ] }, { root = \"src/sdk\", pythonVersion = \"3.0\", extraPaths = [ \"src/backend\" ] }, { root = \"src/tests\", extraPaths = [\"src/tests/e2e\", \"src/sdk\" ]}, { root = \"src\" } ] ```","title":" pyright error anlysis"},{"location":"logbook/#ultisnips-programmatically-created","text":"dynamically creating the ultisnips body itself [2021-08-19 17:38] This is really neat: I can define tags in the environ and ulti shows them to me, per project basically: global !p def create_tag(snip): tags = [x.strip() for x in os.environ.get('tags', '<no $tags>').split(',')] snip.expand_anon(\":${1|%s|}:$0\" % ','.join(tags)) def position_cursor(snip): snip.cursor.set(snip.line, snip.column+1) endglobal post_jump \"create_tag(snip)\" snippet tag \"Add a tag exported in $tags\" w endsnippet ``` ### :fe: Mixing CSS layouts ??? success \"Always invest in extra tags...\" [2021-08-19 1:34] Timesucker of the evening was the (finally succesfull) attempt to add parent links to the navigation plugin in the mkdocs footer. ![](./img/next.png) (from https://github.com/PleatMan/mkdocs-tree-title, which I found useful - but I wanted those **linked** to the pages, i.e. behaving like a real breadcrumb system...) Cannot be that hard, so I thought... BUT: !!! note A feature of mkdocs is the footer having two huge linked areas, one for prev one for next. Big feature, its really convenient for mouse pushing users to not have to target the exact word... How to get both, i.e. next on the big area *EXCEPT* when clicking on a parent title exactly? Original footer, simplyfied: ```html ~/mi/en/docutools_py37/l/py/si/mkdocs \u276f cat themes/readthedocs/footer.html {% if page.next_page %} <a href=\"{{ page.next_page.url | url }}\" title=\"{{ page.next_page.title | striptags }}\" class=\"md-footer-nav__link md-footer-nav__link--next\" rel=\"next\"> <div class=\"md-footer-nav__title\"> <div class=\"md-ellipsis\"> <span class=\"md-footer-nav__direction\"> {{ lang.t(\"footer.next\") }} </span> {{ page.next_page.title }} </div> </div> <div class=\"md-footer-nav__button md-icon\"> </div> </a> {% endif %} ``` The tree title plugin basically replaces the string `.title` in `{{ page.next_page.title }}` with `page.tree_title`, being set within the plugin for each page, like that: ??? note \"original plugin code\" ```python def on_pre_page(self, page, config, files): # skip if pages are not yet included in the mkdocs config file if not page.title: return page join_str = self.config['join_string'] if page.ancestors: tree_titles = [x.title for x in page.ancestors[::-1]] + [page.title] page.tree_title = join_str.join(tree_titles) else: page.tree_title = page.title return page ``` Simple. So we extended the plugin to not set a string but a list of `[[title parent1, url1],(...)]`, and created the links in a jinja loop over that. Did only partially work, clear, the links are nested within the big a. The titles themselves where shown, clear. *Removing the a screwed up the page, since it had important formatting classes, e.g. float - and flex via CSS.* Replacing the `<a classes>` with `<div classes>` did work, formatting wise. But: the big links where gone. I tried to add click handlers to the parents via javascript but to no avail, within one big `<a>` tag... !!! note It *may* work, if you remove the enclosing a tag and loop over any child element of the replacement div, attaching click handlers, while stopping bubbling up in the inner ones. Sounded like a nightmare. Was that not possible in CSS/HTML alone? Answer: Not really, nesting links is simply forbidden. !!! quote \"W3\" Links and anchors defined by the A element must not be nested; an A element must not contain any other A elements. Since the DTD defines the LINK element to be empty, LINK elements may not be nested either. What to do. ??? success \"Link Nesting IS Possible, with HTML5 w/o JS\" Here the solution for the link nesting problem: ```html <div class=\"block\"> <a class=\"overlay\" href=\"#overlay-link\"></a> <div class=\"inner\"> This entire box is a hyperlink. (Kind of)<br><br><br><br> <a href=\"#inner-link\">I'm a W3C compliant hyperlink inside that box</a> </div> </div> ``` ```css .block { position:relative; } .block .overlay { position:absolute; left:0; top:0; bottom:0; right:0; } .block .inner { position:relative; pointer-events: none; z-index: 1; } .block .inner a { pointer-events: all; } ``` Key is the CSS HTML5 access to pointer events. But now the real nightmare started. We have original CSS with float and flex layout - and need to mix with classic box model layout. All attempts to combine using the same tags failed miserably and in strange ways. Solution is really to strictly invest one tag per styling philosophy: ```html {% endif %} {% if page.next_page %} <div class=\"md-footer-nav__link md-footer-nav__link--next\"> <div class=\"overlay_block\"> <a class=\"overlay_link\" href=\"{{ page.next_page.url | url }}\" rel=\"next\" ></a> <div class=\"overlay_inner\"> <div class=\"md-footer-nav__title\"> <div class=\"md-ellipsis\"> <span class=\"md-footer-nav__direction\"> {{ lang.t(\"footer.next\") }} </span> {% for p in page.next_page.parent_links %} <a href=\"{{p[1]}}\"> {% if loop.last %} {{ p[0] }} {% else %} <small>{{ p[0] }}</small> - {% endif %} </a> {% endfor %} </div> </div> </div> </div> <div style=\"margin-left: -2rem\" class=\"md-footer-nav__button md-icon\"> {% include \".icons/material/arrow-right.svg\" %} </div> </div> <style> .overlay_block { position: relative; width: 100%; } .overlay_block .overlay_link { position: absolute; left: 0; top: 0; bottom: 0; right: 0; } .overlay_block .overlay_inner { position: relative; pointer-events: none; z-index: 1; } .overlay_block .overlay_inner a { pointer-events: all; } </style> {% endif %} ``` And now it all works nicely, as you can see in this blog :sunglasses:. ### :vim: [nginx.vim](https://github.com/chr4/nginx.vim): nginx conf highlighter ??? tip \"Nice syntax highlighter with lua support\" [2021-08-19 08:29] [![img/nginx.vim.png](img/nginx.vim.png)](img/nginx.vim.png) ### :python: poetry plugin entrypoints ??? danger \"How to make them be found\" [2021-08-18 14:49] Took me a while to find out how to get an entrypoint working which is contained in the repo under development. Not talking of a script, that's clear: `tool.poetry.scripts` but of a plugin: ```toml [tool.poetry.plugins.\"mkdocs.plugins\"] \"page-tree\" = \"lcdoc.mkdocs.page_tree:PageTreePlugin\" ``` analogue to setup.py's ```python entry_points={ 'mkdocs.plugins': [ 'tree-title = mkdocs_tree_title.plugin:TreeTitlePlugin' ] } ``` Both create sth like: ```ini ~/mi/en/docutools_py37/l/py/site-packages \u276f cat docutools-2021.8.10.dist-info/entry_points.txt [console_scripts] doc=devapp.plugin_tools:main [mkdocs.plugins] page-tree=lcdoc.mkdocs.page_tree:PageTreePlugin ``` But the plugin was not found by mkdocs, even after rm poetry.lock -> poetry install. Resolution: There was an old `<projectroot>.venv` folder around, with an (empty) site-packages, which poetry preferred to look for such entry_points.txt files. After removing it all worked after a new `poetry install` (not update, not required), those python entryponits are, like scripts, installed by `poetry install`. ### :vi: :chrome: [vimium-c](https://github.com/gdh1995/vimium-c/wiki) Rocks ??? tip \"`cd-`: like in shell, `T`\" [2021-08-18 12:41] The vimium-c guy has strong political [opinions](https://github.com/gdh1995/vimium-c/issues/359). Well maybe he is right, who am I to judge. In any case, his extension is the best \"vimifier\". Examples: - `T`: Lets you search thru open tabs. - Hotkey defs like `cd-` - (...) === \"My Current Non Default Mappings\" ```ini unmap h unmap l map h goBack map l goForward map cd- visitPreviousTab ``` === \"All Commands\" All available commands in Vimium C (up to v1.89.1). The list of available options can be seen in `CmdOptions` (for most frontend commands) of [types/messages.d.ts#CmdOptions](https://github.com/gdh1995/vimium-c/blob/master/typings/messages.d.ts#:~:text=interface%20CmdOptions) and `BgCmdOptions` (for other commands) of [background/typed_commands.d.ts](https://github.com/gdh1995/vimium-c/blob/master/background/typed_commands.d.ts). ``` json [ \"LinkHints.activate\", \"LinkHints.activateMode\", \"LinkHints.activateModeToCopyLinkText\", \"LinkHints.activateModeToCopyLinkUrl\", \"LinkHints.activateModeToDownloadImage\", \"LinkHints.activateModeToDownloadLink\", \"LinkHints.activateModeToEdit\", \"LinkHints.activateModeToHover\", \"LinkHints.activateModeToLeave\", \"LinkHints.activateModeToUnhover\", \"LinkHints.activateModeToOpenImage\", \"LinkHints.activateModeToOpenIncognito\", \"LinkHints.activateModeToOpenInNewForegroundTab\", \"LinkHints.activateModeToOpenInNewTab\", \"LinkHints.activateModeToOpenVomnibar\", \"LinkHints.activateModeToSearchLinkText\", \"LinkHints.activateModeToSelect\", \"LinkHints.activateModeWithQueue\", \"LinkHints.click\", \"LinkHints.unhoverLast\", \"Marks.activate\", \"Marks.activateCreateMode\", \"Marks.activateGotoMode\", \"Marks.clearGlobal\", \"Marks.clearLocal\", \"Vomnibar.activate\", \"Vomnibar.activateBookmarks\", \"Vomnibar.activateBookmarksInNewTab\", \"Vomnibar.activateEditUrl\", \"Vomnibar.activateEditUrlInNewTab\", \"Vomnibar.activateHistory\", \"Vomnibar.activateHistoryInNewTab\", \"Vomnibar.activateInNewTab\", \"Vomnibar.activateTabSelection\", \"Vomnibar.activateUrl\", \"Vomnibar.activateUrlInNewTab\", \"addBookmark\", \"autoCopy\", \"autoOpen\", \"blank\", \"clearCS\", \"clearFindHistory\", \"closeDownloadBar\", \"closeOtherTabs\", \"closeTabsOnLeft\", \"closeTabsOnRight\", \"captureTab\", \"copyCurrentTitle\", \"copyCurrentUrl\", \"copyWindowInfo\", \"createTab\", \"debugBackground\", \"discardTab\", \"duplicateTab\", \"editText\", \"enableCSTemp\", \"enterFindMode\", \"enterInsertMode\", \"enterVisualLineMode\", \"enterVisualMode\", \"firstTab\", \"focusInput\", \"focusOrLaunch\", \"goBack\", \"goForward\", \"goNext\", \"goPrevious\", \"goToRoot\", \"goUp\", \"joinTabs\", \"lastTab\", \"mainFrame\", \"moveTabLeft\", \"moveTabRight\", \"moveTabToIncognito\", \"moveTabToNewWindow\", \"moveTabToNextWindow\", \"newTab\", \"nextFrame\", \"nextTab\", \"openCopiedUrlInCurrentTab\", \"openCopiedUrlInNewTab\", \"openUrl\", \"parentFrame\", \"passNextKey\", \"performAnotherFind\", \"performBackwardsFind\", \"performFind\", \"previousTab\", \"quickNext\", \"reload\", \"reloadGivenTab\", \"reloadTab\", \"removeRightTab\", \"removeTab\", \"reopenTab\", \"reset\", \"restoreGivenTab\", \"restoreTab\", \"runKey\", \"scrollDown\", \"scrollFullPageDown\", \"scrollFullPageUp\", \"scrollLeft\", \"scrollPageDown\", \"scrollPageUp\", \"scrollPxDown\", \"scrollPxLeft\", \"scrollPxRight\", \"scrollPxUp\", \"scrollRight\", \"scrollSelect\", \"scrollTo\", \"scrollToBottom\", \"scrollToLeft\", \"scrollToRight\", \"scrollToTop\", \"scrollUp\", \"searchAs\", \"searchInAnother\", \"sendToExtension\", \"showHelp\", \"showTip\", \"simBackspace\", \"sortTabs\", \"switchFocus\", \"toggleCS\", \"toggleLinkHintCharacters\", \"toggleMuteTab\", \"togglePinTab\", \"toggleStyle\", \"toggleSwitchTemp\", \"toggleViewSource\", \"toggleReaderMode\", \"toggleVomnibarStyle\", \"visitPreviousTab\", \"zoomIn\", \"zoomOut\", \"zoomReset\", ] ``` ### :terminal: ZSH: global aliases ??? success \"`ps ax pg foo`, `cat foo pclip`, ...\" [2021-08-18 07:17] Those work within commands: `bash alias -g pg='| grep -i ' alias -g pclip='| xclip -i -selection clipboard' ` Then ```bash $ cat foo pclip # and you have it in the clipboard $ ps ax pg node 1215 ? Ss 0:00 fusermount -o rw,nosuid,nodev,fsname=portal,auto_unmount,subtype=portal -- /run/user/1000/doc ``` ### :terminal: ZSH: better `type` ??? success \"shows where function is defined\" [2021-08-18 07:20] === \"zsh\" man zshbuiltins ```bash hl_lines=\"2\" ~/mi/en/b/l/py/si/mkdocs \u276f type gomod gomod is a shell function from /home/gk/.bashrc-personal ~/mi/en/b/l/py/si/mkdocs \u276f type -f gomod gomod () { local mod=\"${1:-os}\" local l=\"$(python -c \"import os, $mod;print(os.path.dirname($mod.__file__))\")\" cd \"$l\" pwd } ``` === \"bash\" ```bash [gk@axgk mkdocs]$ type gomod gomod is a function gomod () { local l=\"$(python -c \"import os, $mod;print(os.path.dirname($mod.__file__))\")\" cd \"$l\"; pwd } ``` But [where is it defined](https://askubuntu.com/questions/1146269/how-can-i-find-where-certain-bash-function-is-defined)?! ### :cloud: [Nuclio](https://nuclio.io/docs/latest/setup/k8s/getting-started-k8s/) FaaS ??? question \"New kid on the block in FAAS land\" [2021-08-18 01:14] See [here](https://github.com/nuclio/nuclio) - found in [this](https://imhotep.io/istio/faas/2018/02/23/combing-lambdas.html) blog of the k9s guy... ### :vi: Ultisnips config: No lua ??? danger \"configure in init.vim not in lua\" [2021-08-18 00:55] See [ultisnips page](./ll/vim/ultisnips.md) ### :linux: [`kmcaster`](https://github.com/DaveJarvis/kmcaster/) ??? tip \"Best screenkey recorder\" [2021-08-17 00:55] ![](img/kmcaster.gif) ### :linux: openjdk install ??? note \"Per App / Non Global\" [2021-08-17 11:09] ```mk_console sudo yum -y install curl curl -O https://download.java.net/java/GA/jdk14/076bab302c7b4508975440c56f6cc26a/36/GPL/openjdk-14_linux-x64_bin.tar.gz tar xvf openjdk-14_linux-x64_bin.tar.gz sudo mv jdk-14 /opt/ ``` Unlike [here](https://computingforgeeks.com/install-oracle-java-openjdk-14-on-centosfedora-linux/) we don't export set any profiles in /etc/profile.d for this but use it per app like: `alias screenkeyjs='/opt/jdk-14/bin/java -jar /home/gk/inst/kmcaster.jar -d 60'` ### :linux: gpg-agent cache timeout ??? tip \"Avoiding popups every minute\" [2021-08-17 10:34] After a fedora security update I got an annoyingly short gpg timeout for the pass utility. Fix: ```bash \u276f cat /home/gk/.gnupg/gpg-agent.conf default-cache-ttl 7200 ``` and `systemctl --user restart gpg-agent` ### :linux: Grub: See the system booting ??? tip \"Using grubby\" [2021-08-16 10:34] On Fedora34 fiddling with removing `quiet` and `rhgb`, then grub2-mkconfig did not work, guess I was \"holding it wrong\". [This](https://docs.fedoraproject.org/en-US/fedora/rawhide/system-administrators-guide/kernel-module-driver-configuration/Working_with_the_GRUB_2_Boot_Loader/) helped, use RedHat's grubby. ```bash grubby --default-kernel grubby --remove-args=\"rhgb quiet\" --update-kernel /boot/vmlinuz-5.13.8-200.fc34.x86_64 ``` No mkconfig necessary. !!! warning Do **not** add console=tty... as suggested in the example in the tutorial - I had no output anymore ### :vi: Filedir in galaxyline ??? success \"Lua Hack: Displaying parent dir\" [2021-08-11 18:00] Seeing only index.md in the statusline on multiple markdown files is not really cool. galaxyline allows functions: Fixed, with embarrassingly low lua skills, we see the first parent directory level now, enough in most cases for unique file identification: === \"Result\" The directory is shown: ![](img/galaxyline.png) === \"Code\" ```lua gls.left[5] = { FileDir = { provider = function() local fn = vim.fn.expand(\"%:p\") local fn, a = string.match(fn, \"(.*)%/(.*)\") local a, fn = string.match(fn, \"(.*)%/(.*)\") return fn .. \"/\" end, condition = condition.buffer_not_empty, highlight = {colors.fg, colors.bg} } } gls.left[6] = { FileName = { provider = function() local fn = vim.fn.expand(\"%:p\") local a, b = string.match(fn, \"(.*)%/(.*)\") return b .. \" \" end, condition = condition.buffer_not_empty, highlight = {colors.magenta, colors.bg, \"bold\"} } } ``` ### :vi: Lost content on file save ??? danger \"Formatter misinterprets files named '-'\" [2021-08-11 12:59] Crazy nvim bug/config problem(?): **You edit a file, write, content gone**. Especially when write+quitting this can kill your day. Reason: If you managed to create a file with name '-' (a single dash) - then the formatter (run on write by nvim) sees this obviously as input and changes the buffer accordingly. Solution: Delete the file, all works again: `rm -- -` ### :chrome: Edge Browser ??? tip \"Meanwhile my default\" [2021-08-11 12:38] Politics aside but **Microsoft Edge**/Linux seems currently the technical best browser for me. FF is anyway totally [political](https://blog.mozilla.org/en/mozilla/we-need-more-than-deplatforming/) meanwhile as well ### :linux: pipewire -> pulse ??? info \"Avoid problems with old config / alsamixer is great\" [2021-05-01 11:37] Fedora 34 fresh. Sound: Remove pipewire like described by fedora - then removed old .config/pulse(! (from arch times)). `systemctl --user restart pulseaudio` -> alsamixer worked, could connect, the rest as well ### :vi: Appimage ??? tip \"Best sandbox for newest versions\" [2021-02-11 12:36] nvim: Do not install the package mgr version on a stable distro, nvims' dev speed is crazy (e.g. lua support) - the app image (from their github) works perfect. /home/gk/inst/nvim.appimage README.md ``` typeof start_lc === \"undefined\" ? 0 : start_lc()","title":" Ultisnips Programmatically Created"},{"location":"vim-synhl/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Vim Syntax HL \u00a4 Required for cool markdown presentations Regex Recap \u00a4 4 modes - Alwasy use \\v mode. That's like python's. In a python file say: :match Error /\\vclas./ -> \ud83e\udd70 Basics \u00a4 Easy setup: Write the Vim syntax file. Or download one from the internet. Then write it in your syntax directory. For example, for the \"mine\" syntax: :w ~/.config/nvim/syntax/mine.vim Now you can start using your syntax file manually: :set syntax=mine You don't have to exit Vim to use this. Easy Peasy: keywords \u00a4 colorize stuff like run def class syntax keyword mylangFunction run # -> any string 'run' within buffers with matching filetypes is now a mylangFunction highlight link mylangFunction Function # -> and will by colorized to whatever rose-pine author defined for *common* keyword Function We could go also direct and JUST define 'run' to be recognized as Function: syntax keyword Function run Common Groups: \u00a4 *Comment any comment *Constant any constant String a string constant: \"this is a string\" Character a character constant: 'c', '\\n' Number a number constant: 234, 0xff Boolean a boolean constant: TRUE, false Float a floating point constant: 2.3e10 *Identifier any variable name Function function name (also: methods for classes) *Statement any statement Conditional if, then, else, endif, switch, etc. Repeat for, do, while, etc. Label case, default, etc. Operator \"sizeof\", \"+\", \"*\", etc. Keyword any other keyword Exception try, catch, throw *PreProc generic Preprocessor Include preprocessor #include Define preprocessor #define Macro same as Define PreCondit preprocessor #if, #else, #endif, etc. *Type int, long, char, etc. StorageClass static, register, volatile, etc. Structure struct, union, enum, etc. Typedef A typedef *Special any special symbol SpecialChar special character in a constant Tag you can use CTRL-] on this Delimiter character that needs attention SpecialComment special things inside a comment Debug debugging statements *Underlined text that stands out, HTML links *Ignore left blank, hidden |hl-Ignore| *Error any erroneous construct *Todo anything that needs extra attention; mostly the keywords TODO FIXME and XXX char -> matches Harder \u00a4 colorize stuff like # # is not a keyword ( h: iskeyword ) so we need a regex: syntax match potionComment \"\\v#.*$\" \\v : use very magic mode. Always use. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Vim Syntax HL"},{"location":"vim-synhl/#vim-syntax-hl","text":"Required for cool markdown presentations","title":"Vim Syntax HL"},{"location":"vim-synhl/#regex-recap","text":"4 modes - Alwasy use \\v mode. That's like python's. In a python file say: :match Error /\\vclas./ -> \ud83e\udd70","title":"Regex Recap"},{"location":"vim-synhl/#basics","text":"Easy setup: Write the Vim syntax file. Or download one from the internet. Then write it in your syntax directory. For example, for the \"mine\" syntax: :w ~/.config/nvim/syntax/mine.vim Now you can start using your syntax file manually: :set syntax=mine You don't have to exit Vim to use this.","title":"Basics"},{"location":"vim-synhl/#easy-peasy-keywords","text":"colorize stuff like run def class syntax keyword mylangFunction run # -> any string 'run' within buffers with matching filetypes is now a mylangFunction highlight link mylangFunction Function # -> and will by colorized to whatever rose-pine author defined for *common* keyword Function We could go also direct and JUST define 'run' to be recognized as Function: syntax keyword Function run","title":"Easy Peasy: keywords"},{"location":"vim-synhl/#common-groups","text":"*Comment any comment *Constant any constant String a string constant: \"this is a string\" Character a character constant: 'c', '\\n' Number a number constant: 234, 0xff Boolean a boolean constant: TRUE, false Float a floating point constant: 2.3e10 *Identifier any variable name Function function name (also: methods for classes) *Statement any statement Conditional if, then, else, endif, switch, etc. Repeat for, do, while, etc. Label case, default, etc. Operator \"sizeof\", \"+\", \"*\", etc. Keyword any other keyword Exception try, catch, throw *PreProc generic Preprocessor Include preprocessor #include Define preprocessor #define Macro same as Define PreCondit preprocessor #if, #else, #endif, etc. *Type int, long, char, etc. StorageClass static, register, volatile, etc. Structure struct, union, enum, etc. Typedef A typedef *Special any special symbol SpecialChar special character in a constant Tag you can use CTRL-] on this Delimiter character that needs attention SpecialComment special things inside a comment Debug debugging statements *Underlined text that stands out, HTML links *Ignore left blank, hidden |hl-Ignore| *Error any erroneous construct *Todo anything that needs extra attention; mostly the keywords TODO FIXME and XXX char -> matches","title":"Common Groups:"},{"location":"vim-synhl/#harder","text":"colorize stuff like # # is not a keyword ( h: iskeyword ) so we need a regex: syntax match potionComment \"\\v#.*$\" \\v : use very magic mode. Always use. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Harder"},{"location":"about/changelog/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Git Changelog \u00a4 Changelog \u00a4 All notable changes to this project will be documented in this file. The format is based on Keep a Changelog . This project adheres to CalVer Versioning . 2021.9.0 \u00a4 Compare with 2021.8.18 Bug Fixes \u00a4 Update to newer docutools ( a8445a6 by Gunther Klessinger). Mdreplace needs in this version one with :all: (bug) ( d332bd2 by Gunther Klessinger). Features \u00a4 Mkdocs page ( 9198ccd by Gunther Klessinger). Better logs ( d48303b by Gunther Klessinger). 2021.8.18 \u00a4 Compare with 2021.8.13 Bug Fixes \u00a4 Link ( 4d91456 by Gunther Klessinger). K9s link ( b89f0bd by Gunther Klessinger). Features \u00a4 New make system ( b7957bc by Gunther Klessinger). K9s ( 55967b6 by Gunther Klessinger). Mysql deploy fully on k8s ( f9e30d6 by Gunther Klessinger). 2021.8.13 \u00a4 Compare with 2021.8.12 Features \u00a4 Rewordign ( 7a6ad14 by Gunther Klessinger). Added content from previous attemtps ( dda22bf by Gunther Klessinger). 2021.8.12 \u00a4 Compare with 2021.8.11 2021.8.11 \u00a4 Compare with first commit typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Changelog"},{"location":"about/changelog/#git-changelog","text":"","title":"Git Changelog"},{"location":"about/changelog/#changelog","text":"All notable changes to this project will be documented in this file. The format is based on Keep a Changelog . This project adheres to CalVer Versioning .","title":"Changelog"},{"location":"about/changelog/#202190","text":"Compare with 2021.8.18","title":"2021.9.0"},{"location":"about/changelog/#bug-fixes","text":"Update to newer docutools ( a8445a6 by Gunther Klessinger). Mdreplace needs in this version one with :all: (bug) ( d332bd2 by Gunther Klessinger).","title":"Bug Fixes"},{"location":"about/changelog/#features","text":"Mkdocs page ( 9198ccd by Gunther Klessinger). Better logs ( d48303b by Gunther Klessinger).","title":"Features"},{"location":"about/changelog/#2021818","text":"Compare with 2021.8.13","title":"2021.8.18"},{"location":"about/changelog/#bug-fixes_1","text":"Link ( 4d91456 by Gunther Klessinger). K9s link ( b89f0bd by Gunther Klessinger).","title":"Bug Fixes"},{"location":"about/changelog/#features_1","text":"New make system ( b7957bc by Gunther Klessinger). K9s ( 55967b6 by Gunther Klessinger). Mysql deploy fully on k8s ( f9e30d6 by Gunther Klessinger).","title":"Features"},{"location":"about/changelog/#2021813","text":"Compare with 2021.8.12","title":"2021.8.13"},{"location":"about/changelog/#features_2","text":"Rewordign ( 7a6ad14 by Gunther Klessinger). Added content from previous attemtps ( dda22bf by Gunther Klessinger).","title":"Features"},{"location":"about/changelog/#2021812","text":"Compare with 2021.8.11","title":"2021.8.12"},{"location":"about/changelog/#2021811","text":"Compare with first commit typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"2021.8.11"},{"location":"about/credits/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Credits \u00a4 Platforms and Frameworks \u00a4 These were used to create this blog: python | poetry | mkdocs | mkdocs-material Run Dependencies \u00a4 Package Description Version License docutools Documentation Tools for the Mkdocs Material Framework 2022.4.11 BSD 2-Clause Simplified Flask A simple framework for building complex web applications. 2.1.1 BSD-3-Clause requests Python HTTP for Humans. 2.27.1 Apache 2.0 Rx Reactive Extensions (Rx) for Python 3.2.0 MIT Development Dependencies \u00a4 Package Description Version License axblack The uncompromising code formatter (compromised version) 20220322 MIT coverage Code coverage measurement for Python 6.3.2 Apache 2.0 gevent Coroutine-based network library 21.12.0 MIT isort A Python utility / library to sort Python imports. 4.3.21 MIT jinja2-cli A CLI interface to Jinja2 0.7.0 BSD pytest pytest: simple powerful testing with Python 6.2.5 MIT structlog Structured Logging for Python 21.5.0 n.a. Indirect Dependencies \u00a4 Package Description Version License anybadge Simple, flexible badge generator for project badges. 1.9.0 n.a. appdirs A small Python module for determining appropriate platform-specific dirs, e.g. a \"user data dir\". 1.4.4 MIT atomicwrites Atomic file writes. 1.4.1 MIT attrs Classes Without Boilerplate 21.4.0 MIT certifi Python package for providing Mozilla's CA Bundle. 2021.10.8 MPL-2.0 cffi Foreign Function Interface for Python calling C code. 1.15.1 MIT charset-normalizer The Real First Universal Charset Detector. Open, modern and actively maintained alternative to Chardet. 2.0.12 MIT click Composable command line interface toolkit 8.1.2 BSD-3-Clause colorama Cross-platform colored terminal text. 0.4.6 n.a. diagrams Diagram as Code 0.21.1 MIT execnet execnet: rapid multi-Python deployment 1.9.0 MIT ghp-import Copy your docs directly to the gh-pages branch. 2.0.2 Apache Software git-changelog Automatic Changelog generator using Jinja2 templates. 0.5.0 n.a. graphviz Simple Python interface for Graphviz 0.19.2 MIT greenlet Lightweight in-process concurrent programming 1.1.2 MIT h11 A pure-Python, bring-your-own-I/O implementation of HTTP/1.1 0.13.0 MIT httpcore A minimal low-level HTTP client. 0.12.3 BSD httpx The next generation HTTP client. 0.17.1 BSD idna Internationalized Domain Names in Applications (IDNA) 3.3 BSD-3-Clause imagesize Getting image size from png/jpeg/jpeg2000/gif file 1.3.0 MIT importlib-metadata Read metadata from Python packages 4.11.3 n.a. inflection A port of Ruby on Rails inflector to Python 0.5.1 MIT iniconfig iniconfig: brain-dead simple config-ini parsing 1.1.1 MIT itsdangerous Safely pass data to untrusted environments and back. 2.1.2 BSD-3-Clause Jinja2 A very fast and expressive template engine. 3.1.1 BSD-3-Clause Markdown Python implementation of Markdown. 3.3.6 BSD markdown-include This is an extension to Python-Markdown which provides an \"include\" function, similar to that found in LaTeX (and also the C pre-processor and Fortran). I originally wrote it for my FORD Fortran auto-documentation generator. 0.6.0 n.a. MarkupSafe Safely add untrusted strings to HTML/XML markup. 2.0.1 BSD-3-Clause mergedeep A deep merge function for \ud83d\udc0d. 1.3.4 n.a. mkdocs Project documentation with Markdown. 1.3.0 BSD mkdocs-exclude A mkdocs plugin that lets you exclude files or trees. 1.0.2 Apache mkdocs-macros-plugin Unleash the power of MkDocs with macros and variables 0.5.12 MIT mkdocs-material A Material Design theme for MkDocs 8.2.9 MIT mkdocs-material-extensions Extension pack for Python Markdown. 1.0.3 MIT mkdocs-pymdownx-material-extras Plugin to extend MkDocs Material theme. 1.6 MIT mypy-extensions Experimental type system extensions for programs checked with the mypy typechecker. 0.4.3 MIT packaging Core utilities for Python packages 21.3 BSD-2-Clause or Apache-2.0 pathspec Utility library for gitignore style pattern matching of file paths. 0.9.0 MPL 2.0 pluggy plugin and hook calling mechanisms for python 1.0.0 MIT py library with cross-python path, ini-parsing, io, code, log facilities 1.11.0 MIT pycond Lightweight Condition Parsing and Building of Evaluation Expressions 20220310 BSD pycparser C parser in Python 2.21 BSD Pygments Pygments is a syntax highlighting package written in Python. 2.11.2 BSD pymdown-extensions Extension pack for Python Markdown. 9.3 MIT pyparsing pyparsing module - Classes and methods to define and execute parsing grammars 3.0.8 n.a. pytest-cov Pytest plugin for measuring coverage. 2.12.1 MIT pytest-forked run tests in isolated forked subprocesses 1.4.0 MIT pytest-randomly Pytest plugin to randomly order tests and control random.seed. 3.11.0 MIT pytest-sugar pytest-sugar is a plugin for pytest that changes the default look and feel of pytest (e.g. progressbar, show tests that fail instantly). 0.9.4 BSD pytest-xdist pytest xdist plugin for distributed testing and loop-on-failing modes 2.5.0 MIT python-dateutil Extensions to the standard Python datetime module 2.8.2 Dual PyYAML YAML parser and emitter for Python 6.0 MIT regex Alternative regular expression module, to replace re. 2022.3.15 Apache Software rfc3986 Validating URI References per RFC 3986 1.5.0 Apache 2.0 semver Python helper for Semantic Versioning ( http://semver.org/ ) 2.13.0 BSD six Python 2 and 3 compatibility utilities 1.16.0 MIT sniffio Sniff out which async library your code is running under 1.2.0 MIT -or- Apache 2.0 termcolor ANSII Color formatting for output in terminal. 1.1.0 MIT toml Python Library for Tom's Obvious, Minimal Language 0.10.2 MIT typed-ast a fork of Python 2 and 3 ast modules with type comment support 1.5.2 Apache 2.0 typing-extensions Backported and Experimental Type Hints for Python 3.7+ 4.5.0 n.a. urllib3 HTTP library with thread-safe connection pooling, file post, and more. 1.26.9 MIT watchdog Filesystem events monitoring 2.1.7 Apache 2.0 Werkzeug The comprehensive WSGI web application library. 2.1.1 BSD-3-Clause zipp Backport of pathlib-compatible object wrapper for zip files 3.8.0 n.a. zope.event Very basic event publishing system 4.5.0 ZPL 2.1 zope.interface Interfaces for Python 5.4.0 ZPL 2.1 Many thanks to all authors, for all these brilliant software packages! typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Credits"},{"location":"about/credits/#credits","text":"","title":"Credits"},{"location":"about/credits/#platforms-and-frameworks","text":"These were used to create this blog: python | poetry | mkdocs | mkdocs-material","title":"Platforms and Frameworks"},{"location":"about/credits/#run-dependencies","text":"Package Description Version License docutools Documentation Tools for the Mkdocs Material Framework 2022.4.11 BSD 2-Clause Simplified Flask A simple framework for building complex web applications. 2.1.1 BSD-3-Clause requests Python HTTP for Humans. 2.27.1 Apache 2.0 Rx Reactive Extensions (Rx) for Python 3.2.0 MIT","title":"Run Dependencies"},{"location":"about/credits/#development-dependencies","text":"Package Description Version License axblack The uncompromising code formatter (compromised version) 20220322 MIT coverage Code coverage measurement for Python 6.3.2 Apache 2.0 gevent Coroutine-based network library 21.12.0 MIT isort A Python utility / library to sort Python imports. 4.3.21 MIT jinja2-cli A CLI interface to Jinja2 0.7.0 BSD pytest pytest: simple powerful testing with Python 6.2.5 MIT structlog Structured Logging for Python 21.5.0 n.a.","title":"Development Dependencies"},{"location":"about/credits/#indirect-dependencies","text":"Package Description Version License anybadge Simple, flexible badge generator for project badges. 1.9.0 n.a. appdirs A small Python module for determining appropriate platform-specific dirs, e.g. a \"user data dir\". 1.4.4 MIT atomicwrites Atomic file writes. 1.4.1 MIT attrs Classes Without Boilerplate 21.4.0 MIT certifi Python package for providing Mozilla's CA Bundle. 2021.10.8 MPL-2.0 cffi Foreign Function Interface for Python calling C code. 1.15.1 MIT charset-normalizer The Real First Universal Charset Detector. Open, modern and actively maintained alternative to Chardet. 2.0.12 MIT click Composable command line interface toolkit 8.1.2 BSD-3-Clause colorama Cross-platform colored terminal text. 0.4.6 n.a. diagrams Diagram as Code 0.21.1 MIT execnet execnet: rapid multi-Python deployment 1.9.0 MIT ghp-import Copy your docs directly to the gh-pages branch. 2.0.2 Apache Software git-changelog Automatic Changelog generator using Jinja2 templates. 0.5.0 n.a. graphviz Simple Python interface for Graphviz 0.19.2 MIT greenlet Lightweight in-process concurrent programming 1.1.2 MIT h11 A pure-Python, bring-your-own-I/O implementation of HTTP/1.1 0.13.0 MIT httpcore A minimal low-level HTTP client. 0.12.3 BSD httpx The next generation HTTP client. 0.17.1 BSD idna Internationalized Domain Names in Applications (IDNA) 3.3 BSD-3-Clause imagesize Getting image size from png/jpeg/jpeg2000/gif file 1.3.0 MIT importlib-metadata Read metadata from Python packages 4.11.3 n.a. inflection A port of Ruby on Rails inflector to Python 0.5.1 MIT iniconfig iniconfig: brain-dead simple config-ini parsing 1.1.1 MIT itsdangerous Safely pass data to untrusted environments and back. 2.1.2 BSD-3-Clause Jinja2 A very fast and expressive template engine. 3.1.1 BSD-3-Clause Markdown Python implementation of Markdown. 3.3.6 BSD markdown-include This is an extension to Python-Markdown which provides an \"include\" function, similar to that found in LaTeX (and also the C pre-processor and Fortran). I originally wrote it for my FORD Fortran auto-documentation generator. 0.6.0 n.a. MarkupSafe Safely add untrusted strings to HTML/XML markup. 2.0.1 BSD-3-Clause mergedeep A deep merge function for \ud83d\udc0d. 1.3.4 n.a. mkdocs Project documentation with Markdown. 1.3.0 BSD mkdocs-exclude A mkdocs plugin that lets you exclude files or trees. 1.0.2 Apache mkdocs-macros-plugin Unleash the power of MkDocs with macros and variables 0.5.12 MIT mkdocs-material A Material Design theme for MkDocs 8.2.9 MIT mkdocs-material-extensions Extension pack for Python Markdown. 1.0.3 MIT mkdocs-pymdownx-material-extras Plugin to extend MkDocs Material theme. 1.6 MIT mypy-extensions Experimental type system extensions for programs checked with the mypy typechecker. 0.4.3 MIT packaging Core utilities for Python packages 21.3 BSD-2-Clause or Apache-2.0 pathspec Utility library for gitignore style pattern matching of file paths. 0.9.0 MPL 2.0 pluggy plugin and hook calling mechanisms for python 1.0.0 MIT py library with cross-python path, ini-parsing, io, code, log facilities 1.11.0 MIT pycond Lightweight Condition Parsing and Building of Evaluation Expressions 20220310 BSD pycparser C parser in Python 2.21 BSD Pygments Pygments is a syntax highlighting package written in Python. 2.11.2 BSD pymdown-extensions Extension pack for Python Markdown. 9.3 MIT pyparsing pyparsing module - Classes and methods to define and execute parsing grammars 3.0.8 n.a. pytest-cov Pytest plugin for measuring coverage. 2.12.1 MIT pytest-forked run tests in isolated forked subprocesses 1.4.0 MIT pytest-randomly Pytest plugin to randomly order tests and control random.seed. 3.11.0 MIT pytest-sugar pytest-sugar is a plugin for pytest that changes the default look and feel of pytest (e.g. progressbar, show tests that fail instantly). 0.9.4 BSD pytest-xdist pytest xdist plugin for distributed testing and loop-on-failing modes 2.5.0 MIT python-dateutil Extensions to the standard Python datetime module 2.8.2 Dual PyYAML YAML parser and emitter for Python 6.0 MIT regex Alternative regular expression module, to replace re. 2022.3.15 Apache Software rfc3986 Validating URI References per RFC 3986 1.5.0 Apache 2.0 semver Python helper for Semantic Versioning ( http://semver.org/ ) 2.13.0 BSD six Python 2 and 3 compatibility utilities 1.16.0 MIT sniffio Sniff out which async library your code is running under 1.2.0 MIT -or- Apache 2.0 termcolor ANSII Color formatting for output in terminal. 1.1.0 MIT toml Python Library for Tom's Obvious, Minimal Language 0.10.2 MIT typed-ast a fork of Python 2 and 3 ast modules with type comment support 1.5.2 Apache 2.0 typing-extensions Backported and Experimental Type Hints for Python 3.7+ 4.5.0 n.a. urllib3 HTTP library with thread-safe connection pooling, file post, and more. 1.26.9 MIT watchdog Filesystem events monitoring 2.1.7 Apache 2.0 Werkzeug The comprehensive WSGI web application library. 2.1.1 BSD-3-Clause zipp Backport of pathlib-compatible object wrapper for zip files 3.8.0 n.a. zope.event Very basic event publishing system 4.5.0 ZPL 2.1 zope.interface Interfaces for Python 5.4.0 ZPL 2.1 Many thanks to all authors, for all these brilliant software packages! typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Indirect Dependencies"},{"location":"about/navigation/","text":"[data-md-color-scheme=\"slate\"] .featherlight .featherlight-content { background: #2e303e; } [data-md-color-scheme=\"slate\"] .featherlight .featherlight-close-icon { background: rgba(255,255,255,.3); color: #fff; } .featherlight .featherlight-content { min-width: 60% !important; } function next_elmt_into_lightbox(id, event) { let btn=document.getElementById(id); let parent = btn.parentNode; function flclose(event) { let c = this.$content[0]; $(parent).after(c); } let el = parent.nextElementSibling; $.featherlight({jquery: el, persist: true, beforeClose: flclose}) } .button-lightbox { color: var(--md-default-fg-color--lighter); }.button-lightbox:hover { color: var(--md-default-fg-color--light); } @media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Navigating the Documentation \u00a4 Here a few hints for keyboard centric navigation. We added to our browser the excellent vimium-c plugin. MkDocs Shortcuts \u00a4 ., : Navigates to next and previous page s : Opens the search window vimium-c Shortcuts \u00a4 f : Shows navigation shortcuts above each clickable item h,l : Previous and next in your browser history gg, G : Scroll to top and bottom jk : Scroll down/up Demo \u00a4 Edit Link As you can see the edit button opens local vim. This was done via an xdg-open handler, i.e. depends on your OS. $('.md-content img').featherlightGallery({ nextIcon: '\u00bb', previousIcon: '\u00ab', openSpeed: 300, galleryFadeIn: 300, targetAttr: 'src' }); $('.md-content img').css('cursor', 'zoom-in'); typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Navigation"},{"location":"about/navigation/#navigating-the-documentation","text":"Here a few hints for keyboard centric navigation. We added to our browser the excellent vimium-c plugin.","title":"Navigating the Documentation"},{"location":"about/navigation/#mkdocs-shortcuts","text":"., : Navigates to next and previous page s : Opens the search window","title":"MkDocs Shortcuts"},{"location":"about/navigation/#vimium-c-shortcuts","text":"f : Shows navigation shortcuts above each clickable item h,l : Previous and next in your browser history gg, G : Scroll to top and bottom jk : Scroll down/up","title":"vimium-c Shortcuts"},{"location":"about/navigation/#demo","text":"Edit Link As you can see the edit button opens local vim. This was done via an xdg-open handler, i.e. depends on your OS. $('.md-content img').featherlightGallery({ nextIcon: '\u00bb', previousIcon: '\u00ab', openSpeed: 300, galleryFadeIn: 300, targetAttr: 'src' }); $('.md-content img').css('cursor', 'zoom-in'); typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Demo"},{"location":"blog-notes/%F0%9F%8F%A0%20home/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } My Notes \u00a4 ```button name Open Daily Note type command class obsidian-button action Daily Notes: Open today's daily note \ud83d\udcb2[[all_shopping_items|shopping]] \ud83d\udc68\u200d\ud83d\udd2c [[local/obsidian/index|obs. tutorial]] typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"My Notes"},{"location":"blog-notes/%F0%9F%8F%A0%20home/#my-notes","text":"```button name Open Daily Note type command class obsidian-button action Daily Notes: Open today's daily note \ud83d\udcb2[[all_shopping_items|shopping]] \ud83d\udc68\u200d\ud83d\udd2c [[local/obsidian/index|obs. tutorial]] typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"My Notes"},{"location":"blog-notes/daily%20%F0%9F%93%86/2022-05-07/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } 07-05-22 \u00a4 Findings \u00a4 Espanso \u00a4 \ud83d\udd27 espanso is a wonderul system wide hotkey/autokey replacer. \u00a4 Docs is here . supports external scripts Tips \u00a4 type #detect# to get a window with the class name, so that you can write app specific shortcuts. Obs vimrc Mode \u00a4 Finally got my jk to Esc: `imap jk typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"07-05-22"},{"location":"blog-notes/daily%20%F0%9F%93%86/2022-05-07/#07-05-22","text":"","title":"07-05-22"},{"location":"blog-notes/daily%20%F0%9F%93%86/2022-05-07/#findings","text":"","title":"Findings"},{"location":"blog-notes/daily%20%F0%9F%93%86/2022-05-07/#espanso","text":"","title":"Espanso"},{"location":"blog-notes/daily%20%F0%9F%93%86/2022-05-07/#espanso-is-a-wonderul-system-wide-hotkeyautokey-replacer","text":"Docs is here . supports external scripts","title":"\ud83d\udd27 espanso is a wonderul system wide hotkey/autokey replacer."},{"location":"blog-notes/daily%20%F0%9F%93%86/2022-05-07/#tips","text":"type #detect# to get a window with the class name, so that you can write app specific shortcuts.","title":"Tips"},{"location":"blog-notes/daily%20%F0%9F%93%86/2022-05-07/#obs-vimrc-mode","text":"Finally got my jk to Esc: `imap jk typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Obs vimrc Mode"},{"location":"blog-notes/daily%20%F0%9F%93%86/2022-05-08/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Sunday 8th May 2022 \u00a4 Learning Obsidian, found super vid Struggling vim nvim terminal mode Solution was easy... (use jk vs Esc ) typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Sunday 8th May 2022"},{"location":"blog-notes/daily%20%F0%9F%93%86/2022-05-08/#sunday-8th-may-2022","text":"Learning Obsidian, found super vid Struggling vim nvim terminal mode Solution was easy... (use jk vs Esc ) typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Sunday 8th May 2022"},{"location":"blog-notes/daily%20%F0%9F%93%86/2023-03-20/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Monday 20th Mar 2023 \u00a4 typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Monday 20th Mar 2023"},{"location":"blog-notes/daily%20%F0%9F%93%86/2023-03-20/#monday-20th-mar-2023","text":"typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Monday 20th Mar 2023"},{"location":"blog-notes/local/obsidian/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Obsidian #\ud83d\udd27 \u00a4 Quick \u00a4 Basics: 100 tips \u00a4 MUST SEE: https://www.youtube.com/watch?v=wKNWMBeGCuU Highlights I did not know yet: Linked Preview : ctrl-click on edit -> 2 panes \"hack md preview mode\", incl unlink. works with folding! tags: Powerful. Type : #youtube Status : #inbox/processing -> produces tag tree - Type [[ and link dropdown will show up - Templates : Add new note, click 'Insert Template', choose. - You can drag around every pane , incl. control panes - Presentations : --- to seperate slides - 8:21 Local graph view (for your current note) - 8:57 Right click search results -> star or option on notes to star - 9:30: Right click on folder, set as attachment folder . Drag stuff into notes -> will be there. - 12:00 Page preview option (core): ctrl-hover links -> preview - 12:30 ctrl-click link: Open new pane - 13:30 Use markdownload chrome extension to get markdown sources for obs. - 13:50 Header Links : [[<choose># -> headers offered - 16:00 Multi cursor mode - 16:40 Alias links: [[long long name|title]] -> title displayed only - 17:00 Resize images ![[cat.png|200x180]] - 17:40 Link to blocks: [[^^ - 18:10 Find all tags: ``query tag: #youtube `` - 19:50 iframes , e.g. youtube embeds Workflow \u00a4 5:50: Don't overthink structuring, throw everything into flat folders first, then structure into folders. Links keep working. Urls \u00a4 To open from outside: https://help.obsidian.md/Advanced+topics/Using+obsidian+URI Advanced URI plugin allows to - write in to files or - open files in edit mode but it only works when vault has plugin loaded (chicken egg) typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Obsidian #\ud83d\udd27"},{"location":"blog-notes/local/obsidian/#obsidian","text":"","title":"Obsidian #\ud83d\udd27"},{"location":"blog-notes/local/obsidian/#quick","text":"","title":"Quick"},{"location":"blog-notes/local/obsidian/#basics-100-tips","text":"MUST SEE: https://www.youtube.com/watch?v=wKNWMBeGCuU Highlights I did not know yet: Linked Preview : ctrl-click on edit -> 2 panes \"hack md preview mode\", incl unlink. works with folding! tags: Powerful. Type : #youtube Status : #inbox/processing -> produces tag tree - Type [[ and link dropdown will show up - Templates : Add new note, click 'Insert Template', choose. - You can drag around every pane , incl. control panes - Presentations : --- to seperate slides - 8:21 Local graph view (for your current note) - 8:57 Right click search results -> star or option on notes to star - 9:30: Right click on folder, set as attachment folder . Drag stuff into notes -> will be there. - 12:00 Page preview option (core): ctrl-hover links -> preview - 12:30 ctrl-click link: Open new pane - 13:30 Use markdownload chrome extension to get markdown sources for obs. - 13:50 Header Links : [[<choose># -> headers offered - 16:00 Multi cursor mode - 16:40 Alias links: [[long long name|title]] -> title displayed only - 17:00 Resize images ![[cat.png|200x180]] - 17:40 Link to blocks: [[^^ - 18:10 Find all tags: ``query tag: #youtube `` - 19:50 iframes , e.g. youtube embeds","title":"Basics: 100 tips"},{"location":"blog-notes/local/obsidian/#workflow","text":"5:50: Don't overthink structuring, throw everything into flat folders first, then structure into folders. Links keep working.","title":"Workflow"},{"location":"blog-notes/local/obsidian/#urls","text":"To open from outside: https://help.obsidian.md/Advanced+topics/Using+obsidian+URI Advanced URI plugin allows to - write in to files or - open files in edit mode but it only works when vault has plugin loaded (chicken egg) typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Urls"},{"location":"blog-notes/local/obsidian/dev/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Obsidian Dev \u00a4 API \u00a4 https://github.com/obsidianmd/obsidian-api/blob/master/obsidian.d.ts typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Obsidian Dev"},{"location":"blog-notes/local/obsidian/dev/#obsidian-dev","text":"","title":"Obsidian Dev"},{"location":"blog-notes/local/obsidian/dev/#api","text":"https://github.com/obsidianmd/obsidian-api/blob/master/obsidian.d.ts typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"API"},{"location":"blog-notes/shopping_list%20%F0%9F%9B%92/all_shopping_items/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Shopping List \u00a4 Immediate \u00a4 Motorsaege #\ud83d\udcb2 #\ud83c\udfe1 Arduino Laptop keyholder for '3' key Potential buys \u00a4 Fliessenband #\ud83c\udfe1 typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Shopping List"},{"location":"blog-notes/shopping_list%20%F0%9F%9B%92/all_shopping_items/#shopping-list","text":"","title":"Shopping List"},{"location":"blog-notes/shopping_list%20%F0%9F%9B%92/all_shopping_items/#immediate","text":"Motorsaege #\ud83d\udcb2 #\ud83c\udfe1 Arduino Laptop keyholder for '3' key","title":"Immediate"},{"location":"blog-notes/shopping_list%20%F0%9F%9B%92/all_shopping_items/#potential-buys","text":"Fliessenband #\ud83c\udfe1 typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Potential buys"},{"location":"blog-notes/templates%20%E2%99%BB%EF%B8%8F/daily/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } <% tp.date.now(\"dddd Do MMM YYYY\", 0, tp.file.title, \"YYYY-MM-DD\") %> \u00a4 typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"<% tp.date.now(\"dddd Do MMM YYYY\", 0, tp.file.title, \"YYYY-MM-DD\") %>"},{"location":"blog-notes/templates%20%E2%99%BB%EF%B8%8F/daily/#tpdatenowdddd-do-mmm-yyyy-0-tpfiletitle-yyyy-mm-dd","text":"typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"&lt;% tp.date.now(\"dddd Do MMM YYYY\", 0, tp.file.title, \"YYYY-MM-DD\") %&gt;"},{"location":"cloud/2022/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } 2022 DevOps \u00a4 Learned \u00a4 https://www.youtube.com/watch?v=DsQu66ZMG4M (Secret Daemonset: Means: Runs on all nodes (pod for the driver in any node) CSI: Container Storage Interface (i.e. Volumnes mounted into pods) datree: validates (lints) k8s yaml files. Operator Ext Secrets: https://www.youtube.com/watch?v=SyRZe5YVCVk https://kubernetes.io/docs/reference/kubectl/cheatsheet/ Todo \u00a4 Argo: App of app = Application Sets (repo organziation, from devtron vid https://www.youtube.com/watch?v=ZKcfZC-zSMM&t=189s ) Tilt Dev Envs -> automate save - build ship deploy https://tilt.dev/ can also file sync only (extension https://github.com/tilt-dev/tilt-extensions ) arkade: better helm plus: arkade get helm kubectl tilt (...) telepresence: reroute svc traffic into your laptop. microservices: https://www.youtube.com/watch?v=F-37_gV2tMs Python CRD Lib \u00a4 Stephan: Too hard: https://github.com/nolar/kopf/tree/main/examples Kind \u00a4 Ideal for local k8s and Testing. Nodes are containers, as many as you want. Works with podman, just set dockerhub only in /etc/containers/registries.conf k3s \u00a4 Better than minikube regarding resources and deploy time HA k3s on TF https://registry.terraform.io/modules/aigisuk/ha-k3s/digitalocean/latest https://colinwilson.uk/2021/04/04/deploy-a-ha-k3s-cluster-on-digitalocean-in-10-minutes-using-terraform/ Minikube \u00a4 Create a Fedora 36 server WITH MIN 2 CORES. User script: #!/bin/bash user = gk GU = \"https://packages.cloud.google.com/yum/\" function add_user { adduser $user cp -a /root/.ssh /home/ $user / chown -R $user /home/ $user /.ssh echo \" $user ALL=(ALL) NOPASSWD: ALL\" >> /etc/sudoers } function set_shell_env { for d in /root /home/ $user ; do echo 'alias vi=nvim' >> $d /.bashrc echo 'alias ff=\"fd --no-ignore --hidden\"' >> $d /.bashrc done } function inst_packages { dnf -y update dnf -y install neovim podman git ripgrep fzf netcat fd-find } function inst_kubectl { cat <<EOF > /etc/yum.repos.d/kubernetes.repo [kubernetes] name=Kubernetes baseurl=$GU/repos/kubernetes-el7-x86_64 enabled=1 gpgcheck=1 repo_gpgcheck=1 gpgkey=$GU/doc/yum-key.gpg $GU/doc/rpm-package-key.gpg EOF yum install -y kubectl } function inst_minicube { curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-latest.x86_64.rpm rpm -Uhv ./minikube-latest.x86_64.rpm } function main { add_user set_shell_env inst_packages inst_kubectl inst_minicube } main Elakstic via Operator \u00a4 Deploy 3 node k3s wget https://download.elastic.co/downloads/eck/2.3.0/crds.yaml and wget https://download.elastic.co/downloads/eck/2.3.0/operator.yaml create -f the crds and apply the operator annotate all nodes: for n in k2server k21 k22 k23; do kubectl patch node $n -p '{\"metadata\":{\"annotations\":{\"topology.kubernetes.io/zone\": \"fra1\"}}}'; done apply: --- apiVersion: elasticsearch.k8s.elastic.co/v1 kind: Elasticsearch metadata: name: elasticsearch spec: version: 8.2.0 nodeSets: - name: default config: node.roles: [\"master\", \"data\", \"ingest\", \"ml\"] node.store.allow_mmap: false cluster.routing.allocation.awareness.attributes: k8s_node_name podTemplate: spec: containers: - name: elasticsearch resources: limits: memory: 4Gi cpu: 1 env: - name: ES_JAVA_OPTS value: \"-Xms2g -Xmx2g\" count: 3 port forward and connect (ssl). Admin creds from elastic std k8s docs. Redis via Helm \u00a4 helm install my-redis bitnami/redis-cluster helm get manifest|notes my-redis Values: show vs get \u00a4 helm show values bitnami/redis-cluster # show works on repo, get on install: helm install --set service.ports.redis=2222 fubar bitnami/redis-cluster helm get values fubar USER-SUPPLIED VALUES: service: ports: redis: 2222 Did not find how to really have it on different port. kubectl get svc ssh \u00a4 kubectl run --rm -i --tty c4 --image=docksal/ssh-agent -- bash and you have ssh to other images typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"2022 DevOps"},{"location":"cloud/2022/#2022-devops","text":"","title":"2022 DevOps"},{"location":"cloud/2022/#learned","text":"https://www.youtube.com/watch?v=DsQu66ZMG4M (Secret Daemonset: Means: Runs on all nodes (pod for the driver in any node) CSI: Container Storage Interface (i.e. Volumnes mounted into pods) datree: validates (lints) k8s yaml files. Operator Ext Secrets: https://www.youtube.com/watch?v=SyRZe5YVCVk https://kubernetes.io/docs/reference/kubectl/cheatsheet/","title":"Learned"},{"location":"cloud/2022/#todo","text":"Argo: App of app = Application Sets (repo organziation, from devtron vid https://www.youtube.com/watch?v=ZKcfZC-zSMM&t=189s ) Tilt Dev Envs -> automate save - build ship deploy https://tilt.dev/ can also file sync only (extension https://github.com/tilt-dev/tilt-extensions ) arkade: better helm plus: arkade get helm kubectl tilt (...) telepresence: reroute svc traffic into your laptop. microservices: https://www.youtube.com/watch?v=F-37_gV2tMs","title":"Todo"},{"location":"cloud/2022/#python-crd-lib","text":"Stephan: Too hard: https://github.com/nolar/kopf/tree/main/examples","title":"Python CRD Lib"},{"location":"cloud/2022/#kind","text":"Ideal for local k8s and Testing. Nodes are containers, as many as you want. Works with podman, just set dockerhub only in /etc/containers/registries.conf","title":"Kind"},{"location":"cloud/2022/#k3s","text":"Better than minikube regarding resources and deploy time HA k3s on TF https://registry.terraform.io/modules/aigisuk/ha-k3s/digitalocean/latest https://colinwilson.uk/2021/04/04/deploy-a-ha-k3s-cluster-on-digitalocean-in-10-minutes-using-terraform/","title":"k3s"},{"location":"cloud/2022/#minikube","text":"Create a Fedora 36 server WITH MIN 2 CORES. User script: #!/bin/bash user = gk GU = \"https://packages.cloud.google.com/yum/\" function add_user { adduser $user cp -a /root/.ssh /home/ $user / chown -R $user /home/ $user /.ssh echo \" $user ALL=(ALL) NOPASSWD: ALL\" >> /etc/sudoers } function set_shell_env { for d in /root /home/ $user ; do echo 'alias vi=nvim' >> $d /.bashrc echo 'alias ff=\"fd --no-ignore --hidden\"' >> $d /.bashrc done } function inst_packages { dnf -y update dnf -y install neovim podman git ripgrep fzf netcat fd-find } function inst_kubectl { cat <<EOF > /etc/yum.repos.d/kubernetes.repo [kubernetes] name=Kubernetes baseurl=$GU/repos/kubernetes-el7-x86_64 enabled=1 gpgcheck=1 repo_gpgcheck=1 gpgkey=$GU/doc/yum-key.gpg $GU/doc/rpm-package-key.gpg EOF yum install -y kubectl } function inst_minicube { curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-latest.x86_64.rpm rpm -Uhv ./minikube-latest.x86_64.rpm } function main { add_user set_shell_env inst_packages inst_kubectl inst_minicube } main","title":"Minikube"},{"location":"cloud/2022/#elakstic-via-operator","text":"Deploy 3 node k3s wget https://download.elastic.co/downloads/eck/2.3.0/crds.yaml and wget https://download.elastic.co/downloads/eck/2.3.0/operator.yaml create -f the crds and apply the operator annotate all nodes: for n in k2server k21 k22 k23; do kubectl patch node $n -p '{\"metadata\":{\"annotations\":{\"topology.kubernetes.io/zone\": \"fra1\"}}}'; done apply: --- apiVersion: elasticsearch.k8s.elastic.co/v1 kind: Elasticsearch metadata: name: elasticsearch spec: version: 8.2.0 nodeSets: - name: default config: node.roles: [\"master\", \"data\", \"ingest\", \"ml\"] node.store.allow_mmap: false cluster.routing.allocation.awareness.attributes: k8s_node_name podTemplate: spec: containers: - name: elasticsearch resources: limits: memory: 4Gi cpu: 1 env: - name: ES_JAVA_OPTS value: \"-Xms2g -Xmx2g\" count: 3 port forward and connect (ssl). Admin creds from elastic std k8s docs.","title":"Elakstic via Operator"},{"location":"cloud/2022/#redis-via-helm","text":"helm install my-redis bitnami/redis-cluster helm get manifest|notes my-redis","title":"Redis via Helm"},{"location":"cloud/2022/#values-show-vs-get","text":"helm show values bitnami/redis-cluster # show works on repo, get on install: helm install --set service.ports.redis=2222 fubar bitnami/redis-cluster helm get values fubar USER-SUPPLIED VALUES: service: ports: redis: 2222 Did not find how to really have it on different port. kubectl get svc","title":"Values: show vs get"},{"location":"cloud/2022/#ssh","text":"kubectl run --rm -i --tty c4 --image=docksal/ssh-agent -- bash and you have ssh to other images typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"ssh"},{"location":"cloud/ci/github_actions/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Github Actions \u00a4 Notable Features \u00a4 Blazing FAST pick up after push declarative yaml cache!! artifacts local runners build matrix does not interfere with other builds, run in seperate containers obviously (e.g. tmux flows did not collide, allthough parallel) slick UI Example Python Project \u00a4 Normal Python (with caching) Thanks (yet again), Timothy name : ci on : push : branches : - master pull_request : branches : - master defaults : run : shell : bash env : LANG : \"en_US.utf-8\" LC_ALL : \"en_US.utf-8\" POETRY_VIRTUALENVS_IN_PROJECT : \"true\" PYTHONIOENCODING : \"UTF-8\" jobs : quality : runs-on : ubuntu-latest steps : - name : Checkout uses : actions/checkout@v2 - name : Set up Python 3.6 uses : actions/setup-python@v1 with : python-version : 3.8 - name : Set up the cache uses : actions/cache@v1 with : path : .venv key : cache-python-packages-2 - name : Set up the project run : | pip install poetry safety poetry install -v - name : Check if the documentation builds correctly run : poetry run duty check-docs - name : Check the code quality run : poetry run duty check-code-quality - name : Check if the code is correctly typed run : poetry run duty check-types - name : Check for vulnerabilities in dependencies run : poetry run duty check-dependencies tests : strategy : max-parallel : 6 matrix : os : [ ubuntu-latest , macos-latest , windows-latest ] python-version : [ 3.6 , 3.7 , 3.8 ] runs-on : ${{ matrix.os }} steps : - name : Checkout uses : actions/checkout@v2 - name : Set up Python ${{ matrix.python-version }} uses : actions/setup-python@v1 with : python-version : ${{ matrix.python-version }} - name : Set up the cache uses : actions/cache@v1 env : cache-name : cache-python-packages with : path : .venv key : ${{ matrix.os }}-${{ matrix.python-version }}-${{ env.cache-name }}-2 - name : Set up the project run : | pip install poetry poetry install -v - name : Run the test suite run : poetry run duty test $PATH / sourcing files \u00a4 How to activate conda, i.e. get the PATH expanded. The problem with those step by step tools is that every bash action is run in a subshell. I.e. you cannot source files or export vars for all others there. Also they do not allow to ref env when setting env vars. See here ... here for crazy \"solutions\" around. Official \"solution\" to PATH is also ridiculous: The put ALL in - but not conda: echo $PATH /home/linuxbrew/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/sbin:/home/runner/.local/bin:/opt/pipx_bin:/usr/share/rust/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/runner/.dotnet/tools Means: We also have to hardcode it: env : MC : \"/home/runner/miniconda3\" PATH : \"$(MC)/bin:/home/runner/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:\" My Conda Driven Flow \u00a4 Local: \u00a4 I have my presets in <project root>/environ , which is automatically sourced on cd into it. It sets $PROJECT and $pyver , parametrizing fully the conda env for the project. Sources make Calls activate_venv function -> all set, with the default dev python env CI: \u00a4 $PROJECT is global in env $pyver per buildmatrix version cached is the root $HOME/miniconda3 also cached the pyver specific envs, containing all pip installs. cache name for the latter: cache_name: cache-miniconda-envs-${{ env.PROJECT }}_py${{ matrix.python-version }}_${{ hashFiles('pyproject.toml') }} Deletion of Old Caches GH deletes the caches unused for 7 days. Cmd Output $ $ cat .github/workflows/ci.yml name: ci on: push: branches: - master pull_request: branches: - master defaults: run: shell: bash env: LANG: \"en_US.utf-8\" LC_ALL: \"en_US.utf-8\" POETRY_VIRTUALENVS_IN_PROJECT: \"true\" PYTHONIOENCODING: \"UTF-8\" PROJECT: \"blog\" MC: \"/home/runner/miniconda3\" PATH: \"$(MC)/bin:/home/runner/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:\" versioning: calver # for git-changelog jobs: tests: name: Tests (${{ matrix.python-version }}, ${{ matrix.os }}) runs-on: ${{ matrix.os }} strategy: fail-fast: false max-parallel: 6 matrix: os: [\"ubuntu-latest\"] python-version: [\"3.7\", \"3.8\"] steps: - uses: actions/checkout@v2 - name: Set up the Miniconda Root Cache uses: actions/cache@v2 env: cache_name: cache-miniconda-root with: path: ~/miniconda3 key: ${{ runner.os }}-build-${{ env.cache_name }} - name: Install Miniconda Root shell: bash -l {0} run: \"source ./make && make ci_conda_root_env\" - name: Conda info shell: bash -l {0} run: conda info - name: Set up the Miniconda Envs Cache # they delete unused ones after 7 days. uses: actions/cache@v2 env: cache_name: cache-miniconda-envs-${{ env.PROJECT }}_py${{ matrix.python-version }}_${{ hashFiles('pyproject.toml', 'scripts/**') }} with: path: ~/miniconda3/envs/${{ env.PROJECT }}_py${{ matrix.python-version }} key: ${{ runner.os }}-build-${{ env.cache_name }} - name: Install Miniconda PyEnv shell: bash -l {0} env: pyver: \"${{ matrix.python-version }}\" run: \"source ./make && make && make ci_conda_py_env\" - name: Run tests shell: bash -l {0} env: pyver: \"${{ matrix.python-version }}\" run: \"source ./make && activate_venv && make tests\" - name: Test Docs LiterateProgramming shell: bash -l {0} env: pyver: \"${{ matrix.python-version }}\" run: \"source ./make && activate_venv && make docs\" - name: Deploy Docs shell: bash -l {0} env: pyver: \"${{ matrix.python-version }}\" run: \"source ./make && activate_venv && ${{ env.pyver == '3.9' && 'mkdocs gh-deploy --force' || true }}\" typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Github Actions"},{"location":"cloud/ci/github_actions/#github-actions","text":"","title":"Github Actions"},{"location":"cloud/ci/github_actions/#notable-features","text":"Blazing FAST pick up after push declarative yaml cache!! artifacts local runners build matrix does not interfere with other builds, run in seperate containers obviously (e.g. tmux flows did not collide, allthough parallel) slick UI","title":"Notable Features"},{"location":"cloud/ci/github_actions/#example-python-project","text":"Normal Python (with caching) Thanks (yet again), Timothy name : ci on : push : branches : - master pull_request : branches : - master defaults : run : shell : bash env : LANG : \"en_US.utf-8\" LC_ALL : \"en_US.utf-8\" POETRY_VIRTUALENVS_IN_PROJECT : \"true\" PYTHONIOENCODING : \"UTF-8\" jobs : quality : runs-on : ubuntu-latest steps : - name : Checkout uses : actions/checkout@v2 - name : Set up Python 3.6 uses : actions/setup-python@v1 with : python-version : 3.8 - name : Set up the cache uses : actions/cache@v1 with : path : .venv key : cache-python-packages-2 - name : Set up the project run : | pip install poetry safety poetry install -v - name : Check if the documentation builds correctly run : poetry run duty check-docs - name : Check the code quality run : poetry run duty check-code-quality - name : Check if the code is correctly typed run : poetry run duty check-types - name : Check for vulnerabilities in dependencies run : poetry run duty check-dependencies tests : strategy : max-parallel : 6 matrix : os : [ ubuntu-latest , macos-latest , windows-latest ] python-version : [ 3.6 , 3.7 , 3.8 ] runs-on : ${{ matrix.os }} steps : - name : Checkout uses : actions/checkout@v2 - name : Set up Python ${{ matrix.python-version }} uses : actions/setup-python@v1 with : python-version : ${{ matrix.python-version }} - name : Set up the cache uses : actions/cache@v1 env : cache-name : cache-python-packages with : path : .venv key : ${{ matrix.os }}-${{ matrix.python-version }}-${{ env.cache-name }}-2 - name : Set up the project run : | pip install poetry poetry install -v - name : Run the test suite run : poetry run duty test","title":"Example Python Project"},{"location":"cloud/ci/github_actions/#path-sourcing-files","text":"How to activate conda, i.e. get the PATH expanded. The problem with those step by step tools is that every bash action is run in a subshell. I.e. you cannot source files or export vars for all others there. Also they do not allow to ref env when setting env vars. See here ... here for crazy \"solutions\" around. Official \"solution\" to PATH is also ridiculous: The put ALL in - but not conda: echo $PATH /home/linuxbrew/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/sbin:/home/runner/.local/bin:/opt/pipx_bin:/usr/share/rust/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/runner/.dotnet/tools Means: We also have to hardcode it: env : MC : \"/home/runner/miniconda3\" PATH : \"$(MC)/bin:/home/runner/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:\"","title":"$PATH / sourcing files"},{"location":"cloud/ci/github_actions/#my-conda-driven-flow","text":"","title":"My Conda Driven Flow"},{"location":"cloud/ci/github_actions/#local","text":"I have my presets in <project root>/environ , which is automatically sourced on cd into it. It sets $PROJECT and $pyver , parametrizing fully the conda env for the project. Sources make Calls activate_venv function -> all set, with the default dev python env","title":"Local:"},{"location":"cloud/ci/github_actions/#ci","text":"$PROJECT is global in env $pyver per buildmatrix version cached is the root $HOME/miniconda3 also cached the pyver specific envs, containing all pip installs. cache name for the latter: cache_name: cache-miniconda-envs-${{ env.PROJECT }}_py${{ matrix.python-version }}_${{ hashFiles('pyproject.toml') }} Deletion of Old Caches GH deletes the caches unused for 7 days. Cmd Output $ $ cat .github/workflows/ci.yml name: ci on: push: branches: - master pull_request: branches: - master defaults: run: shell: bash env: LANG: \"en_US.utf-8\" LC_ALL: \"en_US.utf-8\" POETRY_VIRTUALENVS_IN_PROJECT: \"true\" PYTHONIOENCODING: \"UTF-8\" PROJECT: \"blog\" MC: \"/home/runner/miniconda3\" PATH: \"$(MC)/bin:/home/runner/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:\" versioning: calver # for git-changelog jobs: tests: name: Tests (${{ matrix.python-version }}, ${{ matrix.os }}) runs-on: ${{ matrix.os }} strategy: fail-fast: false max-parallel: 6 matrix: os: [\"ubuntu-latest\"] python-version: [\"3.7\", \"3.8\"] steps: - uses: actions/checkout@v2 - name: Set up the Miniconda Root Cache uses: actions/cache@v2 env: cache_name: cache-miniconda-root with: path: ~/miniconda3 key: ${{ runner.os }}-build-${{ env.cache_name }} - name: Install Miniconda Root shell: bash -l {0} run: \"source ./make && make ci_conda_root_env\" - name: Conda info shell: bash -l {0} run: conda info - name: Set up the Miniconda Envs Cache # they delete unused ones after 7 days. uses: actions/cache@v2 env: cache_name: cache-miniconda-envs-${{ env.PROJECT }}_py${{ matrix.python-version }}_${{ hashFiles('pyproject.toml', 'scripts/**') }} with: path: ~/miniconda3/envs/${{ env.PROJECT }}_py${{ matrix.python-version }} key: ${{ runner.os }}-build-${{ env.cache_name }} - name: Install Miniconda PyEnv shell: bash -l {0} env: pyver: \"${{ matrix.python-version }}\" run: \"source ./make && make && make ci_conda_py_env\" - name: Run tests shell: bash -l {0} env: pyver: \"${{ matrix.python-version }}\" run: \"source ./make && activate_venv && make tests\" - name: Test Docs LiterateProgramming shell: bash -l {0} env: pyver: \"${{ matrix.python-version }}\" run: \"source ./make && activate_venv && make docs\" - name: Deploy Docs shell: bash -l {0} env: pyver: \"${{ matrix.python-version }}\" run: \"source ./make && activate_venv && ${{ env.pyver == '3.9' && 'mkdocs gh-deploy --force' || true }}\" typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"CI:"},{"location":"cloud/dns/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } DNS \u00a4 nip.io \u00a4 Pretty cool for testing: Resolves a-b-c-d.nip.io to a.b.c.d or also: app-c0a801fc.nip.io maps to 192.168.1.252 (c0a...is hex of the ip) Dynu and DigitalOcean \u00a4 I registered a domain at dynu, which is a DDNS provider. I could have also registered simple hosts with predefined domains for free but I invested the 10 euro / year into owning axlc.net . Here is their API , you can easily add resolutions for hosts. Example: curl -X POST https://api.dynu.com/v2/dns -H \"accept: application/json\" -H \"API-key: $( pass show AX/ddns_dynu_api ) \" -d '{\"ipv4Address\": \"167.71.34.171\", \"name\": \"b-2.axlc.net\", \"group\": \"lowcode\", \"ipv4\": true, \"ipv4WildcardAlias\": true}' But: This is NOT how we want to update our cluster services. This should be done from inside k8s. We have https://github.com/kubernetes-sigs/external-dns to automatically publish your services/ingresses/gateways to DNS and it has a plugin for DO https://github.com/kubernetes-sigs/external-dns/blob/master/docs/tutorials/digitalocean.md I.e. we need to use DO ns servers for our domain. Add ns1.digitalocean.com and ns2 as well, then delete all dynu dns servers here, and no, you don't need to pay the 10$ for membership to do that: Home / Control Panel/ Domain Registrations / Manage Domain Name / Manage Name Servers ~ \u276f whois axlc.net |grep 'Name Server' Name Server: NS1.DIGITALOCEAN.COM Name Server: NS2.DIGITALOCEAN.COM Test: Configure in DO networking a resolution: So that [gk@axgk devapps]$ dig @ns1.digitalocean.com foo.do.axlc.net +short 157.230.102.229 Then wait an hour or so until ping foo.do.axlc.net works as well. here you can check right away: https://dnschecker.org/all-dns-records-of-domain.php?query=foo.do.axlc.net&rtype=ALL&dns=google Addendum \u00a4 Direct API of DO for DNS: https://surdu.me/2019/07/28/digital-ocean-ddns.html typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"DNS"},{"location":"cloud/dns/#dns","text":"","title":"DNS"},{"location":"cloud/dns/#nipio","text":"Pretty cool for testing: Resolves a-b-c-d.nip.io to a.b.c.d or also: app-c0a801fc.nip.io maps to 192.168.1.252 (c0a...is hex of the ip)","title":"nip.io"},{"location":"cloud/dns/#dynu-and-digitalocean","text":"I registered a domain at dynu, which is a DDNS provider. I could have also registered simple hosts with predefined domains for free but I invested the 10 euro / year into owning axlc.net . Here is their API , you can easily add resolutions for hosts. Example: curl -X POST https://api.dynu.com/v2/dns -H \"accept: application/json\" -H \"API-key: $( pass show AX/ddns_dynu_api ) \" -d '{\"ipv4Address\": \"167.71.34.171\", \"name\": \"b-2.axlc.net\", \"group\": \"lowcode\", \"ipv4\": true, \"ipv4WildcardAlias\": true}' But: This is NOT how we want to update our cluster services. This should be done from inside k8s. We have https://github.com/kubernetes-sigs/external-dns to automatically publish your services/ingresses/gateways to DNS and it has a plugin for DO https://github.com/kubernetes-sigs/external-dns/blob/master/docs/tutorials/digitalocean.md I.e. we need to use DO ns servers for our domain. Add ns1.digitalocean.com and ns2 as well, then delete all dynu dns servers here, and no, you don't need to pay the 10$ for membership to do that: Home / Control Panel/ Domain Registrations / Manage Domain Name / Manage Name Servers ~ \u276f whois axlc.net |grep 'Name Server' Name Server: NS1.DIGITALOCEAN.COM Name Server: NS2.DIGITALOCEAN.COM Test: Configure in DO networking a resolution: So that [gk@axgk devapps]$ dig @ns1.digitalocean.com foo.do.axlc.net +short 157.230.102.229 Then wait an hour or so until ping foo.do.axlc.net works as well. here you can check right away: https://dnschecker.org/all-dns-records-of-domain.php?query=foo.do.axlc.net&rtype=ALL&dns=google","title":"Dynu and DigitalOcean"},{"location":"cloud/dns/#addendum","text":"Direct API of DO for DNS: https://surdu.me/2019/07/28/digital-ocean-ddns.html typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Addendum"},{"location":"cloud/dnsmasq/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } DNSMasq for Testing Cloud Setups \u00a4 !!! quote \" OpenShift Provisining \" That said, DNS is extremely important to the success of the OpenShift 4 installer. Pay close attention to the records you create and verify each one before installation, especially the first time. !!! quote \" Prerequisites Terraform on DO \" - A personal domain pointed to DigitalOcean\u2019s nameservers. See How To Point to DigitalOcean Nameservers From Common Domain Registrars or How to Add Domains using DigitalOcean\u2019s Control Panel. - Note: Use your own, unique domain name or Terraform will be unable to deploy the DNS resources. Be sure your domain is pointed to DigitalOcean nameservers. DNS is in many cases a practical and simple solution for cluster internal service routing. But Cloud Infrastructure Providers and even container orchestrators, in many cases, want to also own resolution of external DNS queries, for the resources run on their Infrastructure. Registered propagated domains are a time and resource bottleneck, when you think about many developers working on the same codebases, which is to be deployed and tested by them, CI/CD and so on. On AWS you have Route53 for quick test DNS services but a more generic approach is to use dnsmasq on the test machines. In dnsmasq, you can do: address=/myfakedomain.com/10.16.1.20 to redirect queries for myfakedomain.com to the IP address specified. You can even do things like: address=/plex/10.16.1.55 Basic Setup \u00a4 `bash ~ \u276f cat /etc/dnsmasq.d/tftest.net no-dhcp-interface=enp56s0u1u2i5 bogus-priv domain=tftest.net expand-hosts # not works for me: #addn-hosts=/home/gk/tfhosts local=/tftest.net/ domain-needed no-resolv no-poll server=8.8.8.8 server=8.8.4.4 and ~ \u276f cat /etc/hosts 127 .0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain6 10 .0.0.30 hp 10 .0.0.84 gk 10 .0.0.1 fritz ```` Then ` systemctl restart dnsmasq ` You get resolution then : ``` bash ~ \u276f nslookup gk 127 .0.0.1 Server: 127 .0.0.1 Address: 127 .0.0.1#53 Name: gk Address: 10 .0.0.84 ~ \u276f nslookup gk.tftest.net 127 .0.0.1 Server: 127 .0.0.1 Address: 127 .0.0.1#53 Name: gk.tftest.net Address: 10 .0.0.84 and with `bash ~ \u276f sudo systemd-resolve --set-dns 127.0.0.1 --interface=enp56s0u1u2i5 [sudo] password for gk: this also works: ~ \u276f ping gk.tftest.net PING gk.tftest.net (10.0.0.84) 56(84) bytes of data. Forwarding \u00a4 Now configure address=/tftest.net/<ip of cloud provider's dns> and they'll get the resolution requests. Reminder: To try those DNS servers w/o DNS mask: dig @ns1.digitalocean.com host1.mytest.com If that works you can do the above. Resources: \u00a4 Youtube good explanation for all config vars DO: https://serverpilot.io/docs/how-to-configure-dns-on-digitalocean/ DO: https://www.digitalocean.com/community/tutorials/how-to-point-to-digitalocean-nameservers-from-common-domain-registrars https://serverfault.com/questions/1031180/dns-server-for-fake-domain-for-internal-testing-usage-only-on-linux ` typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"DNSMasq"},{"location":"cloud/dnsmasq/#dnsmasq-for-testing-cloud-setups","text":"!!! quote \" OpenShift Provisining \" That said, DNS is extremely important to the success of the OpenShift 4 installer. Pay close attention to the records you create and verify each one before installation, especially the first time. !!! quote \" Prerequisites Terraform on DO \" - A personal domain pointed to DigitalOcean\u2019s nameservers. See How To Point to DigitalOcean Nameservers From Common Domain Registrars or How to Add Domains using DigitalOcean\u2019s Control Panel. - Note: Use your own, unique domain name or Terraform will be unable to deploy the DNS resources. Be sure your domain is pointed to DigitalOcean nameservers. DNS is in many cases a practical and simple solution for cluster internal service routing. But Cloud Infrastructure Providers and even container orchestrators, in many cases, want to also own resolution of external DNS queries, for the resources run on their Infrastructure. Registered propagated domains are a time and resource bottleneck, when you think about many developers working on the same codebases, which is to be deployed and tested by them, CI/CD and so on. On AWS you have Route53 for quick test DNS services but a more generic approach is to use dnsmasq on the test machines. In dnsmasq, you can do: address=/myfakedomain.com/10.16.1.20 to redirect queries for myfakedomain.com to the IP address specified. You can even do things like: address=/plex/10.16.1.55","title":"DNSMasq for Testing Cloud Setups"},{"location":"cloud/dnsmasq/#basic-setup","text":"`bash ~ \u276f cat /etc/dnsmasq.d/tftest.net no-dhcp-interface=enp56s0u1u2i5 bogus-priv domain=tftest.net expand-hosts # not works for me: #addn-hosts=/home/gk/tfhosts local=/tftest.net/ domain-needed no-resolv no-poll server=8.8.8.8 server=8.8.4.4 and ~ \u276f cat /etc/hosts 127 .0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain6 10 .0.0.30 hp 10 .0.0.84 gk 10 .0.0.1 fritz ```` Then ` systemctl restart dnsmasq ` You get resolution then : ``` bash ~ \u276f nslookup gk 127 .0.0.1 Server: 127 .0.0.1 Address: 127 .0.0.1#53 Name: gk Address: 10 .0.0.84 ~ \u276f nslookup gk.tftest.net 127 .0.0.1 Server: 127 .0.0.1 Address: 127 .0.0.1#53 Name: gk.tftest.net Address: 10 .0.0.84 and with `bash ~ \u276f sudo systemd-resolve --set-dns 127.0.0.1 --interface=enp56s0u1u2i5 [sudo] password for gk: this also works: ~ \u276f ping gk.tftest.net PING gk.tftest.net (10.0.0.84) 56(84) bytes of data.","title":"Basic Setup"},{"location":"cloud/dnsmasq/#forwarding","text":"Now configure address=/tftest.net/<ip of cloud provider's dns> and they'll get the resolution requests. Reminder: To try those DNS servers w/o DNS mask: dig @ns1.digitalocean.com host1.mytest.com If that works you can do the above.","title":"Forwarding"},{"location":"cloud/dnsmasq/#resources","text":"Youtube good explanation for all config vars DO: https://serverpilot.io/docs/how-to-configure-dns-on-digitalocean/ DO: https://www.digitalocean.com/community/tutorials/how-to-point-to-digitalocean-nameservers-from-common-domain-registrars https://serverfault.com/questions/1031180/dns-server-for-fake-domain-for-internal-testing-usage-only-on-linux ` typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Resources:"},{"location":"cloud/k8s/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Kubernetes Notes \u00a4 Extensive subject. Small collection of notes for basic usage patterns below. Using kubectl \u00a4 k9s kubectl is nice but have a look at k9s as well! Completion About Comparison: zsh vs. bash TAB completion is a must to use this tool, there are so many options to certain commands. I recommend to use zsh here for it's better completions browsing, compared with bash. fish is not supported out of the box by kubectl. See https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/#enable-shell-autocompletion add on demand If you not regularly work with kubectl I would not source the completion funcs within your shell profile, i.e. pump them into any shell process - but rather source it on demand, i.e. through an alias or function overload: [gk@axgk ~]$ set -a ; env | wc -l ; source < ( kubectl completion bash ) ; env | wc -l ; set +a 68 13022 As said, it is a big tool... Comparison of zsh and bash after kubectl get<TAB><TAB> (and some arrow navigation in zsh, which is not possible in bash): {style=\"width:300px\" kubectl actions get exec logs -o json -w --watch get events Ideal to pick values with jq, like kubectl get -o json ...| jq -r .foo.somelist[0].bar While running an apply of a stateful set in one terminal ( kubectl apply -f web.yaml ) in another we run get with the follow flag: $ k get pods -w -l app=nginx NAME READY STATUS RESTARTS AGE web-0 0/1 Pending 0 0s web-0 0/1 Pending 0 0s web-0 0/1 Pending 0 4s web-0 0/1 ContainerCreating 0 4s web-0 1/1 Running 0 19s web-1 0/1 Pending 0 0s web-1 0/1 Pending 0 0s web-1 0/1 Pending 0 4s web-1 0/1 ContainerCreating 0 4s web-1 1/1 Running 0 17s We can see very nicely that web-1 waited for web-0 to be up. $ k get events LAST SEEN TYPE REASON OBJECT MESSAGE 59m Normal Scheduled pod/frontend-67bc4f75c8-b5dbd Successfully assigned default/frontend-67bc4f75c8-b5dbd to app-pool-8h9x7 58m Normal Pulling pod/frontend-67bc4f75c8-b5dbd Pulling image \"my.priv.reg/docker/devapps/hello_app_1:0.2\" 59m Normal Pulled pod/frontend-67bc4f75c8-b5dbd Successfully pulled image \"my.priv.reg/docker/devapps/hello_app_1:0.2\" in 626.890381ms 58m Normal Created pod/frontend-67bc4f75c8-b5dbd Created container py-hello1 58m Normal Started pod/frontend-67bc4f75c8-b5dbd Started container py-hello1 58m Normal Pulled pod/frontend-67bc4f75c8-b5dbd Successfully pulled image \"my.priv.reg/docker/devapps/hello_app_1:0.2\" in 263.573276ms 58m Normal Killing pod/frontend-67bc4f75c8-b5dbd Stopping container py-hello1 59m Normal Scheduled pod/frontend-67bc4f75c8-nj9xh Successfully assigned default/frontend-67bc4f75c8-nj9xh to app-pool-8h9xm 59m Warning FailedMount pod/frontend-67bc4f75c8-nj9xh MountVolume.SetUp failed for volume \"kube-api-access-pqcnc\" : failed to sync configmap cache: timed out waiting for the condition 58m Normal Pulling pod/frontend-67bc4f75c8-nj9xh Pulling image \"my.priv.reg/docker/devapps/hello_app_1:0.2\" 59m ~/repos/blog/t/cl/D/k8s/hello_app_1 master ?3 \u276f for i in 0 1; do kubectl exec \"web-$i\" -- sh -c 'uname -a'; done Linux web-0 4.19.0-17-amd64 #1 SMP Debian 4.19.194-2 (2021-06-21) x86_64 x86_64 x86_64 GNU/Linux Linux web-1 4.19.0-17-amd64 #1 SMP Debian 4.19.194-2 (2021-06-21) x86_64 x86_64 x86_64 GNU/Linux the stdout stream viewer of pods: ~/repos/blog/t/cl/D/k8s/hello_app master ?4 \u276f kubectl get pods NAME READY STATUS RESTARTS AGE hello2-d646c6dc4-zvklb 1/1 Running 0 22m hello2-mysql-7bfb675994-m777v 0/1 CrashLoopBackOff 9 22m ~/repos/blog/t/cl/D/k8s/hello_app master ?4 \u276f kubectl logs --follow hello2-mysql-7bfb675994-m777v 2021-08-16 14:38:40+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.35-1debian10 started. 2021-08-16 14:38:40+00:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql' 2021-08-16 14:38:40+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.35-1debian10 started. 2021-08-16 14:38:40+00:00 [Note] [Entrypoint]: Initializing database files 2021-08-16T14:38:40.187932Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details). 2021-08-16T14:38:40.189022Z 0 [ERROR] --initialize specified but the data directory has files in it. Aborting. 2021-08-16T14:38:40.189052Z 0 [ERROR] Aborting Troubleshooting \u00a4 Problems MySQL won't start ErrImagePull StatefulSet Terminating - forever. Description: On ext4 the mysql5.7 images refuses to start due to non empty dir otherwise. Resolution: spec : containers : - image : mysql:5.7 name : mysql args : - \"--ignore-db-dir=lost+found\" env : - name : MYSQL_ROOT_HOST value : \"%\" (...) Description: At k get pods output. Resolution: Check k describe pod frontend . In my case it was a an auth problem at the private registry, needed add the registry secret. imagePullSecrets : - name : regcred Description: You cannot get rid of pods of a stateful set. Also not via the UI. Also not via force: ~/repos/blog/t/cl/D/k8s/hello_app_1 master !1 ?4 \u276f kubectl delete statefulsets web --force --grace-period=0 --cascade=orphan warning: Immediate deletion does not wait for confirmation that the running resource has been terminated. The resource may continue to run on the cluster indefinitely. statefulset.apps \"web\" force deleted ~/repos/blog/t/cl/D/k8s/hello_app_1 master !1 ?4 \u276f kubectl get pods NAME READY STATUS RESTARTS AGE web-0 0/1 Terminating 0 125m Trying to delete the claimed volume hangs: $ kubectl get persistentvolumes NAME CAPACITY ACCESS MODES RECLAIM POLICY STATUS CLAIM STORAGECLASS REASON AGE pvc-1f1102ca-fd35-40cc-bcf4-13739c4cd152 1Gi RWO Delete Terminating default/www-web-1 do-block-storage 134m pvc-43f476ce-ffec-49f4-b10c-0e3948ad5f29 1Gi RWO Delete Terminating default/www-web-0 do-block-storage 134m (...) $ kubectl delete persistentvolume pvc-1f1102ca-fd35-40cc-bcf4-13739c4cd152 persistentvolume \"pvc-1f1102ca-fd35-40cc-bcf4-13739c4cd152\" deleted (hangs here) Even a terraform destroy of the whole k8s cluster did not work anymore!! I had to go the the cloud provider frontend and explicitely destroy all volumes outside of the k8s dashboard - only then I could destroy the cluster! Resolution: Unknown at this time. It seems to be related to having deployed via a \"double entry descriptor\" like: apiVersion : v1 kind : Service metadata : name : nginx labels : app : nginx spec : ports : - port : 80 name : web1 clusterIP : None selector : app : nginx --- apiVersion : apps/v1 kind : StatefulSet metadata : name : web1 spec : serviceName : \"nginx\" replicas : 2 selector : matchLabels : app : nginx template : metadata : labels : app : nginx spec : containers : - name : nginx image : k8s.gcr.io/nginx-slim:0.8 tty : true stdin : true ports : - containerPort : 80 name : web1 volumeMounts : - name : www mountPath : /usr/share/nginx/html volumeClaimTemplates : - metadata : name : www spec : accessModes : [ \"ReadWriteOnce\" ] resources : requests : storage : 1Gi ... and deleted via kubectl delete -f web.yaml both at the same time - w/o taking care of the volume (claims). Working Procedure : Deleting one by one - in the right order: kubectl delete service nginx kubectl delete statefulsets.apps web1 Then delete the pvc (persistentvolume claim) Then delete the pv (persistend volumes) or: kubectl delete pvc --all # or pvc-name kubectl delete pod --all # / pod-name kubectl delete pv --all # / pv-name typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Notes"},{"location":"cloud/k8s/#kubernetes-notes","text":"Extensive subject. Small collection of notes for basic usage patterns below.","title":"Kubernetes Notes"},{"location":"cloud/k8s/#using-kubectl","text":"k9s kubectl is nice but have a look at k9s as well! Completion About Comparison: zsh vs. bash TAB completion is a must to use this tool, there are so many options to certain commands. I recommend to use zsh here for it's better completions browsing, compared with bash. fish is not supported out of the box by kubectl. See https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/#enable-shell-autocompletion add on demand If you not regularly work with kubectl I would not source the completion funcs within your shell profile, i.e. pump them into any shell process - but rather source it on demand, i.e. through an alias or function overload: [gk@axgk ~]$ set -a ; env | wc -l ; source < ( kubectl completion bash ) ; env | wc -l ; set +a 68 13022 As said, it is a big tool... Comparison of zsh and bash after kubectl get<TAB><TAB> (and some arrow navigation in zsh, which is not possible in bash): {style=\"width:300px\" kubectl actions get exec logs -o json -w --watch get events Ideal to pick values with jq, like kubectl get -o json ...| jq -r .foo.somelist[0].bar While running an apply of a stateful set in one terminal ( kubectl apply -f web.yaml ) in another we run get with the follow flag: $ k get pods -w -l app=nginx NAME READY STATUS RESTARTS AGE web-0 0/1 Pending 0 0s web-0 0/1 Pending 0 0s web-0 0/1 Pending 0 4s web-0 0/1 ContainerCreating 0 4s web-0 1/1 Running 0 19s web-1 0/1 Pending 0 0s web-1 0/1 Pending 0 0s web-1 0/1 Pending 0 4s web-1 0/1 ContainerCreating 0 4s web-1 1/1 Running 0 17s We can see very nicely that web-1 waited for web-0 to be up. $ k get events LAST SEEN TYPE REASON OBJECT MESSAGE 59m Normal Scheduled pod/frontend-67bc4f75c8-b5dbd Successfully assigned default/frontend-67bc4f75c8-b5dbd to app-pool-8h9x7 58m Normal Pulling pod/frontend-67bc4f75c8-b5dbd Pulling image \"my.priv.reg/docker/devapps/hello_app_1:0.2\" 59m Normal Pulled pod/frontend-67bc4f75c8-b5dbd Successfully pulled image \"my.priv.reg/docker/devapps/hello_app_1:0.2\" in 626.890381ms 58m Normal Created pod/frontend-67bc4f75c8-b5dbd Created container py-hello1 58m Normal Started pod/frontend-67bc4f75c8-b5dbd Started container py-hello1 58m Normal Pulled pod/frontend-67bc4f75c8-b5dbd Successfully pulled image \"my.priv.reg/docker/devapps/hello_app_1:0.2\" in 263.573276ms 58m Normal Killing pod/frontend-67bc4f75c8-b5dbd Stopping container py-hello1 59m Normal Scheduled pod/frontend-67bc4f75c8-nj9xh Successfully assigned default/frontend-67bc4f75c8-nj9xh to app-pool-8h9xm 59m Warning FailedMount pod/frontend-67bc4f75c8-nj9xh MountVolume.SetUp failed for volume \"kube-api-access-pqcnc\" : failed to sync configmap cache: timed out waiting for the condition 58m Normal Pulling pod/frontend-67bc4f75c8-nj9xh Pulling image \"my.priv.reg/docker/devapps/hello_app_1:0.2\" 59m ~/repos/blog/t/cl/D/k8s/hello_app_1 master ?3 \u276f for i in 0 1; do kubectl exec \"web-$i\" -- sh -c 'uname -a'; done Linux web-0 4.19.0-17-amd64 #1 SMP Debian 4.19.194-2 (2021-06-21) x86_64 x86_64 x86_64 GNU/Linux Linux web-1 4.19.0-17-amd64 #1 SMP Debian 4.19.194-2 (2021-06-21) x86_64 x86_64 x86_64 GNU/Linux the stdout stream viewer of pods: ~/repos/blog/t/cl/D/k8s/hello_app master ?4 \u276f kubectl get pods NAME READY STATUS RESTARTS AGE hello2-d646c6dc4-zvklb 1/1 Running 0 22m hello2-mysql-7bfb675994-m777v 0/1 CrashLoopBackOff 9 22m ~/repos/blog/t/cl/D/k8s/hello_app master ?4 \u276f kubectl logs --follow hello2-mysql-7bfb675994-m777v 2021-08-16 14:38:40+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.35-1debian10 started. 2021-08-16 14:38:40+00:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql' 2021-08-16 14:38:40+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.35-1debian10 started. 2021-08-16 14:38:40+00:00 [Note] [Entrypoint]: Initializing database files 2021-08-16T14:38:40.187932Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details). 2021-08-16T14:38:40.189022Z 0 [ERROR] --initialize specified but the data directory has files in it. Aborting. 2021-08-16T14:38:40.189052Z 0 [ERROR] Aborting","title":"Using kubectl"},{"location":"cloud/k8s/#troubleshooting","text":"Problems MySQL won't start ErrImagePull StatefulSet Terminating - forever. Description: On ext4 the mysql5.7 images refuses to start due to non empty dir otherwise. Resolution: spec : containers : - image : mysql:5.7 name : mysql args : - \"--ignore-db-dir=lost+found\" env : - name : MYSQL_ROOT_HOST value : \"%\" (...) Description: At k get pods output. Resolution: Check k describe pod frontend . In my case it was a an auth problem at the private registry, needed add the registry secret. imagePullSecrets : - name : regcred Description: You cannot get rid of pods of a stateful set. Also not via the UI. Also not via force: ~/repos/blog/t/cl/D/k8s/hello_app_1 master !1 ?4 \u276f kubectl delete statefulsets web --force --grace-period=0 --cascade=orphan warning: Immediate deletion does not wait for confirmation that the running resource has been terminated. The resource may continue to run on the cluster indefinitely. statefulset.apps \"web\" force deleted ~/repos/blog/t/cl/D/k8s/hello_app_1 master !1 ?4 \u276f kubectl get pods NAME READY STATUS RESTARTS AGE web-0 0/1 Terminating 0 125m Trying to delete the claimed volume hangs: $ kubectl get persistentvolumes NAME CAPACITY ACCESS MODES RECLAIM POLICY STATUS CLAIM STORAGECLASS REASON AGE pvc-1f1102ca-fd35-40cc-bcf4-13739c4cd152 1Gi RWO Delete Terminating default/www-web-1 do-block-storage 134m pvc-43f476ce-ffec-49f4-b10c-0e3948ad5f29 1Gi RWO Delete Terminating default/www-web-0 do-block-storage 134m (...) $ kubectl delete persistentvolume pvc-1f1102ca-fd35-40cc-bcf4-13739c4cd152 persistentvolume \"pvc-1f1102ca-fd35-40cc-bcf4-13739c4cd152\" deleted (hangs here) Even a terraform destroy of the whole k8s cluster did not work anymore!! I had to go the the cloud provider frontend and explicitely destroy all volumes outside of the k8s dashboard - only then I could destroy the cluster! Resolution: Unknown at this time. It seems to be related to having deployed via a \"double entry descriptor\" like: apiVersion : v1 kind : Service metadata : name : nginx labels : app : nginx spec : ports : - port : 80 name : web1 clusterIP : None selector : app : nginx --- apiVersion : apps/v1 kind : StatefulSet metadata : name : web1 spec : serviceName : \"nginx\" replicas : 2 selector : matchLabels : app : nginx template : metadata : labels : app : nginx spec : containers : - name : nginx image : k8s.gcr.io/nginx-slim:0.8 tty : true stdin : true ports : - containerPort : 80 name : web1 volumeMounts : - name : www mountPath : /usr/share/nginx/html volumeClaimTemplates : - metadata : name : www spec : accessModes : [ \"ReadWriteOnce\" ] resources : requests : storage : 1Gi ... and deleted via kubectl delete -f web.yaml both at the same time - w/o taking care of the volume (claims). Working Procedure : Deleting one by one - in the right order: kubectl delete service nginx kubectl delete statefulsets.apps web1 Then delete the pvc (persistentvolume claim) Then delete the pv (persistend volumes) or: kubectl delete pvc --all # or pvc-name kubectl delete pod --all # / pod-name kubectl delete pv --all # / pv-name typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Troubleshooting"},{"location":"cloud/k8s/1_hello_app/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } A First Hello World Python App Run on K8s \u00a4 We create a hello world app, which we containerize, then deploy on k8s. Note There are thousands of \"better\" tutorials regarding how to do this already out there since long. But you have to start somewhere and I wanted an automatically 1 reproducable baseline, for the more complex things, we'll eventually address in other tutorials around here. kubernetes playground If you can't install a cloud kubernetes server you can test most of the stuff below using this playground: https://labs.play-with-k8s.com/ First example is stateless: Requirements \u00a4 Having a k8s cluster and configured kubectl command , with access to our private container image registry. $ kubectl get nodes NAME STATUS ROLES AGE VERSION app-pool-849ri Ready <none> 28m v1.21.2 app-pool-849rv Ready <none> 28m v1.21.2 default-pool-849j0 Ready <none> 31m v1.21.2 default-pool-849j1 Ready <none> 32m v1.21.2 $ kubectl get secrets NAME TYPE DATA AGE default-token-7jjc4 kubernetes.io/service-account-token 3 35m regcred kubernetes.io/dockerconfigjson 1 27m Have the following values present (we use pass to retrieve them): reg/domain domain name of your registry reg/user username for your registry reg/passw your registry password podman or docker and kubectl. Here we will use podman to build and push a container image. Preparation \u00a4 Cmd Output $ type kubectl podman # asserts: podman and kubectl $ app = \"hello_app\" # app (container) name $ D = \" $DT_PROJECT_ROOT /tmp/clusters/DO/k8s/ $app \" $ mkdir -p \" $D \" || exit 1 $ cd \" $D \" $ ls -a | xargs rm -rf 2 >/dev/null $ git init $ podman rmi --force $app 2 >/dev/null || true $ type kubectl podman # asserts: podman and kubectl kubectl is hashed (/usr/local/bin/kubectl) podman is hashed (/usr/bin/podman) $ $ app=\"hello_app\" # app (container) name $ $ D=\"$DT_PROJECT_ROOT/tmp/clusters/DO/k8s/$app\" $ mkdir -p \"$D\" || exit 1 $ cd \"$D\" $ ls -a | xargs rm -rf 2>/dev/null $ git init \u001b[33mhint: Using 'master' as the name for the initial branch. This default branch name\u001b[39m \u001b[33mhint: is subject to change. To configure the initial branch name to use in all\u001b[39m \u001b[33mhint: of your new repositories, which will suppress this warning, call:\u001b[39m \u001b[33mhint: \u001b[39m \u001b[33mhint: \u001b[39m \u001b[33mgit config --global init.defaultBranch <name>\u001b[39m \u001b[33mhint: \u001b[39m \u001b[33mhint: Names commonly chosen instead of 'master' are 'main', 'trunk' and\u001b[39m \u001b[33mhint: 'development'. The just-created branch can be renamed via this command:\u001b[39m \u001b[33mhint: \u001b[39m \u001b[33mhint: \u001b[39m \u001b[33mgit branch -m <name>\u001b[39m Initialized empty Git repository in /home/gk/repos/blog/tmp/clusters/DO/k8s/hello_app/.git/ $ podman rmi --force $app 2>/dev/null || true Untagged: localhost/devapps/hello_app:0.2 Environ \u00a4 As usual we create an environ file, which sets up our working environ, when sourced - convenient for new shells: $ cat environ set -ae alias k = kubectl p = podman [[ \" $0 \" = *bash* ]] && s = bash || s = zsh source < ( kubectl completion $s ) D = \"/home/gk/repos/blog/tmp/clusters/DO/k8s/hello_app\" namespace = \"devapps\" # namespace of our app in registry fn_reg_auth = \" $XDG_RUNTIME_DIR /containers/auth.json\" # where podman stores creds app = \"hello_app\" # app (container) name ver = \"0.2\" cd \" $D \" set +ae Cmd Output $ source ./environ $ source ./environ Tip Automatic Sourcing on cd Recipe You can tell your shell to automatically source the environ file, when you cd into the folder, by overwritting the builtin cd function. In your .bashrc or .zshrc : function cd { local m f d = \" ${ 1 :- $HOME } \" # useful as well: cd into dir when a file is given: test -d \" $d \" || { test \" $d \" ! = \"-\" && { f = \" $d \" d = \" $( dirname \" $d \" ) \" test -e \" $f \" && m = \"Is a file\" || m = \"Not exists\" echo -e \"\\x1b[38;5;245m $m : $f - going to \\x1b[0m $d \" } } builtin cd \" $d \" test -e \"./.cd.rc\" && { echo -e \"\\x1b[38;5;245m $( cat \"./.cd.rc\" ) \\x1b[0m\" source \"./.cd.rc\" } true } Now you can add source environ into a .cd.rc file within the same folder. Server App \u00a4 A simple webserver, returning its process environ to the client and supports getting shut down from remote: $ cat server . py #!/usr/bin/env python import os , sys , time , json as j from http.server import HTTPServer , BaseHTTPRequestHandler as Handler now = time . time die = sys . exit nfo = lambda : { 'at' : now (), 'env' : dict ( os . environ )} rsp = lambda : j . dumps ( nfo (), indent = 4 , sort_keys = True ) def get ( h ): h . send_response ( 200 ) h . send_header ( 'Content-type' , 'application/json' ) h . end_headers () w = lambda s , h = h : h . wfile . write ( bytes ( s , 'utf-8' )) w ( rsp ()) # we allow the client to stop the server via those URL paths: p = h . path . split ( '?' , 1 )[ 0 ] die ( 0 ) if p == '/stop' else die ( 1 ) if p == '/err' else 0 Handler . do_GET = get def run ( bind = '0.0.0.0' , port = 28001 ): print ( f 'Starting httpd server on { bind } : { port } ' ) HTTPServer (( bind , port ), Handler ) . serve_forever () run () if __name__ == '__main__' else 0 Containerize \u00a4 $ cat Dockerfile FROM docker.io/python:3.8 MAINTAINER gk RUN mkdir -p /app WORKDIR /app COPY server.py /app/server.py ENV APP_ENV development EXPOSE 28001 CMD [ \"python\" , \"server.py\" ] Cmd Output $ p build --quiet -t $app . $ p tag \" $app :latest\" \" $namespace / $app : $ver \" $ p build --quiet -t $app . 084853fe41554ceb4094d20d6f202e23a14be169c1ec252abfd5111be62bc5d9 $ p tag \"$app:latest\" \"$namespace/$app:$ver\" Test \u00a4 Cmd Output $ p run -d --rm -p28001:28001 $namespace / $app : $ver $ wget --retry-connrefused http://localhost:28001/stop -O - # lp: asserts=PATH $ p run -d --rm -p28001:28001 $namespace/$app:$ver cd8c94247f5849f6c04e8db1049ebb0b8110b449bc22eca7ddc9ef8351ca8f7d $ wget --retry-connrefused http://localhost:28001/stop -O - --2021-08-16 14:40:37-- http://localhost:28001/stop Resolving localhost (localhost)... ::1, 127.0.0.1 Connecting to localhost (localhost)|::1|:28001... connected. HTTP request sent, awaiting response... 200 OK Length: unspecified [application/json] Saving to: \u2018STDOUT\u2019 - [<=> ] 0 --.-KB/s { \"at\": 1629117637.1792567, \"env\": { \"APP_ENV\": \"development\", \"GPG_KEY\": \"E3FF2839C048B25C084DEBE9B26995E310250568\", \"HOME\": \"/root\", \"HOSTNAME\": \"cd8c94247f58\", \"LANG\": \"C.UTF-8\", \"PATH\": \"/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\", \"PYTHON_GET_PIP_SHA256\": \"fa6f3fb93cce234cd4e8dd2beb54a51ab9c247653b52855a48dd44e6b21ff28b\", \"PYTHON_GET_PIP_URL\": \"https://github.com/pypa/get-pip/raw/c20b0cfd643cd4a19246ccf204e2997af70f6b21/public/get-pip.py\", \"PYTHON_PIP_VERSION\": \"21.2.3\", \"PYTHON_VERSION\": \"3.8.11\", \"TERM\": \"xterm\", \"container\": \"podman\" } - [ <=> ] 692 --.-KB/s in 0s 2021-08-16 14:40:37 (1.36 MB/s) - written to stdout [692] Commit App \u00a4 Cmd Output $ git add server.py Dockerfile environ $ git commit -am 'feat: First version of hello world server' $ git tag $ver || true $ git add server.py Dockerfile environ $ git commit -am 'feat: First version of hello world server' [master (root-commit) cf30264] feat: First version of hello world server 3 files changed, 50 insertions(+) create mode 100644 Dockerfile create mode 100644 environ create mode 100755 server.py $ git tag $ver || true Push to (Private) Registry \u00a4 Cmd Output $ p login \" $( pass show reg/domain ) \" -u $( pass show reg/user ) -p \" $( pass show reg/passw ) \" $ r = \"docker:// $( pass show reg/domain ) /docker-internal/ $namespace \" $ p push --quiet --authfile = $fn_reg_auth $namespace / $app : $ver \" $r / $app : $ver \" && echo success # lp: assert=success $ p login \"$(pass show reg/domain)\" -u $(pass show reg/user) -p \"$(pass show reg/passw)\" Login Succeeded! $ r=\"docker://$(pass show reg/domain)/docker-internal/$namespace\" $ p push --quiet --authfile=$fn_reg_auth $namespace/$app:$ver \"$r/$app:$ver\" && echo success success Cloud Deployment \u00a4 Lets deploy the container using K8s' builtin weapons: The app is stateless, so we deploy, ...well..., a \"Deployment\" : Cmd Output $ cat << EOF > frontend-deployment.yaml apiVersion: apps/v1 kind: Deployment metadata: name: frontend spec: replicas: 2 selector: matchLabels: app: pyhello tier: frontend template: metadata: labels: app: pyhello tier: frontend spec: imagePullSecrets: - name: regcred containers: - name: py-hello1 image: $(pass show reg/domain)/docker-internal/$namespace/$app:$ver imagePullPolicy: Always env: - name: FOO value: \"BAR\" ports: - containerPort: 28001 resources: requests: cpu: 100m memory: 100Mi EOF $ k apply -f frontend-deployment.yaml $ sleep 1 $ k get pods -l app = pyhello -l tier = frontend $ cat << EOF > frontend-deployment.yaml > apiVersion: apps/v1 > kind: Deployment > metadata: > name: frontend > spec: > replicas: 2 > selector: > matchLabels: > app: pyhello > tier: frontend > template: > metadata: > labels: > app: pyhello > tier: frontend > spec: > imagePullSecrets: > - name: regcred > containers: > - name: py-hello1 > image: $(pass show reg/domain)/docker-internal/$namespace/$app:$ver > imagePullPolicy: Always > env: > - name: FOO > value: \"BAR\" > ports: > - containerPort: 28001 > resources: > requests: > cpu: 100m > memory: 100Mi > EOF $ $ k apply -f frontend-deployment.yaml deployment.apps/frontend unchanged $ sleep 1 $ k get pods -l app=pyhello -l tier=frontend NAME READY STATUS RESTARTS AGE frontend-9d9756598-tgkxj 1/1 Running 0 14m frontend-9d9756598-w2dck 1/1 Running 0 14m Cmd Output $ cat << EOF > frontend-service.yaml apiVersion: v1 kind: Service metadata: name: frontend labels: app: pyhello tier: frontend spec: type: LoadBalancer ports: - port: 28001 selector: app: pyhello tier: frontend EOF $ k apply -f frontend-service.yaml $ sleep 1 $ k get service frontend $ cat << EOF > frontend-service.yaml > apiVersion: v1 > kind: Service > metadata: > name: frontend > labels: > app: pyhello > tier: frontend > spec: > type: LoadBalancer > ports: > - port: 28001 > selector: > app: pyhello > tier: frontend > EOF $ $ k apply -f frontend-service.yaml service/frontend unchanged $ sleep 1 $ k get service frontend NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE frontend LoadBalancer 10.245.204.64 104.248.103.121 28001:31927/TCP 14m On DO the loadbalancer needs a few minutes when you first configure one, on a new k8s cluster ( k describe service frontend shows details). Let's wait until up: Cmd Output $ while true ; do sleep 2 ; k get service frontend | grep pending || break ; done # lp: timeout=600 $ k -o json get service frontend | jq . $ ip = $( k -o json get service frontend | jq -r .status.loadBalancer.ingress [ 0 ] .ip ) $ while true; do sleep 2; k get service frontend | grep pending || break; done $ k -o json get service frontend | jq . \u001b[1m{\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"apiVersion\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"v1\"\u001b[1m\u001b[39m, \u001b[34m\"kind\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"Service\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"metadata\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"annotations\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"kubectl.kubernetes.io/last-applied-configuration\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"{\\\"apiVersion\\\":\\\"v1\\\",\\\"kind\\\":\\\"Service\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"pyhello\\\",\\\"tier\\\":\\\"frontend\\\"},\\\"name\\\":\\\"frontend\\\",\\\"namespace\\\":\\\"default\\\"},\\\"spec\\\":{\\\"ports\\\":[{\\\"port\\\":28001}],\\\"selector\\\":{\\\"app\\\":\\\"pyhello\\\",\\\"tier\\\":\\\"frontend\\\"},\\\"type\\\":\\\"LoadBalancer\\\"}}\\n\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"kubernetes.digitalocean.com/load-balancer-id\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"6781507a-afb4-49b0-b411-f0269483efb4\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"creationTimestamp\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"2021-08-16T12:26:31Z\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"finalizers\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[0m\u001b[32m\u001b[49m\"service.kubernetes.io/load-balancer-cleanup\"\u001b[39m \u001b[1m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"labels\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"app\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"pyhello\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"tier\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"frontend\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"name\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"frontend\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"namespace\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"default\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"resourceVersion\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"3707\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"uid\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"ac18b950-82cd-4b6b-8aa1-59f3dcf94af5\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"spec\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"clusterIP\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.204.64\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"clusterIPs\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[0m\u001b[32m\u001b[49m\"10.245.204.64\" \u001b[1m\u001b[39m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"externalTrafficPolicy\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"Cluster\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ipFamilies\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[0m\u001b[32m\u001b[49m\"IPv4\"\u001b[39m \u001b[1m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ipFamilyPolicy\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"SingleStack\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ports\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"nodePort\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m31927\u001b[1m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"port\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m28001\u001b[1m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"protocol\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"TCP\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"targetPort\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m28001 \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"selector\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"app\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"pyhello\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"tier\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"frontend\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"sessionAffinity\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"None\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"type\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"LoadBalancer\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"status\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"loadBalancer\"\u001b[39m: { \u001b[34m\"ingress\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ip\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"104.248.103.121\"\u001b[39m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m ]\u001b[0m\u001b[39m\u001b[49m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m}\u001b[0m\u001b[39m\u001b[49m $ ip=$(k -o json get service frontend | jq -r .status.loadBalancer.ingress[0].ip) The pods are up now - we can access the service from the internet via $ip . Loadbalancer distributes requests over pods: $ wget -q http://$ip:28001/ -O - | jq . \u001b[1m{\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"at\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m1629117652.7117255\u001b[1m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"env\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"APP_ENV\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"development\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FOO\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"BAR\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FRONTEND_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.204.64:28001\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FRONTEND_PORT_28001_TCP\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.204.64:28001\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FRONTEND_PORT_28001_TCP_ADDR\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.204.64\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FRONTEND_PORT_28001_TCP_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"28001\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FRONTEND_PORT_28001_TCP_PROTO\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FRONTEND_SERVICE_HOST\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.204.64\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FRONTEND_SERVICE_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"28001\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"GPG_KEY\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"E3FF2839C048B25C084DEBE9B26995E310250568\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HOME\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"/root\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HOSTNAME\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"frontend-9d9756598-tgkxj\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.0.1:443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT_443_TCP\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.0.1:443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT_443_TCP_ADDR\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.0.1\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT_443_TCP_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"443\"\u001b[1m\u001b[39m, \u001b[34m\"KUBERNETES_PORT_443_TCP_PROTO\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_SERVICE_HOST\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.0.1\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_SERVICE_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_SERVICE_PORT_HTTPS\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"LANG\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"C.UTF-8\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PATH\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_GET_PIP_SHA256\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"fa6f3fb93cce234cd4e8dd2beb54a51ab9c247653b52855a48dd44e6b21ff28b\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_GET_PIP_URL\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"https://github.com/pypa/get-pip/raw/c20b0cfd643cd4a19246ccf204e2997af70f6b21/public/get-pip.py\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_PIP_VERSION\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"21.2.3\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_VERSION\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"3.8.11\"\u001b[39m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m}\u001b[0m\u001b[39m\u001b[49m $ for i in { 1 ..10 } ; do wget -q http:// $ip :28001/ -O - | jq -r .env.HOSTNAME ; done | sort | uniq frontend-9d9756598-tgkxj frontend-9d9756598-w2dck Dashboard says: K8s HA Crashing the App Backoff Behaviour We can watch K8s respawning pods when we cause the service to crash: $ for i in 1 2 ; do wget -qt1T1 http:// $ip :28001/err -O /dev/null ; done ```bash $ sleep 2 ``` ```bash $ k get pods NAME READY STATUS RESTARTS AGE frontend-9d9756598-tgkxj 1/1 Running 1 14m frontend-9d9756598-w2dck 1/1 Running 1 14m ``` When crashing it a few times in a row, K8s reacts reasonably by default: $ k get pods NAME READY STATUS RESTARTS AGE frontend-67bc4f75c8-26prb 0/1 Error 2 2m54s frontend-67bc4f75c8-d57vg 0/1 Error 2 2m54s (...) NAME READY STATUS RESTARTS AGE frontend-67bc4f75c8-26prb 0/1 CrashLoopBackOff 2 2m54s frontend-67bc4f75c8-d57vg 0/1 CrashLoopBackOff 2 2m54s (...) NAME READY STATUS RESTARTS AGE frontend-67bc4f75c8-26prb 1/1 Running 3 3m35s frontend-67bc4f75c8-d57vg 1/1 Running 3 3m35s Bring it down again: $ k delete -f frontend-service.yaml service \"frontend\" deleted $ k delete -f frontend-deployment.yaml deployment.apps \"frontend\" deleted All the code in this tutorial is run by a markdown preprocessor. \u21a9 typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"First App"},{"location":"cloud/k8s/1_hello_app/#a-first-hello-world-python-app-run-on-k8s","text":"We create a hello world app, which we containerize, then deploy on k8s. Note There are thousands of \"better\" tutorials regarding how to do this already out there since long. But you have to start somewhere and I wanted an automatically 1 reproducable baseline, for the more complex things, we'll eventually address in other tutorials around here. kubernetes playground If you can't install a cloud kubernetes server you can test most of the stuff below using this playground: https://labs.play-with-k8s.com/ First example is stateless:","title":"A First Hello World Python App Run on K8s"},{"location":"cloud/k8s/1_hello_app/#requirements","text":"Having a k8s cluster and configured kubectl command , with access to our private container image registry. $ kubectl get nodes NAME STATUS ROLES AGE VERSION app-pool-849ri Ready <none> 28m v1.21.2 app-pool-849rv Ready <none> 28m v1.21.2 default-pool-849j0 Ready <none> 31m v1.21.2 default-pool-849j1 Ready <none> 32m v1.21.2 $ kubectl get secrets NAME TYPE DATA AGE default-token-7jjc4 kubernetes.io/service-account-token 3 35m regcred kubernetes.io/dockerconfigjson 1 27m Have the following values present (we use pass to retrieve them): reg/domain domain name of your registry reg/user username for your registry reg/passw your registry password podman or docker and kubectl. Here we will use podman to build and push a container image.","title":"Requirements"},{"location":"cloud/k8s/1_hello_app/#preparation","text":"Cmd Output $ type kubectl podman # asserts: podman and kubectl $ app = \"hello_app\" # app (container) name $ D = \" $DT_PROJECT_ROOT /tmp/clusters/DO/k8s/ $app \" $ mkdir -p \" $D \" || exit 1 $ cd \" $D \" $ ls -a | xargs rm -rf 2 >/dev/null $ git init $ podman rmi --force $app 2 >/dev/null || true $ type kubectl podman # asserts: podman and kubectl kubectl is hashed (/usr/local/bin/kubectl) podman is hashed (/usr/bin/podman) $ $ app=\"hello_app\" # app (container) name $ $ D=\"$DT_PROJECT_ROOT/tmp/clusters/DO/k8s/$app\" $ mkdir -p \"$D\" || exit 1 $ cd \"$D\" $ ls -a | xargs rm -rf 2>/dev/null $ git init \u001b[33mhint: Using 'master' as the name for the initial branch. This default branch name\u001b[39m \u001b[33mhint: is subject to change. To configure the initial branch name to use in all\u001b[39m \u001b[33mhint: of your new repositories, which will suppress this warning, call:\u001b[39m \u001b[33mhint: \u001b[39m \u001b[33mhint: \u001b[39m \u001b[33mgit config --global init.defaultBranch <name>\u001b[39m \u001b[33mhint: \u001b[39m \u001b[33mhint: Names commonly chosen instead of 'master' are 'main', 'trunk' and\u001b[39m \u001b[33mhint: 'development'. The just-created branch can be renamed via this command:\u001b[39m \u001b[33mhint: \u001b[39m \u001b[33mhint: \u001b[39m \u001b[33mgit branch -m <name>\u001b[39m Initialized empty Git repository in /home/gk/repos/blog/tmp/clusters/DO/k8s/hello_app/.git/ $ podman rmi --force $app 2>/dev/null || true Untagged: localhost/devapps/hello_app:0.2","title":"Preparation"},{"location":"cloud/k8s/1_hello_app/#environ","text":"As usual we create an environ file, which sets up our working environ, when sourced - convenient for new shells: $ cat environ set -ae alias k = kubectl p = podman [[ \" $0 \" = *bash* ]] && s = bash || s = zsh source < ( kubectl completion $s ) D = \"/home/gk/repos/blog/tmp/clusters/DO/k8s/hello_app\" namespace = \"devapps\" # namespace of our app in registry fn_reg_auth = \" $XDG_RUNTIME_DIR /containers/auth.json\" # where podman stores creds app = \"hello_app\" # app (container) name ver = \"0.2\" cd \" $D \" set +ae Cmd Output $ source ./environ $ source ./environ Tip Automatic Sourcing on cd Recipe You can tell your shell to automatically source the environ file, when you cd into the folder, by overwritting the builtin cd function. In your .bashrc or .zshrc : function cd { local m f d = \" ${ 1 :- $HOME } \" # useful as well: cd into dir when a file is given: test -d \" $d \" || { test \" $d \" ! = \"-\" && { f = \" $d \" d = \" $( dirname \" $d \" ) \" test -e \" $f \" && m = \"Is a file\" || m = \"Not exists\" echo -e \"\\x1b[38;5;245m $m : $f - going to \\x1b[0m $d \" } } builtin cd \" $d \" test -e \"./.cd.rc\" && { echo -e \"\\x1b[38;5;245m $( cat \"./.cd.rc\" ) \\x1b[0m\" source \"./.cd.rc\" } true } Now you can add source environ into a .cd.rc file within the same folder.","title":"Environ"},{"location":"cloud/k8s/1_hello_app/#server-app","text":"A simple webserver, returning its process environ to the client and supports getting shut down from remote: $ cat server . py #!/usr/bin/env python import os , sys , time , json as j from http.server import HTTPServer , BaseHTTPRequestHandler as Handler now = time . time die = sys . exit nfo = lambda : { 'at' : now (), 'env' : dict ( os . environ )} rsp = lambda : j . dumps ( nfo (), indent = 4 , sort_keys = True ) def get ( h ): h . send_response ( 200 ) h . send_header ( 'Content-type' , 'application/json' ) h . end_headers () w = lambda s , h = h : h . wfile . write ( bytes ( s , 'utf-8' )) w ( rsp ()) # we allow the client to stop the server via those URL paths: p = h . path . split ( '?' , 1 )[ 0 ] die ( 0 ) if p == '/stop' else die ( 1 ) if p == '/err' else 0 Handler . do_GET = get def run ( bind = '0.0.0.0' , port = 28001 ): print ( f 'Starting httpd server on { bind } : { port } ' ) HTTPServer (( bind , port ), Handler ) . serve_forever () run () if __name__ == '__main__' else 0","title":"Server App"},{"location":"cloud/k8s/1_hello_app/#containerize","text":"$ cat Dockerfile FROM docker.io/python:3.8 MAINTAINER gk RUN mkdir -p /app WORKDIR /app COPY server.py /app/server.py ENV APP_ENV development EXPOSE 28001 CMD [ \"python\" , \"server.py\" ] Cmd Output $ p build --quiet -t $app . $ p tag \" $app :latest\" \" $namespace / $app : $ver \" $ p build --quiet -t $app . 084853fe41554ceb4094d20d6f202e23a14be169c1ec252abfd5111be62bc5d9 $ p tag \"$app:latest\" \"$namespace/$app:$ver\"","title":"Containerize"},{"location":"cloud/k8s/1_hello_app/#test","text":"Cmd Output $ p run -d --rm -p28001:28001 $namespace / $app : $ver $ wget --retry-connrefused http://localhost:28001/stop -O - # lp: asserts=PATH $ p run -d --rm -p28001:28001 $namespace/$app:$ver cd8c94247f5849f6c04e8db1049ebb0b8110b449bc22eca7ddc9ef8351ca8f7d $ wget --retry-connrefused http://localhost:28001/stop -O - --2021-08-16 14:40:37-- http://localhost:28001/stop Resolving localhost (localhost)... ::1, 127.0.0.1 Connecting to localhost (localhost)|::1|:28001... connected. HTTP request sent, awaiting response... 200 OK Length: unspecified [application/json] Saving to: \u2018STDOUT\u2019 - [<=> ] 0 --.-KB/s { \"at\": 1629117637.1792567, \"env\": { \"APP_ENV\": \"development\", \"GPG_KEY\": \"E3FF2839C048B25C084DEBE9B26995E310250568\", \"HOME\": \"/root\", \"HOSTNAME\": \"cd8c94247f58\", \"LANG\": \"C.UTF-8\", \"PATH\": \"/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\", \"PYTHON_GET_PIP_SHA256\": \"fa6f3fb93cce234cd4e8dd2beb54a51ab9c247653b52855a48dd44e6b21ff28b\", \"PYTHON_GET_PIP_URL\": \"https://github.com/pypa/get-pip/raw/c20b0cfd643cd4a19246ccf204e2997af70f6b21/public/get-pip.py\", \"PYTHON_PIP_VERSION\": \"21.2.3\", \"PYTHON_VERSION\": \"3.8.11\", \"TERM\": \"xterm\", \"container\": \"podman\" } - [ <=> ] 692 --.-KB/s in 0s 2021-08-16 14:40:37 (1.36 MB/s) - written to stdout [692]","title":"Test"},{"location":"cloud/k8s/1_hello_app/#commit-app","text":"Cmd Output $ git add server.py Dockerfile environ $ git commit -am 'feat: First version of hello world server' $ git tag $ver || true $ git add server.py Dockerfile environ $ git commit -am 'feat: First version of hello world server' [master (root-commit) cf30264] feat: First version of hello world server 3 files changed, 50 insertions(+) create mode 100644 Dockerfile create mode 100644 environ create mode 100755 server.py $ git tag $ver || true","title":"Commit App"},{"location":"cloud/k8s/1_hello_app/#push-to-private-registry","text":"Cmd Output $ p login \" $( pass show reg/domain ) \" -u $( pass show reg/user ) -p \" $( pass show reg/passw ) \" $ r = \"docker:// $( pass show reg/domain ) /docker-internal/ $namespace \" $ p push --quiet --authfile = $fn_reg_auth $namespace / $app : $ver \" $r / $app : $ver \" && echo success # lp: assert=success $ p login \"$(pass show reg/domain)\" -u $(pass show reg/user) -p \"$(pass show reg/passw)\" Login Succeeded! $ r=\"docker://$(pass show reg/domain)/docker-internal/$namespace\" $ p push --quiet --authfile=$fn_reg_auth $namespace/$app:$ver \"$r/$app:$ver\" && echo success success","title":"Push to (Private) Registry"},{"location":"cloud/k8s/1_hello_app/#cloud-deployment","text":"Lets deploy the container using K8s' builtin weapons: The app is stateless, so we deploy, ...well..., a \"Deployment\" : Cmd Output $ cat << EOF > frontend-deployment.yaml apiVersion: apps/v1 kind: Deployment metadata: name: frontend spec: replicas: 2 selector: matchLabels: app: pyhello tier: frontend template: metadata: labels: app: pyhello tier: frontend spec: imagePullSecrets: - name: regcred containers: - name: py-hello1 image: $(pass show reg/domain)/docker-internal/$namespace/$app:$ver imagePullPolicy: Always env: - name: FOO value: \"BAR\" ports: - containerPort: 28001 resources: requests: cpu: 100m memory: 100Mi EOF $ k apply -f frontend-deployment.yaml $ sleep 1 $ k get pods -l app = pyhello -l tier = frontend $ cat << EOF > frontend-deployment.yaml > apiVersion: apps/v1 > kind: Deployment > metadata: > name: frontend > spec: > replicas: 2 > selector: > matchLabels: > app: pyhello > tier: frontend > template: > metadata: > labels: > app: pyhello > tier: frontend > spec: > imagePullSecrets: > - name: regcred > containers: > - name: py-hello1 > image: $(pass show reg/domain)/docker-internal/$namespace/$app:$ver > imagePullPolicy: Always > env: > - name: FOO > value: \"BAR\" > ports: > - containerPort: 28001 > resources: > requests: > cpu: 100m > memory: 100Mi > EOF $ $ k apply -f frontend-deployment.yaml deployment.apps/frontend unchanged $ sleep 1 $ k get pods -l app=pyhello -l tier=frontend NAME READY STATUS RESTARTS AGE frontend-9d9756598-tgkxj 1/1 Running 0 14m frontend-9d9756598-w2dck 1/1 Running 0 14m Cmd Output $ cat << EOF > frontend-service.yaml apiVersion: v1 kind: Service metadata: name: frontend labels: app: pyhello tier: frontend spec: type: LoadBalancer ports: - port: 28001 selector: app: pyhello tier: frontend EOF $ k apply -f frontend-service.yaml $ sleep 1 $ k get service frontend $ cat << EOF > frontend-service.yaml > apiVersion: v1 > kind: Service > metadata: > name: frontend > labels: > app: pyhello > tier: frontend > spec: > type: LoadBalancer > ports: > - port: 28001 > selector: > app: pyhello > tier: frontend > EOF $ $ k apply -f frontend-service.yaml service/frontend unchanged $ sleep 1 $ k get service frontend NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE frontend LoadBalancer 10.245.204.64 104.248.103.121 28001:31927/TCP 14m On DO the loadbalancer needs a few minutes when you first configure one, on a new k8s cluster ( k describe service frontend shows details). Let's wait until up: Cmd Output $ while true ; do sleep 2 ; k get service frontend | grep pending || break ; done # lp: timeout=600 $ k -o json get service frontend | jq . $ ip = $( k -o json get service frontend | jq -r .status.loadBalancer.ingress [ 0 ] .ip ) $ while true; do sleep 2; k get service frontend | grep pending || break; done $ k -o json get service frontend | jq . \u001b[1m{\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"apiVersion\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"v1\"\u001b[1m\u001b[39m, \u001b[34m\"kind\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"Service\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"metadata\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"annotations\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"kubectl.kubernetes.io/last-applied-configuration\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"{\\\"apiVersion\\\":\\\"v1\\\",\\\"kind\\\":\\\"Service\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"pyhello\\\",\\\"tier\\\":\\\"frontend\\\"},\\\"name\\\":\\\"frontend\\\",\\\"namespace\\\":\\\"default\\\"},\\\"spec\\\":{\\\"ports\\\":[{\\\"port\\\":28001}],\\\"selector\\\":{\\\"app\\\":\\\"pyhello\\\",\\\"tier\\\":\\\"frontend\\\"},\\\"type\\\":\\\"LoadBalancer\\\"}}\\n\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"kubernetes.digitalocean.com/load-balancer-id\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"6781507a-afb4-49b0-b411-f0269483efb4\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"creationTimestamp\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"2021-08-16T12:26:31Z\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"finalizers\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[0m\u001b[32m\u001b[49m\"service.kubernetes.io/load-balancer-cleanup\"\u001b[39m \u001b[1m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"labels\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"app\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"pyhello\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"tier\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"frontend\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"name\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"frontend\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"namespace\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"default\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"resourceVersion\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"3707\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"uid\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"ac18b950-82cd-4b6b-8aa1-59f3dcf94af5\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"spec\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"clusterIP\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.204.64\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"clusterIPs\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[0m\u001b[32m\u001b[49m\"10.245.204.64\" \u001b[1m\u001b[39m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"externalTrafficPolicy\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"Cluster\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ipFamilies\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[0m\u001b[32m\u001b[49m\"IPv4\"\u001b[39m \u001b[1m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ipFamilyPolicy\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"SingleStack\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ports\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"nodePort\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m31927\u001b[1m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"port\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m28001\u001b[1m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"protocol\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"TCP\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"targetPort\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m28001 \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"selector\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"app\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"pyhello\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"tier\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"frontend\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"sessionAffinity\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"None\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"type\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"LoadBalancer\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"status\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"loadBalancer\"\u001b[39m: { \u001b[34m\"ingress\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ip\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"104.248.103.121\"\u001b[39m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m ]\u001b[0m\u001b[39m\u001b[49m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m}\u001b[0m\u001b[39m\u001b[49m $ ip=$(k -o json get service frontend | jq -r .status.loadBalancer.ingress[0].ip) The pods are up now - we can access the service from the internet via $ip . Loadbalancer distributes requests over pods: $ wget -q http://$ip:28001/ -O - | jq . \u001b[1m{\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"at\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m1629117652.7117255\u001b[1m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"env\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"APP_ENV\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"development\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FOO\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"BAR\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FRONTEND_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.204.64:28001\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FRONTEND_PORT_28001_TCP\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.204.64:28001\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FRONTEND_PORT_28001_TCP_ADDR\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.204.64\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FRONTEND_PORT_28001_TCP_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"28001\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FRONTEND_PORT_28001_TCP_PROTO\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FRONTEND_SERVICE_HOST\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.204.64\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"FRONTEND_SERVICE_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"28001\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"GPG_KEY\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"E3FF2839C048B25C084DEBE9B26995E310250568\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HOME\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"/root\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HOSTNAME\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"frontend-9d9756598-tgkxj\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.0.1:443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT_443_TCP\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.0.1:443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT_443_TCP_ADDR\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.0.1\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT_443_TCP_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"443\"\u001b[1m\u001b[39m, \u001b[34m\"KUBERNETES_PORT_443_TCP_PROTO\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_SERVICE_HOST\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.0.1\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_SERVICE_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_SERVICE_PORT_HTTPS\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"LANG\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"C.UTF-8\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PATH\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_GET_PIP_SHA256\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"fa6f3fb93cce234cd4e8dd2beb54a51ab9c247653b52855a48dd44e6b21ff28b\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_GET_PIP_URL\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"https://github.com/pypa/get-pip/raw/c20b0cfd643cd4a19246ccf204e2997af70f6b21/public/get-pip.py\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_PIP_VERSION\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"21.2.3\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_VERSION\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"3.8.11\"\u001b[39m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m}\u001b[0m\u001b[39m\u001b[49m $ for i in { 1 ..10 } ; do wget -q http:// $ip :28001/ -O - | jq -r .env.HOSTNAME ; done | sort | uniq frontend-9d9756598-tgkxj frontend-9d9756598-w2dck Dashboard says: K8s HA Crashing the App Backoff Behaviour We can watch K8s respawning pods when we cause the service to crash: $ for i in 1 2 ; do wget -qt1T1 http:// $ip :28001/err -O /dev/null ; done ```bash $ sleep 2 ``` ```bash $ k get pods NAME READY STATUS RESTARTS AGE frontend-9d9756598-tgkxj 1/1 Running 1 14m frontend-9d9756598-w2dck 1/1 Running 1 14m ``` When crashing it a few times in a row, K8s reacts reasonably by default: $ k get pods NAME READY STATUS RESTARTS AGE frontend-67bc4f75c8-26prb 0/1 Error 2 2m54s frontend-67bc4f75c8-d57vg 0/1 Error 2 2m54s (...) NAME READY STATUS RESTARTS AGE frontend-67bc4f75c8-26prb 0/1 CrashLoopBackOff 2 2m54s frontend-67bc4f75c8-d57vg 0/1 CrashLoopBackOff 2 2m54s (...) NAME READY STATUS RESTARTS AGE frontend-67bc4f75c8-26prb 1/1 Running 3 3m35s frontend-67bc4f75c8-d57vg 1/1 Running 3 3m35s Bring it down again: $ k delete -f frontend-service.yaml service \"frontend\" deleted $ k delete -f frontend-deployment.yaml deployment.apps \"frontend\" deleted All the code in this tutorial is run by a markdown preprocessor. \u21a9 typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Cloud Deployment"},{"location":"cloud/k8s/2_hello_mysql/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Stateful App With MySQL Database \u00a4 Lets connect a database to our hello app , i.e. we need a Stateful Set. Requirements \u00a4 We require the app from last chapter : Cmd Output $ git ls-files # lp: asserts=server.py $ git tag $ sed -i 's/0.2/0.3/' environ # version now 0.3 $ source ./environ $ rm -f *.yaml $ git ls-files Dockerfile environ server.py $ git tag 0.2 0.3 $ sed -i 's/0.2/0.3/' environ # version now 0.3 $ $ source ./environ $ rm -f *.yaml Server App \u00a4 First we need a mysql server: Cmd Output $ ( p images | grep mysql | grep 5 .7 || p pull docker.io/library/mysql:5.7 ) $ p run -d -e MYSQL_ROOT_HOST = '%' -e MYSQL_ROOT_PASSWORD = secret -e MYSQL_DATABASE = db -p3306:3306 --rm -ti mysql:5.7 $ ( p images | grep mysql | grep 5.7 || p pull docker.io/library/mysql:5.7 ) docker.io/library/mysql \u001b[1m\u001b[31m5.7\u001b[0m\u001b[39m\u001b[49m 8cf62\u001b[1m\u001b[31m507\u001b[0m\u001b[39m\u001b[49m0931 3 weeks ago 454 MB $ p run -d -e MYSQL_ROOT_HOST='%' -e MYSQL_ROOT_PASSWORD=secret -e MYSQL_DATABASE=db -p3306:3306 --rm -ti mysql:5.7 ae4eebc46b6fd78074d9586f68a1e891f58d2a1a951a90bcfdb404458a12e975 The app is simple webserver, now with database support plus a real app server framework: $ cat server . py #!/usr/bin/env python import os , sys , time , bottle , bottle_mysql , json as j app = bottle . Bottle () dbconf = { k : os . environ [ k ] for k in ( 'dbuser' , 'dbpass' , 'dbname' , 'dbhost' )} plugin = bottle_mysql . Plugin ( ** dict ( dbconf )) app . install ( plugin ) now , die = time . time , sys . exit @app . route ( '/initdb' ) def initdb ( db ): db . execute ( 'drop TABLE IF EXISTS items' ) db . execute ( 'CREATE TABLE items (name varchar(255), age int)' ) db . execute ( \"INSERT INTO items (name, age) VALUES ('brian', 42)\" ) db . execute ( 'show tables' ) row = db . fetchone () return { 'result' : str ( row )} @app . route ( '/show/<item>' ) def show ( item , db ): db . execute ( 'SELECT * from items where name= %s ' , ( item ,)) row = db . fetchone () if row : return { 'result' : row } return bottle . HTTPError ( 404 , 'Item not found' ) @app . route ( '/env' , method = 'GET' ) def env (): return { 'at' : now (), 'env' : dict ( os . environ )} @app . route ( '/kill/<ec>' ) def kill ( ec ): sys . stderr . close () die ( int ( ec )) if __name__ == '__main__' : print ( f 'Starting bottle httpd server' ) bottle . run ( app , host = '0.0.0.0' , port = 28001 ) Containerize \u00a4 $ cat Dockerfile FROM python:3.8 MAINTAINER gk RUN mkdir -p /app RUN pip install mysql bottle bottle-mysql WORKDIR /app COPY server.py /app/server.py ENV APP_ENV development EXPOSE 28001 CMD [ \"python\" , \"server.py\" ] Cmd Output $ p rmi -f $namespace / $app $ p build --quiet -t $app . $ p tag \" $app :latest\" \" $namespace / $app : $ver \" $ p rmi -f $namespace/$app Untagged: localhost/devapps/hello_app:0.3 $ p build --quiet -t $app . 603b3f682f1e101453ca517ab5bd9f9d45a60b7825f80ff21df899abc91c5f84 $ p tag \"$app:latest\" \"$namespace/$app:$ver\" Test \u00a4 $ hostip=\"$(ip addr show |grep 'inet ' | grep -v 127 | head -n 1 | cut -d t -f2 | cut -db -f1 | cut -d'/' -f1 | xargs)\" $ echo $hostip 10.0.0.84 $ p run -d -ti --rm -p 28001:28001 -e dbuser=root -e dbpass=secret -e dbname=db -e dbhost=$hostip $namespace/$app:$ver 6b28f15292eefdc92fda8c1bee52207c47299a4958f42b72bef717309fb140af $ ( while true; do sleep 1; wget -q http://127.0.0.1:28001/initdb -O - && break; done ) {\"result\": \"{'Tables_in_db': 'items'}\"} wget -q http://127.0.0.1:28001/show/brian -O - | jq . # lp: asserts=brian and result $ wget -q http://127.0.0.1:28001/show/brian -O - | jq . \u001b[1m{\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"result\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"name\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"brian\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"age\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m42 \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m}\u001b[0m\u001b[39m\u001b[49m Note The app container needed to connect to an ip different to 127.0.0.1 (mysql binds to 0.0.0.0 but 127.0.0.1 within the app container is within its own network namespace). Cleanup: Cmd Output $ wget -q http://127.0.0.1:28001/kill/0 $ ( p ps | grep mysqld | cut -d ' ' -f1 | xargs podman stop ; echo stopped ) # lp: asserts=stopped $ wget -q http://127.0.0.1:28001/kill/0 $ ( p ps | grep mysqld | cut -d' ' -f1 | xargs podman stop; echo stopped ) ae4eebc46b6f stopped Commit \u00a4 Cmd Output $ git commit -am 'feat: mysql connection' $ git tag $ver $ git commit -am 'feat: mysql connection' On branch master Untracked files: (use \"git add <file>...\" to include in what will be committed) \u001b[31menv\u001b[39m nothing added to commit but untracked files present (use \"git add\" to track) $ git tag $ver fatal: tag '0.3' already exists Push \u00a4 Cmd Output $ p login \" $( pass show reg/domain ) \" -u $( pass show reg/user ) -p \" $( pass show reg/passw ) \" $ r = \"docker:// $( pass show reg/domain ) /docker-internal/ $namespace \" $ p push --quiet --authfile = $fn_reg_auth $namespace / $app : $ver \" $r / $app : $ver \" && echo success # lp: assert=success $ p login \"$(pass show reg/domain)\" -u $(pass show reg/user) -p \"$(pass show reg/passw)\" Login Succeeded! $ r=\"docker://$(pass show reg/domain)/docker-internal/$namespace\" $ p push --quiet --authfile=$fn_reg_auth $namespace/$app:$ver \"$r/$app:$ver\" && echo success success Cloud Deployment \u00a4 Note We follow this tutorial, modified for our app. Again we deploy the app using K8s' solely. First a secret \"generator\", configured for a static one (but you could have varying ones at every redeploy): Cmd Output $ cat <<EOF >./kustomization.yaml secretGenerator: - name: mysql-pass literals: - password=myk8ssecret resources: - mysql-deployment.yaml - hello2-deployment.yaml EOF $ cat <<EOF >./kustomization.yaml > secretGenerator: > - name: mysql-pass > literals: > - password=myk8ssecret > resources: > - mysql-deployment.yaml > - hello2-deployment.yaml > EOF $ Cmd Output $ cat <<EOF >./mysql-deployment.yaml apiVersion: v1 kind: Service metadata: name: hello2-mysql labels: app: hello2 spec: ports: - port: 3306 selector: app: hello2 tier: mysql clusterIP: None --- apiVersion: v1 kind: PersistentVolumeClaim metadata: name: mysql-pv-claim labels: app: hello2 spec: accessModes: - ReadWriteOnce resources: requests: storage: 5Gi --- apiVersion: apps/v1 kind: Deployment metadata: name: hello2-mysql labels: app: hello2 spec: selector: matchLabels: app: hello2 tier: mysql strategy: type: Recreate template: metadata: labels: app: hello2 tier: mysql spec: containers: - image: mysql:5.7 name: mysql args: - \"--ignore-db-dir=lost+found\" env: - name: MYSQL_ROOT_HOST value: \"%\" - name: MYSQL_DATABASE value: \"db\" - name: MYSQL_ROOT_PASSWORD valueFrom: secretKeyRef: name: mysql-pass key: password ports: - containerPort: 3306 name: mysql volumeMounts: - name: mysql-persistent-storage mountPath: /var/lib/mysql volumes: - name: mysql-persistent-storage persistentVolumeClaim: claimName: mysql-pv-claim EOF $ cat <<EOF >./mysql-deployment.yaml > apiVersion: v1 > kind: Service > metadata: > name: hello2-mysql > labels: > app: hello2 > spec: > ports: > - port: 3306 > selector: > app: hello2 > tier: mysql > clusterIP: None > --- > apiVersion: v1 > kind: PersistentVolumeClaim > metadata: > name: mysql-pv-claim > labels: > app: hello2 > spec: > accessModes: > - ReadWriteOnce > resources: > requests: > storage: 5Gi > --- > apiVersion: apps/v1 > kind: Deployment > metadata: > name: hello2-mysql > labels: > app: hello2 > spec: > selector: > matchLabels: > app: hello2 > tier: mysql > strategy: > type: Recreate > template: > metadata: > labels: > app: hello2 > tier: mysql > spec: > containers: > - image: mysql:5.7 > name: mysql > args: > - \"--ignore-db-dir=lost+found\" > env: > - name: MYSQL_ROOT_HOST > value: \"%\" > - name: MYSQL_DATABASE > value: \"db\" > - name: MYSQL_ROOT_PASSWORD > valueFrom: > secretKeyRef: > name: mysql-pass > key: password > ports: > - containerPort: 3306 > name: mysql > volumeMounts: > - name: mysql-persistent-storage > mountPath: /var/lib/mysql > volumes: > - name: mysql-persistent-storage > persistentVolumeClaim: > claimName: mysql-pv-claim > EOF $ ignore-db-dir start argument On ext4 the mysql5.7 images refuses to start due to non empty dir otherwise. Cmd Output $ cat <<EOF >./hello2-deployment.yaml apiVersion: v1 kind: Service metadata: name: hello2 labels: app: hello2 tier: frontend spec: type: LoadBalancer ports: - port: 28001 selector: app: hello2 tier: frontend --- apiVersion: apps/v1 kind: Deployment metadata: name: hello2 labels: app: hello2 spec: selector: matchLabels: app: hello2 tier: frontend strategy: type: Recreate template: metadata: labels: app: hello2 tier: frontend spec: imagePullSecrets: - name: regcred containers: - name: hello2 image: $(pass show reg/domain)/docker-internal/$namespace/$app:$ver imagePullPolicy: Always env: - name: dbuser value: \"root\" - name: dbpass valueFrom: secretKeyRef: name: mysql-pass key: password - name: dbhost value: \"hello2-mysql\" - name: dbname value: \"db\" ports: - containerPort: 28001 name: hello2 resources: requests: cpu: 100m memory: 100Mi EOF $ cat <<EOF >./hello2-deployment.yaml > apiVersion: v1 > kind: Service > metadata: > name: hello2 > labels: > app: hello2 > tier: frontend > spec: > type: LoadBalancer > ports: > - port: 28001 > selector: > app: hello2 > tier: frontend > --- > apiVersion: apps/v1 > kind: Deployment > metadata: > name: hello2 > labels: > app: hello2 > spec: > selector: > matchLabels: > app: hello2 > tier: frontend > strategy: > type: Recreate > template: > metadata: > labels: > app: hello2 > tier: frontend > spec: > imagePullSecrets: > - name: regcred > containers: > - name: hello2 > image: $(pass show reg/domain)/docker-internal/$namespace/$app:$ver > imagePullPolicy: Always > env: > - name: dbuser > value: \"root\" > - name: dbpass > valueFrom: > secretKeyRef: > name: mysql-pass > key: password > - name: dbhost > value: \"hello2-mysql\" > - name: dbname > value: \"db\" > ports: > - containerPort: 28001 > name: hello2 > resources: > requests: > cpu: 100m > memory: 100Mi > EOF $ Now we apply all, with the -k switch, for the kustomize.yaml: Cmd Output $ kubectl apply -k ./ $ kubectl apply -k ./ secret/mysql-pass-2f9464chcc unchanged service/hello2 unchanged service/hello2-mysql unchanged persistentvolumeclaim/mysql-pv-claim unchanged deployment.apps/hello2 unchanged deployment.apps/hello2-mysql unchanged then wait for the loadbalancer and fetch the public IP: time while true; do sleep 2; k get service hello2 | grep pending >/dev/null || break; done # lp: timeout=600 $ time while true; do sleep 2; k get service hello2 | grep pending >/dev/null || break; done real 0m2.130s user 0m0.052s sys 0m0.036s $ k -o json get service hello2 | jq . \u001b[1m{\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"apiVersion\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"v1\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"kind\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"Service\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"metadata\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"annotations\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"kubectl.kubernetes.io/last-applied-configuration\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"{\\\"apiVersion\\\":\\\"v1\\\",\\\"kind\\\":\\\"Service\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"hello2\\\",\\\"tier\\\":\\\"frontend\\\"},\\\"name\\\":\\\"hello2\\\",\\\"namespace\\\":\\\"default\\\"},\\\"spec\\\":{\\\"ports\\\":[{\\\"port\\\":28001}],\\\"selector\\\":{\\\"app\\\":\\\"hello2\\\",\\\"tier\\\":\\\"frontend\\\"},\\\"type\\\":\\\"LoadBalancer\\\"}}\\n\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"kubernetes.digitalocean.com/load-balancer-id\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"5ff78870-218c-4a61-a6ad-e3a669618e94\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"creationTimestamp\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"2021-08-17T09:33:46Z\"\u001b[1m\u001b[39m, \u001b[34m\"finalizers\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[0m\u001b[32m\u001b[49m\"service.kubernetes.io/load-balancer-cleanup\"\u001b[39m \u001b[1m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"labels\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"app\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"hello2\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"tier\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"frontend\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"name\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"hello2\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"namespace\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"default\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"resourceVersion\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"142545\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"uid\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"eaa8b74a-f491-4fb0-a629-ff13bc2a827a\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"spec\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"clusterIP\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.241.244\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"clusterIPs\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[0m\u001b[32m\u001b[49m\"10.245.241.244\"\u001b[39m \u001b[1m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"externalTrafficPolicy\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"Cluster\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ipFamilies\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[0m\u001b[32m\u001b[49m\"IPv4\"\u001b[39m \u001b[1m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ipFamilyPolicy\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"SingleStack\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ports\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"nodePort\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m32106\u001b[1m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"port\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m28001\u001b[1m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"protocol\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"TCP\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"targetPort\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m28001 \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"selector\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"app\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"hello2\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"tier\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"frontend\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"sessionAffinity\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"None\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"type\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"LoadBalancer\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"status\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"loadBalancer\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ingress\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ip\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"67.207.72.117\"\u001b[39m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m ]\u001b[0m\u001b[39m\u001b[49m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m}\u001b[0m\u001b[39m\u001b[49m $ ip=$(k -o json get service hello2 | jq -r .status.loadBalancer.ingress[0].ip) All environ settings are in the app container: $ wget -q http://$ip:28001/env -O - | jq . \u001b[1m{\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"at\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m1629196739.1266227\u001b[1m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"env\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PATH\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HOSTNAME\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"hello2-d646c6dc4-zzsmx\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"LANG\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"C.UTF-8\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"GPG_KEY\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"E3FF2839C048B25C084DEBE9B26995E310250568\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_VERSION\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"3.8.11\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_PIP_VERSION\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"21.2.3\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_GET_PIP_URL\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"https://github.com/pypa/get-pip/raw/c20b0cfd643cd4a19246ccf204e2997af70f6b21/public/get-pip.py\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_GET_PIP_SHA256\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"fa6f3fb93cce234cd4e8dd2beb54a51ab9c247653b52855a48dd44e6b21ff28b\"\u001b[1m\u001b[39m, \u001b[34m\"APP_ENV\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"development\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"dbuser\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"root\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"dbpass\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"myk8ssecret\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"dbhost\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"hello2-mysql\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"dbname\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"db\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HELLO2_PORT_28001_TCP_PROTO\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_SERVICE_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT_443_TCP_PROTO\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HELLO2_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.241.244:28001\"\u001b[1m\u001b[39m, \u001b[34m\"HELLO2_PORT_28001_TCP_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"28001\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT_443_TCP\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.0.1:443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT_443_TCP_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT_443_TCP_ADDR\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.0.1\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HELLO2_SERVICE_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"28001\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HELLO2_PORT_28001_TCP\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.241.244:28001\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_SERVICE_HOST\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.0.1\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_SERVICE_PORT_HTTPS\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.0.1:443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HELLO2_SERVICE_HOST\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.241.244\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HELLO2_PORT_28001_TCP_ADDR\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.241.244\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HOME\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"/root\"\u001b[39m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m}\u001b[0m\u001b[39m\u001b[49m And the app works: $ wget -q http://$ip:28001/initdb -O - | jq . \u001b[1m{\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"result\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"{'Tables_in_db': 'items'}\"\u001b[39m \u001b[1m}\u001b[0m\u001b[39m\u001b[49m wget -q http://$ip:28001/show/brian -O - | jq . # lp: asserts=\"brian and result\" $ wget -q http://$ip:28001/show/brian -O - | jq . \u001b[1m{\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"result\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"name\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"brian\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"age\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m42 \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m}\u001b[0m\u001b[39m\u001b[49m Delete everything: kubectl delete -k ./. # lp: asserts=\"deployment.apps and deleted\" Discussion \u00a4 The loadbalancer creation is the time limiting factor at re-deploys from scratch, took often around 4-5 minutes. Tip For CI/CD I'd therefore would keep the loadbalancer standing and just update the app. In order to debug, kubectl get pods -> kubectl logs --follow <podname> was indispensable. kubectl delete -k ./. did always work nicely, removing all, in the right order. K8s's name resolution is simple: The app could simply connect to the dbhost by name attribute of the corresponding service deployment. On DO (and I guess on other infra providers as well) they use their internal volume creation means as default K8s \"storage class\", i.e. when volumes are to be created for Stateful Sets. Those volumes will survive node failure, unlike the hostPath based storage class, being set as default on local test clusters (e.g. minicube). DO Dashboard K8s Dashboard typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"With DB"},{"location":"cloud/k8s/2_hello_mysql/#stateful-app-with-mysql-database","text":"Lets connect a database to our hello app , i.e. we need a Stateful Set.","title":"Stateful App With MySQL Database"},{"location":"cloud/k8s/2_hello_mysql/#requirements","text":"We require the app from last chapter : Cmd Output $ git ls-files # lp: asserts=server.py $ git tag $ sed -i 's/0.2/0.3/' environ # version now 0.3 $ source ./environ $ rm -f *.yaml $ git ls-files Dockerfile environ server.py $ git tag 0.2 0.3 $ sed -i 's/0.2/0.3/' environ # version now 0.3 $ $ source ./environ $ rm -f *.yaml","title":"Requirements"},{"location":"cloud/k8s/2_hello_mysql/#server-app","text":"First we need a mysql server: Cmd Output $ ( p images | grep mysql | grep 5 .7 || p pull docker.io/library/mysql:5.7 ) $ p run -d -e MYSQL_ROOT_HOST = '%' -e MYSQL_ROOT_PASSWORD = secret -e MYSQL_DATABASE = db -p3306:3306 --rm -ti mysql:5.7 $ ( p images | grep mysql | grep 5.7 || p pull docker.io/library/mysql:5.7 ) docker.io/library/mysql \u001b[1m\u001b[31m5.7\u001b[0m\u001b[39m\u001b[49m 8cf62\u001b[1m\u001b[31m507\u001b[0m\u001b[39m\u001b[49m0931 3 weeks ago 454 MB $ p run -d -e MYSQL_ROOT_HOST='%' -e MYSQL_ROOT_PASSWORD=secret -e MYSQL_DATABASE=db -p3306:3306 --rm -ti mysql:5.7 ae4eebc46b6fd78074d9586f68a1e891f58d2a1a951a90bcfdb404458a12e975 The app is simple webserver, now with database support plus a real app server framework: $ cat server . py #!/usr/bin/env python import os , sys , time , bottle , bottle_mysql , json as j app = bottle . Bottle () dbconf = { k : os . environ [ k ] for k in ( 'dbuser' , 'dbpass' , 'dbname' , 'dbhost' )} plugin = bottle_mysql . Plugin ( ** dict ( dbconf )) app . install ( plugin ) now , die = time . time , sys . exit @app . route ( '/initdb' ) def initdb ( db ): db . execute ( 'drop TABLE IF EXISTS items' ) db . execute ( 'CREATE TABLE items (name varchar(255), age int)' ) db . execute ( \"INSERT INTO items (name, age) VALUES ('brian', 42)\" ) db . execute ( 'show tables' ) row = db . fetchone () return { 'result' : str ( row )} @app . route ( '/show/<item>' ) def show ( item , db ): db . execute ( 'SELECT * from items where name= %s ' , ( item ,)) row = db . fetchone () if row : return { 'result' : row } return bottle . HTTPError ( 404 , 'Item not found' ) @app . route ( '/env' , method = 'GET' ) def env (): return { 'at' : now (), 'env' : dict ( os . environ )} @app . route ( '/kill/<ec>' ) def kill ( ec ): sys . stderr . close () die ( int ( ec )) if __name__ == '__main__' : print ( f 'Starting bottle httpd server' ) bottle . run ( app , host = '0.0.0.0' , port = 28001 )","title":"Server App"},{"location":"cloud/k8s/2_hello_mysql/#containerize","text":"$ cat Dockerfile FROM python:3.8 MAINTAINER gk RUN mkdir -p /app RUN pip install mysql bottle bottle-mysql WORKDIR /app COPY server.py /app/server.py ENV APP_ENV development EXPOSE 28001 CMD [ \"python\" , \"server.py\" ] Cmd Output $ p rmi -f $namespace / $app $ p build --quiet -t $app . $ p tag \" $app :latest\" \" $namespace / $app : $ver \" $ p rmi -f $namespace/$app Untagged: localhost/devapps/hello_app:0.3 $ p build --quiet -t $app . 603b3f682f1e101453ca517ab5bd9f9d45a60b7825f80ff21df899abc91c5f84 $ p tag \"$app:latest\" \"$namespace/$app:$ver\"","title":"Containerize"},{"location":"cloud/k8s/2_hello_mysql/#test","text":"$ hostip=\"$(ip addr show |grep 'inet ' | grep -v 127 | head -n 1 | cut -d t -f2 | cut -db -f1 | cut -d'/' -f1 | xargs)\" $ echo $hostip 10.0.0.84 $ p run -d -ti --rm -p 28001:28001 -e dbuser=root -e dbpass=secret -e dbname=db -e dbhost=$hostip $namespace/$app:$ver 6b28f15292eefdc92fda8c1bee52207c47299a4958f42b72bef717309fb140af $ ( while true; do sleep 1; wget -q http://127.0.0.1:28001/initdb -O - && break; done ) {\"result\": \"{'Tables_in_db': 'items'}\"} wget -q http://127.0.0.1:28001/show/brian -O - | jq . # lp: asserts=brian and result $ wget -q http://127.0.0.1:28001/show/brian -O - | jq . \u001b[1m{\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"result\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"name\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"brian\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"age\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m42 \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m}\u001b[0m\u001b[39m\u001b[49m Note The app container needed to connect to an ip different to 127.0.0.1 (mysql binds to 0.0.0.0 but 127.0.0.1 within the app container is within its own network namespace). Cleanup: Cmd Output $ wget -q http://127.0.0.1:28001/kill/0 $ ( p ps | grep mysqld | cut -d ' ' -f1 | xargs podman stop ; echo stopped ) # lp: asserts=stopped $ wget -q http://127.0.0.1:28001/kill/0 $ ( p ps | grep mysqld | cut -d' ' -f1 | xargs podman stop; echo stopped ) ae4eebc46b6f stopped","title":"Test"},{"location":"cloud/k8s/2_hello_mysql/#commit","text":"Cmd Output $ git commit -am 'feat: mysql connection' $ git tag $ver $ git commit -am 'feat: mysql connection' On branch master Untracked files: (use \"git add <file>...\" to include in what will be committed) \u001b[31menv\u001b[39m nothing added to commit but untracked files present (use \"git add\" to track) $ git tag $ver fatal: tag '0.3' already exists","title":"Commit"},{"location":"cloud/k8s/2_hello_mysql/#push","text":"Cmd Output $ p login \" $( pass show reg/domain ) \" -u $( pass show reg/user ) -p \" $( pass show reg/passw ) \" $ r = \"docker:// $( pass show reg/domain ) /docker-internal/ $namespace \" $ p push --quiet --authfile = $fn_reg_auth $namespace / $app : $ver \" $r / $app : $ver \" && echo success # lp: assert=success $ p login \"$(pass show reg/domain)\" -u $(pass show reg/user) -p \"$(pass show reg/passw)\" Login Succeeded! $ r=\"docker://$(pass show reg/domain)/docker-internal/$namespace\" $ p push --quiet --authfile=$fn_reg_auth $namespace/$app:$ver \"$r/$app:$ver\" && echo success success","title":"Push"},{"location":"cloud/k8s/2_hello_mysql/#cloud-deployment","text":"Note We follow this tutorial, modified for our app. Again we deploy the app using K8s' solely. First a secret \"generator\", configured for a static one (but you could have varying ones at every redeploy): Cmd Output $ cat <<EOF >./kustomization.yaml secretGenerator: - name: mysql-pass literals: - password=myk8ssecret resources: - mysql-deployment.yaml - hello2-deployment.yaml EOF $ cat <<EOF >./kustomization.yaml > secretGenerator: > - name: mysql-pass > literals: > - password=myk8ssecret > resources: > - mysql-deployment.yaml > - hello2-deployment.yaml > EOF $ Cmd Output $ cat <<EOF >./mysql-deployment.yaml apiVersion: v1 kind: Service metadata: name: hello2-mysql labels: app: hello2 spec: ports: - port: 3306 selector: app: hello2 tier: mysql clusterIP: None --- apiVersion: v1 kind: PersistentVolumeClaim metadata: name: mysql-pv-claim labels: app: hello2 spec: accessModes: - ReadWriteOnce resources: requests: storage: 5Gi --- apiVersion: apps/v1 kind: Deployment metadata: name: hello2-mysql labels: app: hello2 spec: selector: matchLabels: app: hello2 tier: mysql strategy: type: Recreate template: metadata: labels: app: hello2 tier: mysql spec: containers: - image: mysql:5.7 name: mysql args: - \"--ignore-db-dir=lost+found\" env: - name: MYSQL_ROOT_HOST value: \"%\" - name: MYSQL_DATABASE value: \"db\" - name: MYSQL_ROOT_PASSWORD valueFrom: secretKeyRef: name: mysql-pass key: password ports: - containerPort: 3306 name: mysql volumeMounts: - name: mysql-persistent-storage mountPath: /var/lib/mysql volumes: - name: mysql-persistent-storage persistentVolumeClaim: claimName: mysql-pv-claim EOF $ cat <<EOF >./mysql-deployment.yaml > apiVersion: v1 > kind: Service > metadata: > name: hello2-mysql > labels: > app: hello2 > spec: > ports: > - port: 3306 > selector: > app: hello2 > tier: mysql > clusterIP: None > --- > apiVersion: v1 > kind: PersistentVolumeClaim > metadata: > name: mysql-pv-claim > labels: > app: hello2 > spec: > accessModes: > - ReadWriteOnce > resources: > requests: > storage: 5Gi > --- > apiVersion: apps/v1 > kind: Deployment > metadata: > name: hello2-mysql > labels: > app: hello2 > spec: > selector: > matchLabels: > app: hello2 > tier: mysql > strategy: > type: Recreate > template: > metadata: > labels: > app: hello2 > tier: mysql > spec: > containers: > - image: mysql:5.7 > name: mysql > args: > - \"--ignore-db-dir=lost+found\" > env: > - name: MYSQL_ROOT_HOST > value: \"%\" > - name: MYSQL_DATABASE > value: \"db\" > - name: MYSQL_ROOT_PASSWORD > valueFrom: > secretKeyRef: > name: mysql-pass > key: password > ports: > - containerPort: 3306 > name: mysql > volumeMounts: > - name: mysql-persistent-storage > mountPath: /var/lib/mysql > volumes: > - name: mysql-persistent-storage > persistentVolumeClaim: > claimName: mysql-pv-claim > EOF $ ignore-db-dir start argument On ext4 the mysql5.7 images refuses to start due to non empty dir otherwise. Cmd Output $ cat <<EOF >./hello2-deployment.yaml apiVersion: v1 kind: Service metadata: name: hello2 labels: app: hello2 tier: frontend spec: type: LoadBalancer ports: - port: 28001 selector: app: hello2 tier: frontend --- apiVersion: apps/v1 kind: Deployment metadata: name: hello2 labels: app: hello2 spec: selector: matchLabels: app: hello2 tier: frontend strategy: type: Recreate template: metadata: labels: app: hello2 tier: frontend spec: imagePullSecrets: - name: regcred containers: - name: hello2 image: $(pass show reg/domain)/docker-internal/$namespace/$app:$ver imagePullPolicy: Always env: - name: dbuser value: \"root\" - name: dbpass valueFrom: secretKeyRef: name: mysql-pass key: password - name: dbhost value: \"hello2-mysql\" - name: dbname value: \"db\" ports: - containerPort: 28001 name: hello2 resources: requests: cpu: 100m memory: 100Mi EOF $ cat <<EOF >./hello2-deployment.yaml > apiVersion: v1 > kind: Service > metadata: > name: hello2 > labels: > app: hello2 > tier: frontend > spec: > type: LoadBalancer > ports: > - port: 28001 > selector: > app: hello2 > tier: frontend > --- > apiVersion: apps/v1 > kind: Deployment > metadata: > name: hello2 > labels: > app: hello2 > spec: > selector: > matchLabels: > app: hello2 > tier: frontend > strategy: > type: Recreate > template: > metadata: > labels: > app: hello2 > tier: frontend > spec: > imagePullSecrets: > - name: regcred > containers: > - name: hello2 > image: $(pass show reg/domain)/docker-internal/$namespace/$app:$ver > imagePullPolicy: Always > env: > - name: dbuser > value: \"root\" > - name: dbpass > valueFrom: > secretKeyRef: > name: mysql-pass > key: password > - name: dbhost > value: \"hello2-mysql\" > - name: dbname > value: \"db\" > ports: > - containerPort: 28001 > name: hello2 > resources: > requests: > cpu: 100m > memory: 100Mi > EOF $ Now we apply all, with the -k switch, for the kustomize.yaml: Cmd Output $ kubectl apply -k ./ $ kubectl apply -k ./ secret/mysql-pass-2f9464chcc unchanged service/hello2 unchanged service/hello2-mysql unchanged persistentvolumeclaim/mysql-pv-claim unchanged deployment.apps/hello2 unchanged deployment.apps/hello2-mysql unchanged then wait for the loadbalancer and fetch the public IP: time while true; do sleep 2; k get service hello2 | grep pending >/dev/null || break; done # lp: timeout=600 $ time while true; do sleep 2; k get service hello2 | grep pending >/dev/null || break; done real 0m2.130s user 0m0.052s sys 0m0.036s $ k -o json get service hello2 | jq . \u001b[1m{\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"apiVersion\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"v1\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"kind\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"Service\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"metadata\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"annotations\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"kubectl.kubernetes.io/last-applied-configuration\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"{\\\"apiVersion\\\":\\\"v1\\\",\\\"kind\\\":\\\"Service\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"hello2\\\",\\\"tier\\\":\\\"frontend\\\"},\\\"name\\\":\\\"hello2\\\",\\\"namespace\\\":\\\"default\\\"},\\\"spec\\\":{\\\"ports\\\":[{\\\"port\\\":28001}],\\\"selector\\\":{\\\"app\\\":\\\"hello2\\\",\\\"tier\\\":\\\"frontend\\\"},\\\"type\\\":\\\"LoadBalancer\\\"}}\\n\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"kubernetes.digitalocean.com/load-balancer-id\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"5ff78870-218c-4a61-a6ad-e3a669618e94\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"creationTimestamp\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"2021-08-17T09:33:46Z\"\u001b[1m\u001b[39m, \u001b[34m\"finalizers\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[0m\u001b[32m\u001b[49m\"service.kubernetes.io/load-balancer-cleanup\"\u001b[39m \u001b[1m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"labels\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"app\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"hello2\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"tier\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"frontend\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"name\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"hello2\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"namespace\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"default\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"resourceVersion\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"142545\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"uid\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"eaa8b74a-f491-4fb0-a629-ff13bc2a827a\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"spec\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"clusterIP\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.241.244\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"clusterIPs\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[0m\u001b[32m\u001b[49m\"10.245.241.244\"\u001b[39m \u001b[1m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"externalTrafficPolicy\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"Cluster\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ipFamilies\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[0m\u001b[32m\u001b[49m\"IPv4\"\u001b[39m \u001b[1m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ipFamilyPolicy\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"SingleStack\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ports\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"nodePort\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m32106\u001b[1m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"port\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m28001\u001b[1m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"protocol\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"TCP\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"targetPort\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m28001 \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m ],\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"selector\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"app\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"hello2\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"tier\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"frontend\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"sessionAffinity\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"None\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"type\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"LoadBalancer\"\u001b[39m \u001b[1m },\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"status\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"loadBalancer\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ingress\"\u001b[39m: [\u001b[0m\u001b[39m\u001b[49m \u001b[1m {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"ip\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"67.207.72.117\"\u001b[39m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m ]\u001b[0m\u001b[39m\u001b[49m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m}\u001b[0m\u001b[39m\u001b[49m $ ip=$(k -o json get service hello2 | jq -r .status.loadBalancer.ingress[0].ip) All environ settings are in the app container: $ wget -q http://$ip:28001/env -O - | jq . \u001b[1m{\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"at\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m1629196739.1266227\u001b[1m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"env\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PATH\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HOSTNAME\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"hello2-d646c6dc4-zzsmx\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"LANG\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"C.UTF-8\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"GPG_KEY\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"E3FF2839C048B25C084DEBE9B26995E310250568\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_VERSION\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"3.8.11\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_PIP_VERSION\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"21.2.3\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_GET_PIP_URL\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"https://github.com/pypa/get-pip/raw/c20b0cfd643cd4a19246ccf204e2997af70f6b21/public/get-pip.py\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"PYTHON_GET_PIP_SHA256\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"fa6f3fb93cce234cd4e8dd2beb54a51ab9c247653b52855a48dd44e6b21ff28b\"\u001b[1m\u001b[39m, \u001b[34m\"APP_ENV\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"development\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"dbuser\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"root\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"dbpass\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"myk8ssecret\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"dbhost\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"hello2-mysql\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"dbname\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"db\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HELLO2_PORT_28001_TCP_PROTO\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_SERVICE_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT_443_TCP_PROTO\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HELLO2_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.241.244:28001\"\u001b[1m\u001b[39m, \u001b[34m\"HELLO2_PORT_28001_TCP_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"28001\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT_443_TCP\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.0.1:443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT_443_TCP_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT_443_TCP_ADDR\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.0.1\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HELLO2_SERVICE_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"28001\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HELLO2_PORT_28001_TCP\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.241.244:28001\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_SERVICE_HOST\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.0.1\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_SERVICE_PORT_HTTPS\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"KUBERNETES_PORT\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"tcp://10.245.0.1:443\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HELLO2_SERVICE_HOST\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.241.244\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HELLO2_PORT_28001_TCP_ADDR\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"10.245.241.244\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"HOME\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"/root\"\u001b[39m \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m}\u001b[0m\u001b[39m\u001b[49m And the app works: $ wget -q http://$ip:28001/initdb -O - | jq . \u001b[1m{\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"result\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"{'Tables_in_db': 'items'}\"\u001b[39m \u001b[1m}\u001b[0m\u001b[39m\u001b[49m wget -q http://$ip:28001/show/brian -O - | jq . # lp: asserts=\"brian and result\" $ wget -q http://$ip:28001/show/brian -O - | jq . \u001b[1m{\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"result\"\u001b[39m: {\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"name\"\u001b[39m: \u001b[0m\u001b[32m\u001b[49m\"brian\"\u001b[1m\u001b[39m,\u001b[0m\u001b[39m\u001b[49m \u001b[1m \u001b[34m\"age\"\u001b[39m: \u001b[0m\u001b[39m\u001b[49m42 \u001b[1m }\u001b[0m\u001b[39m\u001b[49m \u001b[1m}\u001b[0m\u001b[39m\u001b[49m Delete everything: kubectl delete -k ./. # lp: asserts=\"deployment.apps and deleted\"","title":"Cloud Deployment"},{"location":"cloud/k8s/2_hello_mysql/#discussion","text":"The loadbalancer creation is the time limiting factor at re-deploys from scratch, took often around 4-5 minutes. Tip For CI/CD I'd therefore would keep the loadbalancer standing and just update the app. In order to debug, kubectl get pods -> kubectl logs --follow <podname> was indispensable. kubectl delete -k ./. did always work nicely, removing all, in the right order. K8s's name resolution is simple: The app could simply connect to the dbhost by name attribute of the corresponding service deployment. On DO (and I guess on other infra providers as well) they use their internal volume creation means as default K8s \"storage class\", i.e. when volumes are to be created for Stateful Sets. Those volumes will survive node failure, unlike the hostPath based storage class, being set as default on local test clusters (e.g. minicube). DO Dashboard K8s Dashboard typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Discussion"},{"location":"cloud/k8s/k9s/k9s/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } The K9s Tool \u00a4 This is an open source client, alternative to kubectl . Especially for beginners absolutely fantastic, since a real terminal UI. Installation \u00a4 This will pull a static binary into ~/.local/bin/k9s : curl -sS https://webinstall.dev/k9s | bash Configuration \u00a4 The tool will work right away if you have already kubectl being set up, i.e. you have a ~/.kube/config file. Screencast (click on the image): Shell Access \u00a4 In the config file set nodeShell to true and configure your desired image k9s should install on the nodes when you hit s : featureGates : nodeShell : true shellPod : image : busybox:1.31 command : [] args : [] namespace : default Port Forwards \u00a4 One cool feature is to be able to set up port forwards from your localhost into any exposed port: SHIFT-F on a pod, then this comes up: Tip :pf shows all active forwards. Benchmarks \u00a4 Install the hey benchmark tool. Then ctrl-l in the portforwards view and you get a benchmark (configurable like so ). Skins \u00a4 As described in the docs Hint You can have different skins per cluster! Resources \u00a4 typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"K9s Terminal UI"},{"location":"cloud/k8s/k9s/k9s/#the-k9s-tool","text":"This is an open source client, alternative to kubectl . Especially for beginners absolutely fantastic, since a real terminal UI.","title":"The K9s Tool"},{"location":"cloud/k8s/k9s/k9s/#installation","text":"This will pull a static binary into ~/.local/bin/k9s : curl -sS https://webinstall.dev/k9s | bash","title":"Installation"},{"location":"cloud/k8s/k9s/k9s/#configuration","text":"The tool will work right away if you have already kubectl being set up, i.e. you have a ~/.kube/config file. Screencast (click on the image):","title":"Configuration"},{"location":"cloud/k8s/k9s/k9s/#shell-access","text":"In the config file set nodeShell to true and configure your desired image k9s should install on the nodes when you hit s : featureGates : nodeShell : true shellPod : image : busybox:1.31 command : [] args : [] namespace : default","title":"Shell Access"},{"location":"cloud/k8s/k9s/k9s/#port-forwards","text":"One cool feature is to be able to set up port forwards from your localhost into any exposed port: SHIFT-F on a pod, then this comes up: Tip :pf shows all active forwards.","title":"Port Forwards"},{"location":"cloud/k8s/k9s/k9s/#benchmarks","text":"Install the hey benchmark tool. Then ctrl-l in the portforwards view and you get a benchmark (configurable like so ).","title":"Benchmarks"},{"location":"cloud/k8s/k9s/k9s/#skins","text":"As described in the docs Hint You can have different skins per cluster!","title":"Skins"},{"location":"cloud/k8s/k9s/k9s/#resources","text":"typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Resources"},{"location":"cloud/nextcloud/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Nextcloud \u00a4 Hetzner delivers a nice version 24 setup, which simply works. I wanted to have the newest version and used the docker filesystem for 25 via snpawn - but it did crash at heavy load. The adaption scripts are within this folder, for potential later re-use after analysis why it crashed. They feature cron replacmentn within nc redis within nc a maint script usr/local/bin/m a backdoor into the running container, via socat (base) root@nextcloud-ubuntu-4gb-hel1-2:~# cat build_arch.sh #!/usr/bin/env bash tar cfv nccustom.tar \\ /etc/systemd/system/nextcloud.service \\ docker/nc25/etc/apache2/ports.conf \\ docker/nc25/etc/apache2/sites-available/000-default.conf \\ docker/nc25/etc/hosts \\ docker/nc25/etc/resolv.conf \\ docker/nc25/var/www/run_cron.sh \\ docker/nc25/var/www/html/config/config.php \\ docker/nc25/var/www/html/.htaccess \\ docker/nc25/start \\ docker/nc25/etc/redis/redis.conf \\ docker/nc25/etc/ImageMagick-6/policy.xml echo -e 'To apply to fresh vm: - podman export to docker/nc25 - chroot into - apt-get update - apt-get install redis-server socat ghostscript vim-tiny cron - tar xfv nccustom.tar - rm -rf docker/nc25/var/www/html - nspawn it - /start # /var/www is built, with config - cp /var/www/html/config/config.php /oldconfig.php - tar xfv nccustom.tar # again (for final config.php) - chown -R 33:33 docker/nc25/var/www - nspawn into it - echo \"*/5 * * * * /var/www/run_cron.sh\" | crontab -u www-data - - /start - set cron to unix then it should work... For now I continue with version 24. Good enough. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Nextcloud"},{"location":"cloud/nextcloud/#nextcloud","text":"Hetzner delivers a nice version 24 setup, which simply works. I wanted to have the newest version and used the docker filesystem for 25 via snpawn - but it did crash at heavy load. The adaption scripts are within this folder, for potential later re-use after analysis why it crashed. They feature cron replacmentn within nc redis within nc a maint script usr/local/bin/m a backdoor into the running container, via socat (base) root@nextcloud-ubuntu-4gb-hel1-2:~# cat build_arch.sh #!/usr/bin/env bash tar cfv nccustom.tar \\ /etc/systemd/system/nextcloud.service \\ docker/nc25/etc/apache2/ports.conf \\ docker/nc25/etc/apache2/sites-available/000-default.conf \\ docker/nc25/etc/hosts \\ docker/nc25/etc/resolv.conf \\ docker/nc25/var/www/run_cron.sh \\ docker/nc25/var/www/html/config/config.php \\ docker/nc25/var/www/html/.htaccess \\ docker/nc25/start \\ docker/nc25/etc/redis/redis.conf \\ docker/nc25/etc/ImageMagick-6/policy.xml echo -e 'To apply to fresh vm: - podman export to docker/nc25 - chroot into - apt-get update - apt-get install redis-server socat ghostscript vim-tiny cron - tar xfv nccustom.tar - rm -rf docker/nc25/var/www/html - nspawn it - /start # /var/www is built, with config - cp /var/www/html/config/config.php /oldconfig.php - tar xfv nccustom.tar # again (for final config.php) - chown -R 33:33 docker/nc25/var/www - nspawn into it - echo \"*/5 * * * * /var/www/run_cron.sh\" | crontab -u www-data - - /start - set cron to unix then it should work... For now I continue with version 24. Good enough. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Nextcloud"},{"location":"cloud/terraform/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Terraform (TF) \u00a4 Why \u00a4 Case in point: The Ansible example inventory for OpenShift(OS) at the time of writing this is well over 1k lines long (but thoroughly documented). If you want to configure this to your desired setting, it would take hours. To get an installation to be predictable, repeatable and consistent, hand-coding the inventory is the best way to not meet all these criteria. On the other hand, if you give a fixed set of inputs to Terraform and install the cluster from the inventory file it generated for you, you get the same result every time you run it, anywhere you run it(Provided you are using the same version of e.g. OpenShift). Also: TF maximally abstracts away differences of cloud providers, you can easily transfer deploys from one to the other and it even supports hybrid deploys . In 100 seconds: Abstraction Hierarchy \u00a4 Providers \u00a4 Quote Providers are a logical abstraction of an upstream API. They are responsible for understanding API interactions and exposing resources. Resources \u00a4 Having configured a provider, you can then use their API via the resources abstraction. Resources are e.g. droplets on DO or even complete kubernetes clusters - it only depends on the API possibilities of the provider. Configuration is 100% declarative and in many cases enough to induce a real world change of infrastructure by terraform, which can then be utilized by other tools like ansible or k8s directly. Provisioners \u00a4 E.g. remote_exec on a droplet. Basically doing sth with the resources, within TF. Could be to run an ansible playbook . Variables \u00a4 Feeding concrete values into the above abstractions. Most variables do not need to be provided by the user but are delivered by the resources or Provisioners, at apply time. The real power of vars is the dependency mgmt.: A var like var.droplet.ip will only have a value after droplet creation -> From this terraform can build a dependency graph and deploy accordingly, in parallel when possible but in the order required to have all values at hand, when needed (e.g. a DB router only after the DB nodes are up and the ips are known). Modules \u00a4 Compare with Ansible Playbooks. Those are 3rd party collections of useful arrangements of the above abstractions, usable within your project. State \u00a4 Main difference to ansible: https://www.terraform.io/docs/language/state/index.html Designed for Very Large Deploys For small infrastructures, Terraform can query your providers and sync the latest attributes from all your resources. This is the default behavior of Terraform: for every plan and apply, Terraform will sync all resources in your state. For larger infrastructures, querying every resource is too slow . Many cloud providers do not provide APIs to query multiple resources at once, and the round trip time for each resource is hundreds of milliseconds. On top of this, cloud providers almost always have API rate limiting so Terraform can only request a certain number of resources in a period of time. Larger users of Terraform make heavy use of the -refresh=false flag as well as the -target flag in order to work around this. In these scenarios, the cached state is treated as the record of truth. Variables \u00a4 Powerful. Declarative built in, w/o the implementation hidden in project playbooks. See e.g. count . Declare in Config files, with attributes like default type sensitivity (!) (for log output) Use in env ( $TF_VAR_myvar ) Or cli: tf apply -var myvar=... Or interactively: When defined, not found and no default given it will ask you on the prompt. Then refer to vars throughout the cluster config. The real power of vars is the dependency mgmt.: A var like var.droplet.ip will only have a value after droplet creation -> From this terraform can build a dependency graph and deploy accordingly This is built in and does not have to be scripted like in Ansible Deep Introspection \u00a4 Errors are caught at tf plan time: provisioner \"local-exec\" { command = \"ansible-playbook -i '${digitalocean_droplet.www-example.ipv4_address}' playbook.yml\" } Resulting in: ~/repos/blog/t/cl/D/ansible main \u21e12 !6 ?2 \u276f tf plan \ue73c blog_py39 \u2577 \u2502 Error: Reference to undeclared resource \u2502 \u2502 on worker.tf line 20, in resource \"digitalocean_droplet\" \"worker\": \u2502 20: command = \"ansible-playbook -i '${digitalocean_droplet.www-example.ipv4_address}' playbook.yml\" \u2502 \u2502 A managed resource \"digitalocean_droplet\" \"www-example\" has not been declared in the root module. \u2575 Templating \u00a4 HCL . Clear Win for Ansible (Jinja Powers). But note: templatefile This : user_data <<-EOT %{ for ip in aws_instance.example.*.private_ip ~} server ${ip} %{ endfor ~} EOT In the next chapters we try it out, hands on. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"About"},{"location":"cloud/terraform/#terraform-tf","text":"","title":"Terraform (TF)"},{"location":"cloud/terraform/#why","text":"Case in point: The Ansible example inventory for OpenShift(OS) at the time of writing this is well over 1k lines long (but thoroughly documented). If you want to configure this to your desired setting, it would take hours. To get an installation to be predictable, repeatable and consistent, hand-coding the inventory is the best way to not meet all these criteria. On the other hand, if you give a fixed set of inputs to Terraform and install the cluster from the inventory file it generated for you, you get the same result every time you run it, anywhere you run it(Provided you are using the same version of e.g. OpenShift). Also: TF maximally abstracts away differences of cloud providers, you can easily transfer deploys from one to the other and it even supports hybrid deploys . In 100 seconds:","title":"Why"},{"location":"cloud/terraform/#abstraction-hierarchy","text":"","title":"Abstraction Hierarchy"},{"location":"cloud/terraform/#providers","text":"Quote Providers are a logical abstraction of an upstream API. They are responsible for understanding API interactions and exposing resources.","title":"Providers"},{"location":"cloud/terraform/#resources","text":"Having configured a provider, you can then use their API via the resources abstraction. Resources are e.g. droplets on DO or even complete kubernetes clusters - it only depends on the API possibilities of the provider. Configuration is 100% declarative and in many cases enough to induce a real world change of infrastructure by terraform, which can then be utilized by other tools like ansible or k8s directly.","title":"Resources"},{"location":"cloud/terraform/#provisioners","text":"E.g. remote_exec on a droplet. Basically doing sth with the resources, within TF. Could be to run an ansible playbook .","title":"Provisioners"},{"location":"cloud/terraform/#variables","text":"Feeding concrete values into the above abstractions. Most variables do not need to be provided by the user but are delivered by the resources or Provisioners, at apply time. The real power of vars is the dependency mgmt.: A var like var.droplet.ip will only have a value after droplet creation -> From this terraform can build a dependency graph and deploy accordingly, in parallel when possible but in the order required to have all values at hand, when needed (e.g. a DB router only after the DB nodes are up and the ips are known).","title":"Variables"},{"location":"cloud/terraform/#modules","text":"Compare with Ansible Playbooks. Those are 3rd party collections of useful arrangements of the above abstractions, usable within your project.","title":"Modules"},{"location":"cloud/terraform/#state","text":"Main difference to ansible: https://www.terraform.io/docs/language/state/index.html Designed for Very Large Deploys For small infrastructures, Terraform can query your providers and sync the latest attributes from all your resources. This is the default behavior of Terraform: for every plan and apply, Terraform will sync all resources in your state. For larger infrastructures, querying every resource is too slow . Many cloud providers do not provide APIs to query multiple resources at once, and the round trip time for each resource is hundreds of milliseconds. On top of this, cloud providers almost always have API rate limiting so Terraform can only request a certain number of resources in a period of time. Larger users of Terraform make heavy use of the -refresh=false flag as well as the -target flag in order to work around this. In these scenarios, the cached state is treated as the record of truth.","title":"State"},{"location":"cloud/terraform/#variables_1","text":"Powerful. Declarative built in, w/o the implementation hidden in project playbooks. See e.g. count . Declare in Config files, with attributes like default type sensitivity (!) (for log output) Use in env ( $TF_VAR_myvar ) Or cli: tf apply -var myvar=... Or interactively: When defined, not found and no default given it will ask you on the prompt. Then refer to vars throughout the cluster config. The real power of vars is the dependency mgmt.: A var like var.droplet.ip will only have a value after droplet creation -> From this terraform can build a dependency graph and deploy accordingly This is built in and does not have to be scripted like in Ansible","title":"Variables"},{"location":"cloud/terraform/#deep-introspection","text":"Errors are caught at tf plan time: provisioner \"local-exec\" { command = \"ansible-playbook -i '${digitalocean_droplet.www-example.ipv4_address}' playbook.yml\" } Resulting in: ~/repos/blog/t/cl/D/ansible main \u21e12 !6 ?2 \u276f tf plan \ue73c blog_py39 \u2577 \u2502 Error: Reference to undeclared resource \u2502 \u2502 on worker.tf line 20, in resource \"digitalocean_droplet\" \"worker\": \u2502 20: command = \"ansible-playbook -i '${digitalocean_droplet.www-example.ipv4_address}' playbook.yml\" \u2502 \u2502 A managed resource \"digitalocean_droplet\" \"www-example\" has not been declared in the root module. \u2575","title":"Deep Introspection"},{"location":"cloud/terraform/#templating","text":"HCL . Clear Win for Ansible (Jinja Powers). But note: templatefile This : user_data <<-EOT %{ for ip in aws_instance.example.*.private_ip ~} server ${ip} %{ endfor ~} EOT In the next chapters we try it out, hands on. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Templating"},{"location":"cloud/terraform/ansible/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Terraform and Ansible \u00a4 Preparation \u00a4 Ansible and TF client installed, then: Cmd Output $ export D = \" $DT_PROJECT_ROOT /tmp/clusters/DO/ansible\" $ export TF_VAR_do_token = \" $( pass show DO/pat ) \" $ alias tf = terraform $ mkdir -p \" $D \" $ cd \" $D \" $ export D=\"$DT_PROJECT_ROOT/tmp/clusters/DO/ansible\" $ export TF_VAR_do_token=\"$(pass show DO/pat)\" $ alias tf=terraform $ mkdir -p \"$D\" $ cd \"$D\" Config \u00a4 Provider: \u00a4 $ ca t provider. tf terraf orm { required_providers { digi tal ocea n = { source = \"digitalocean/digitalocean\" versio n = \"~> 2.0\" } } } da ta \"digitalocean_ssh_key\" \"terraform\" { na me = \"terraform\" } provider \"digitalocean\" { t oke n = var.do_ t oke n } variable \"do_token\" { } variable \"pvt_key\" { de fault = \"~/.ssh/id_rsa_terraform\" } Worker: \u00a4 $ ca t worker. tf resource \"digitalocean_droplet\" \"worker\" { image = \"ubuntu-20-04-x64\" na me = \"worker\" regio n = \"fra1\" size = \"s-1vcpu-1gb\" priva te _ net worki n g = true ssh_keys = [ da ta .digi tal ocea n _ssh_key. terraf orm.id ] co nne c t io n { hos t = sel f .ipv 4 _address user = \"root\" t ype = \"ssh\" priva te _key = f ile(var.pv t _key) t imeou t = \"2m\" } provisio ner \"remote-exec\" { i nl i ne = [ \"echo 'Hello World'\" ] } provisio ner \"local-exec\" { comma n d = \"ansible-playbook -i '${digitalocean_droplet.worker.ipv4_address},' playbook.yml\" } } Ansible: \u00a4 $ cat playbook.yml --- - hosts : all become : yes become_user : root become_method : sudo tasks : - name : Install nginx apt : name : nginx state : latest - name : Restart Nginx service : name=nginx state=restarted become : yes and $ cat ansible.cfg [defaults] host_key_checking = False remote_user = root Deploy \u00a4 Cmd Output $ tf init $ tf apply -auto-approve $ tf init \u001b[1mInitializing the backend...\u001b[0m\u001b[39m\u001b[49m \u001b[1mInitializing provider plugins...\u001b[0m\u001b[39m\u001b[49m - Reusing previous version of digitalocean/digitalocean from the dependency lock file - Using previously-installed digitalocean/digitalocean v2.10.1 \u001b[1m\u001b[32mTerraform has been successfully initialized!\u001b[0m\u001b[39m\u001b[49m \u001b[32mYou may now begin working with Terraform. Try running \"terraform plan\" to see\u001b[39m \u001b[32many changes that are required for your infrastructure. All Terraform commands\u001b[39m \u001b[32mshould now work.\u001b[39m \u001b[32mIf you ever set or change modules or backend configuration for Terraform,\u001b[39m \u001b[32mrerun this command to reinitialize your working directory. If you forget, other\u001b[39m \u001b[32mcommands will detect it and remind you to do so if necessary.\u001b[39m $ tf apply -auto-approve \u001b[1mdigitalocean_droplet.worker: Refreshing state... [id=257761846]\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mNo changes.\u001b[39m Your infrastructure matches the configuration.\u001b[0m\u001b[39m\u001b[49m Terraform has compared your real infrastructure against your configuration and found no differences, so no changes are needed. \u001b[1m\u001b[32mApply complete! Resources: 0 added, 0 changed, 0 destroyed.\u001b[0m\u001b[39m\u001b[49m And we have the playbook deployed: Cmd Output $ ip = $( tf show | grep ipv4 | head -n 1 | cut -d = -f 2 | xargs ) $ wget \"http:// $ip /\" -O - | grep -i welcome $ ip=$(tf show | grep ipv4 | head -n 1 | cut -d = -f 2 | xargs) $ wget \"http://$ip/\" -O - | grep -i welcome --2021-08-04 01:23:55-- http://46.101.159.33/ Connecting to 46.101.159.33:80... connected. HTTP request sent, awaiting response... 200 OK Length: 612 [text/html] Saving to: \u2018STDOUT\u2019 - 100%[===================>] 612 --.-KB/s in 0s 2021-08-04 01:23:55 (22.1 MB/s) - written to stdout [612/612] <title>\u001b[1m\u001b[31mWelcome\u001b[0m\u001b[39m\u001b[49m to nginx!</title> <h1>\u001b[1m\u001b[31mWelcome\u001b[0m\u001b[39m\u001b[49m to nginx!</h1> Discussion \u00a4 The remote exec is ugly. We have to give TF our private key, otherwise not required. We had to do it to make sure the worker is up when ansible takes over. A yet more \"ugly\" alternative would be a sleep. Cleaner for sure would be to use dedicated ansible plugins for TF: jonmorehouse/terraform-provisioner-ansible A Terraform Provisioner that runs Ansible-Local on a target machine at creation-time. nbering/terraform-provider-ansible/) A Terraform provider serving as an interop layer for an Ansible dynamic inventory script. adammck/terraform-inventory A very similar solution to terraform-provider-ansible, without the Logical provider. Depends on specific Terraform resource types, and relies heavily on cloud-providers' tag implementations. Ansible Module: Terraform An Ansible module that runs Terraform plans and deployments. I.e. the \"inside out\" solution. Lets' focus on the dynamic inventory based approach: This script https://github.com/nbering/terraform-inventory/blob/master/terraform.py simply walks the TF state file after a successfull apply, pulling out ansible specific information configured directly within the TF resource configs, e.g.: resource \"ansible_host\" \"example\" { i n ve nt ory_hos tna me = \"example.com\" groups = [ \"web\" ] vars = { a ns ible_user = \"admin\" } } resource \"ansible_group\" \"web\" { i n ve nt ory_group_ na me = \"web\" childre n = [ \"foo\" , \"bar\" , \"baz\" ] vars = { f oo = \"bar\" bar = 2 } } So in essence you do sth like this at (re-)provisioning time: $ tf apply && ansible-playbook -i /etc/ansible/terraform.py playbook.yml typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"TF And Ansible"},{"location":"cloud/terraform/ansible/#terraform-and-ansible","text":"","title":"Terraform and Ansible"},{"location":"cloud/terraform/ansible/#preparation","text":"Ansible and TF client installed, then: Cmd Output $ export D = \" $DT_PROJECT_ROOT /tmp/clusters/DO/ansible\" $ export TF_VAR_do_token = \" $( pass show DO/pat ) \" $ alias tf = terraform $ mkdir -p \" $D \" $ cd \" $D \" $ export D=\"$DT_PROJECT_ROOT/tmp/clusters/DO/ansible\" $ export TF_VAR_do_token=\"$(pass show DO/pat)\" $ alias tf=terraform $ mkdir -p \"$D\" $ cd \"$D\"","title":"Preparation"},{"location":"cloud/terraform/ansible/#config","text":"","title":"Config"},{"location":"cloud/terraform/ansible/#provider","text":"$ ca t provider. tf terraf orm { required_providers { digi tal ocea n = { source = \"digitalocean/digitalocean\" versio n = \"~> 2.0\" } } } da ta \"digitalocean_ssh_key\" \"terraform\" { na me = \"terraform\" } provider \"digitalocean\" { t oke n = var.do_ t oke n } variable \"do_token\" { } variable \"pvt_key\" { de fault = \"~/.ssh/id_rsa_terraform\" }","title":"Provider:"},{"location":"cloud/terraform/ansible/#worker","text":"$ ca t worker. tf resource \"digitalocean_droplet\" \"worker\" { image = \"ubuntu-20-04-x64\" na me = \"worker\" regio n = \"fra1\" size = \"s-1vcpu-1gb\" priva te _ net worki n g = true ssh_keys = [ da ta .digi tal ocea n _ssh_key. terraf orm.id ] co nne c t io n { hos t = sel f .ipv 4 _address user = \"root\" t ype = \"ssh\" priva te _key = f ile(var.pv t _key) t imeou t = \"2m\" } provisio ner \"remote-exec\" { i nl i ne = [ \"echo 'Hello World'\" ] } provisio ner \"local-exec\" { comma n d = \"ansible-playbook -i '${digitalocean_droplet.worker.ipv4_address},' playbook.yml\" } }","title":"Worker:"},{"location":"cloud/terraform/ansible/#ansible","text":"$ cat playbook.yml --- - hosts : all become : yes become_user : root become_method : sudo tasks : - name : Install nginx apt : name : nginx state : latest - name : Restart Nginx service : name=nginx state=restarted become : yes and $ cat ansible.cfg [defaults] host_key_checking = False remote_user = root","title":"Ansible:"},{"location":"cloud/terraform/ansible/#deploy","text":"Cmd Output $ tf init $ tf apply -auto-approve $ tf init \u001b[1mInitializing the backend...\u001b[0m\u001b[39m\u001b[49m \u001b[1mInitializing provider plugins...\u001b[0m\u001b[39m\u001b[49m - Reusing previous version of digitalocean/digitalocean from the dependency lock file - Using previously-installed digitalocean/digitalocean v2.10.1 \u001b[1m\u001b[32mTerraform has been successfully initialized!\u001b[0m\u001b[39m\u001b[49m \u001b[32mYou may now begin working with Terraform. Try running \"terraform plan\" to see\u001b[39m \u001b[32many changes that are required for your infrastructure. All Terraform commands\u001b[39m \u001b[32mshould now work.\u001b[39m \u001b[32mIf you ever set or change modules or backend configuration for Terraform,\u001b[39m \u001b[32mrerun this command to reinitialize your working directory. If you forget, other\u001b[39m \u001b[32mcommands will detect it and remind you to do so if necessary.\u001b[39m $ tf apply -auto-approve \u001b[1mdigitalocean_droplet.worker: Refreshing state... [id=257761846]\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mNo changes.\u001b[39m Your infrastructure matches the configuration.\u001b[0m\u001b[39m\u001b[49m Terraform has compared your real infrastructure against your configuration and found no differences, so no changes are needed. \u001b[1m\u001b[32mApply complete! Resources: 0 added, 0 changed, 0 destroyed.\u001b[0m\u001b[39m\u001b[49m And we have the playbook deployed: Cmd Output $ ip = $( tf show | grep ipv4 | head -n 1 | cut -d = -f 2 | xargs ) $ wget \"http:// $ip /\" -O - | grep -i welcome $ ip=$(tf show | grep ipv4 | head -n 1 | cut -d = -f 2 | xargs) $ wget \"http://$ip/\" -O - | grep -i welcome --2021-08-04 01:23:55-- http://46.101.159.33/ Connecting to 46.101.159.33:80... connected. HTTP request sent, awaiting response... 200 OK Length: 612 [text/html] Saving to: \u2018STDOUT\u2019 - 100%[===================>] 612 --.-KB/s in 0s 2021-08-04 01:23:55 (22.1 MB/s) - written to stdout [612/612] <title>\u001b[1m\u001b[31mWelcome\u001b[0m\u001b[39m\u001b[49m to nginx!</title> <h1>\u001b[1m\u001b[31mWelcome\u001b[0m\u001b[39m\u001b[49m to nginx!</h1>","title":"Deploy"},{"location":"cloud/terraform/ansible/#discussion","text":"The remote exec is ugly. We have to give TF our private key, otherwise not required. We had to do it to make sure the worker is up when ansible takes over. A yet more \"ugly\" alternative would be a sleep. Cleaner for sure would be to use dedicated ansible plugins for TF: jonmorehouse/terraform-provisioner-ansible A Terraform Provisioner that runs Ansible-Local on a target machine at creation-time. nbering/terraform-provider-ansible/) A Terraform provider serving as an interop layer for an Ansible dynamic inventory script. adammck/terraform-inventory A very similar solution to terraform-provider-ansible, without the Logical provider. Depends on specific Terraform resource types, and relies heavily on cloud-providers' tag implementations. Ansible Module: Terraform An Ansible module that runs Terraform plans and deployments. I.e. the \"inside out\" solution. Lets' focus on the dynamic inventory based approach: This script https://github.com/nbering/terraform-inventory/blob/master/terraform.py simply walks the TF state file after a successfull apply, pulling out ansible specific information configured directly within the TF resource configs, e.g.: resource \"ansible_host\" \"example\" { i n ve nt ory_hos tna me = \"example.com\" groups = [ \"web\" ] vars = { a ns ible_user = \"admin\" } } resource \"ansible_group\" \"web\" { i n ve nt ory_group_ na me = \"web\" childre n = [ \"foo\" , \"bar\" , \"baz\" ] vars = { f oo = \"bar\" bar = 2 } } So in essence you do sth like this at (re-)provisioning time: $ tf apply && ansible-playbook -i /etc/ansible/terraform.py playbook.yml typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Discussion"},{"location":"cloud/terraform/resource_creation/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Creating Resources with Terraform (TF) \u00a4 Basic Mechanics Requirements \u00a4 SSH key pair, authorized in DO Valid API key, e.g. available via pass terraform executable locally on your system $ ls ~/.ssh/id_rsa* | grep terra /home/gk/.ssh/id_rsa_terraform /home/gk/.ssh/id_rsa_terraform.pub $ pass show DO/pat | head -c 8 7ba23738 $ terraform -h | head Usage: terraform [global options] <subcommand> [args] The available commands for execution are listed below. The primary workflow commands are given first, followed by less common or more advanced commands. Main commands: init Prepare your working directory for other commands validate Check whether the configuration is valid plan Show changes required by the current configuration Initializing \u00a4 Then configure basic vars: $ export D=\"$DT_PROJECT_ROOT/tmp/clusters/DO/basic\" $ export TF_VAR_do_token=\"$(pass show DO/pat)\" $ alias tf=terraform $ mkdir -p \"$D\" $ cd \"$D\" Just go sure we are clean on DO and locally, at start of this tutorial: Cmd Output $ tf destroy -auto-approve -lock = false $ rm -rf * $ tf destroy -auto-approve -lock=false \u001b[1mChanges to Outputs:\u001b[0m\u001b[39m\u001b[49m You can apply this plan to save these new output values to the Terraform state, without changing any real infrastructure. \u001b[1m\u001b[32mDestroy complete! Resources: 0 destroyed.\u001b[0m\u001b[39m\u001b[49m $ $ rm -rf * Create a file for DO provider: $ ca t provider. tf terraf orm { required_providers { digi tal ocea n = { source = \"digitalocean/digitalocean\" versio n = \"~> 2.0\" } } } da ta \"digitalocean_ssh_key\" \"terraform\" { na me = \"terraform\" } provider \"digitalocean\" { t oke n = var.do_ t oke n } variable \"do_token\" { // have ru n : expor t TF_VAR_do_ t oke n =`pass show DO/pa t ` // cli also possible : - var=do_ t oke n =... } variable \"pvt_key\" { de fault = \"~/.ssh/id_rsa_terraform\" } variable \"master_size\" { de fault = \"4gb\" } variable \"node_size\" { de fault = \"4gb\" } variable \"region\" { de fault = \"fra1\" } Provider: This encapsulates the translation from the Terraform definition to the DigitalOcean API. Variables are defined like that to allow further attributes for the terraform UI, e.g. sensitivity, type. are \"doing nothing\" - they just provide static constants for functions within .tf files, throughout the directory (see also var.pvt_key below) usually defined in an own file or even hierarchy of files The provider file allows to init terraform now: Cmd Output $ tf init $ tree -lta $ tf init \u001b[1mInitializing the backend...\u001b[0m\u001b[39m\u001b[49m \u001b[1mInitializing provider plugins...\u001b[0m\u001b[39m\u001b[49m - Finding digitalocean/digitalocean versions matching \"~> 2.0\"... - Installing digitalocean/digitalocean v2.10.1... - Installed digitalocean/digitalocean v2.10.1 (signed by a HashiCorp partner, key ID \u001b[1mF82037E524B9C0E8\u001b[0m\u001b[39m\u001b[49m) Partner and community providers are signed by their developers. If you'd like to know more about provider signing, you can read about it here: https://www.terraform.io/docs/cli/plugins/signing.html Terraform has created a lock file \u001b[1m.terraform.lock.hcl\u001b[0m\u001b[39m\u001b[49m to record the provider selections it made above. Include this file in your version control repository so that Terraform can guarantee to make the same selections by default when you run \"terraform init\" in the future. \u001b[1m\u001b[32mTerraform has been successfully initialized!\u001b[0m\u001b[39m\u001b[49m \u001b[32mYou may now begin working with Terraform. Try running \"terraform plan\" to see\u001b[39m \u001b[32many changes that are required for your infrastructure. All Terraform commands\u001b[39m \u001b[32mshould now work.\u001b[39m \u001b[32mIf you ever set or change modules or backend configuration for Terraform,\u001b[39m \u001b[32mrerun this command to reinitialize your working directory. If you forget, other\u001b[39m \u001b[32mcommands will detect it and remind you to do so if necessary.\u001b[39m $ tree -lta \u001b[1m\u001b[34m.\u001b[0m\u001b[39m\u001b[49m \u251c\u2500\u2500 provider.tf \u251c\u2500\u2500 \u001b[1m\u001b[34m.terraform\u001b[0m\u001b[39m\u001b[49m \u2502 \u2514\u2500\u2500 \u001b[1m\u001b[34mproviders\u001b[0m\u001b[39m\u001b[49m \u2502 \u2514\u2500\u2500 \u001b[1m\u001b[34mregistry.terraform.io\u001b[0m\u001b[39m\u001b[49m \u2502 \u2514\u2500\u2500 \u001b[1m\u001b[34mdigitalocean\u001b[0m\u001b[39m\u001b[49m \u2502 \u2514\u2500\u2500 \u001b[1m\u001b[34mdigitalocean\u001b[0m\u001b[39m\u001b[49m \u2502 \u2514\u2500\u2500 \u001b[1m\u001b[34m2.10.1\u001b[0m\u001b[39m\u001b[49m \u2502 \u2514\u2500\u2500 \u001b[1m\u001b[34mlinux_amd64\u001b[0m\u001b[39m\u001b[49m \u2502 \u251c\u2500\u2500 CHANGELOG.md \u2502 \u251c\u2500\u2500 LICENSE \u2502 \u251c\u2500\u2500 README.md \u2502 \u2514\u2500\u2500 \u001b[1m\u001b[32mterraform-provider-digitalocean_v2.10.1\u001b[0m\u001b[39m\u001b[49m \u2514\u2500\u2500 .terraform.lock.hcl 7 directories, 6 files Configuration \u00a4 Worker Nodes \u00a4 Create two more files for worker nodes: $ ca t www -1. tf resource \"digitalocean_droplet\" \"www-1\" { image = \"ubuntu-20-04-x64\" na me = \"www-1\" regio n = \"fra1\" size = \"s-1vcpu-1gb\" priva te _ net worki n g = true ssh_keys = [ da ta .digi tal ocea n _ssh_key. terraf orm.id ] co nne c t io n { hos t = sel f .ipv 4 _address user = \"root\" t ype = \"ssh\" priva te _key = f ile(var.pv t _key) t imeou t = \"2m\" } provisio ner \"remote-exec\" { i nl i ne = [ \"export PATH=$PATH:/usr/bin\" , \"sudo apt -qq update\" , \"sudo apt -qq install -yq -o Dpkg::Use-Pty=0 nginx\" ] } } Second worker: Cmd Output $ sed 's/www-1/www-2/g' www-1.tf > www-2.tf $ sed 's/www-1/www-2/g' www-1.tf > www-2.tf Load Balancer \u00a4 Also we configure a loadbalancer. Here you see cloud provider specific features of TF: Cmd Output $ cat << EOF > loadbalancer.tf resource \"digitalocean_loadbalancer\" \"www-lb-gk-tftest\" { name = \"www-lb-gk-tftest\" region = \"fra1\" forwarding_rule { entry_port = 80 entry_protocol = \"http\" target_port = 80 target_protocol = \"http\" } healthcheck { port = 80 protocol = \"tcp\" } droplet_ids = [digitalocean_droplet.www-1.id, digitalocean_droplet.www-2.id ] } EOF $ cat << EOF > loadbalancer.tf > resource \"digitalocean_loadbalancer\" \"www-lb-gk-tftest\" { > name = \"www-lb-gk-tftest\" > region = \"fra1\" > > forwarding_rule { > entry_port = 80 > entry_protocol = \"http\" > > target_port = 80 > target_protocol = \"http\" > } > > healthcheck { > port = 80 > protocol = \"tcp\" > } > > droplet_ids = [digitalocean_droplet.www-1.id, digitalocean_droplet.www-2.id ] > } > EOF $ Outputs Demo \u00a4 This way we can information to the tf apply output, ready for others to consume: Cmd Output $ cat << 'ENDL' > outputs.tf output \"ip1\" { description = \"The Droplet www-1 ipv4 address\" value = \"${digitalocean_droplet.www-1.ipv4_address}\" } output \"ip2\" { description = \"The Droplet www-2 ipv4 address\" value = \"${digitalocean_droplet.www-2.ipv4_address}\" } ENDL $ cat <<'ENDL' > outputs.tf > output \"ip1\" { > description = \"The Droplet www-1 ipv4 address\" > value = \"${digitalocean_droplet.www-1.ipv4_address}\" > } > > output \"ip2\" { > description = \"The Droplet www-2 ipv4 address\" > value = \"${digitalocean_droplet.www-2.ipv4_address}\" > } > > ENDL $ Plan & Apply \u00a4 tf plan shows current state: Cmd Output $ tf plan $ tf plan Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols: \u001b[32m+\u001b[39m create Terraform will perform the following actions: \u001b[1m # digitalocean_droplet.www-1\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_droplet\" \"www-1\" { \u001b[32m+\u001b[39m backups = false \u001b[32m+\u001b[39m created_at = (known after apply) \u001b[32m+\u001b[39m disk = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m image = \"ubuntu-20-04-x64\" \u001b[32m+\u001b[39m ipv4_address = (known after apply) \u001b[32m+\u001b[39m ipv4_address_private = (known after apply) \u001b[32m+\u001b[39m ipv6 = false \u001b[32m+\u001b[39m ipv6_address = (known after apply) \u001b[32m+\u001b[39m locked = (known after apply) \u001b[32m+\u001b[39m memory = (known after apply) \u001b[32m+\u001b[39m monitoring = false \u001b[32m+\u001b[39m name = \"www-1\" \u001b[32m+\u001b[39m price_hourly = (known after apply) \u001b[32m+\u001b[39m price_monthly = (known after apply) \u001b[32m+\u001b[39m private_networking = true \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m resize_disk = true \u001b[32m+\u001b[39m size = \"s-1vcpu-1gb\" \u001b[32m+\u001b[39m ssh_keys = [ \u001b[32m+\u001b[39m \"30935145\", ] \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m vcpus = (known after apply) \u001b[32m+\u001b[39m volume_ids = (known after apply) \u001b[32m+\u001b[39m vpc_uuid = (known after apply) } \u001b[1m # digitalocean_droplet.www-2\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_droplet\" \"www-2\" { \u001b[32m+\u001b[39m backups = false \u001b[32m+\u001b[39m created_at = (known after apply) \u001b[32m+\u001b[39m disk = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m image = \"ubuntu-20-04-x64\" \u001b[32m+\u001b[39m ipv4_address = (known after apply) \u001b[32m+\u001b[39m ipv4_address_private = (known after apply) \u001b[32m+\u001b[39m ipv6 = false \u001b[32m+\u001b[39m ipv6_address = (known after apply) \u001b[32m+\u001b[39m locked = (known after apply) \u001b[32m+\u001b[39m memory = (known after apply) \u001b[32m+\u001b[39m monitoring = false \u001b[32m+\u001b[39m name = \"www-2\" \u001b[32m+\u001b[39m price_hourly = (known after apply) \u001b[32m+\u001b[39m price_monthly = (known after apply) \u001b[32m+\u001b[39m private_networking = true \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m resize_disk = true \u001b[32m+\u001b[39m size = \"s-1vcpu-1gb\" \u001b[32m+\u001b[39m ssh_keys = [ \u001b[32m+\u001b[39m \"30935145\", ] \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m vcpus = (known after apply) \u001b[32m+\u001b[39m volume_ids = (known after apply) \u001b[32m+\u001b[39m vpc_uuid = (known after apply) } \u001b[1m # digitalocean_loadbalancer.www-lb-gk-tftest\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_loadbalancer\" \"www-lb-gk-tftest\" { \u001b[32m+\u001b[39m algorithm = \"round_robin\" \u001b[32m+\u001b[39m droplet_ids = (known after apply) \u001b[32m+\u001b[39m enable_backend_keepalive = false \u001b[32m+\u001b[39m enable_proxy_protocol = false \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m ip = (known after apply) \u001b[32m+\u001b[39m name = \"www-lb-gk-tftest\" \u001b[32m+\u001b[39m redirect_http_to_https = false \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m size = \"lb-small\" \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m vpc_uuid = (known after apply) \u001b[32m+\u001b[39m forwarding_rule { \u001b[32m+\u001b[39m certificate_id = (known after apply) \u001b[32m+\u001b[39m certificate_name = (known after apply) \u001b[32m+\u001b[39m entry_port = 80 \u001b[32m+\u001b[39m entry_protocol = \"http\" \u001b[32m+\u001b[39m target_port = 80 \u001b[32m+\u001b[39m target_protocol = \"http\" \u001b[32m+\u001b[39m tls_passthrough = false } \u001b[32m+\u001b[39m healthcheck { \u001b[32m+\u001b[39m check_interval_seconds = 10 \u001b[32m+\u001b[39m healthy_threshold = 5 \u001b[32m+\u001b[39m port = 80 \u001b[32m+\u001b[39m protocol = \"tcp\" \u001b[32m+\u001b[39m response_timeout_seconds = 5 \u001b[32m+\u001b[39m unhealthy_threshold = 3 } \u001b[32m+\u001b[39m sticky_sessions { \u001b[32m+\u001b[39m cookie_name = (known after apply) \u001b[32m+\u001b[39m cookie_ttl_seconds = (known after apply) \u001b[32m+\u001b[39m type = (known after apply) } } \u001b[1mPlan:\u001b[0m\u001b[39m\u001b[49m 3 to add, 0 to change, 0 to destroy. \u001b[1mChanges to Outputs:\u001b[0m\u001b[39m\u001b[49m \u001b[32m+\u001b[39m ip1 = (known after apply) \u001b[32m+\u001b[39m ip2 = (known after apply) \u001b[90m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[39m Note: You didn't use the -out option to save this plan, so Terraform can't guarantee to take exactly these actions if you run \"terraform apply\" now. Ready to apply, that command will now create the nodes (takes a minute): Cmd Output $ time tf apply -auto-approve $ time tf apply -auto-approve Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols: \u001b[32m+\u001b[39m create Terraform will perform the following actions: \u001b[1m # digitalocean_droplet.www-1\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_droplet\" \"www-1\" { \u001b[32m+\u001b[39m backups = false \u001b[32m+\u001b[39m created_at = (known after apply) \u001b[32m+\u001b[39m disk = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m image = \"ubuntu-20-04-x64\" \u001b[32m+\u001b[39m ipv4_address = (known after apply) \u001b[32m+\u001b[39m ipv4_address_private = (known after apply) \u001b[32m+\u001b[39m ipv6 = false \u001b[32m+\u001b[39m ipv6_address = (known after apply) \u001b[32m+\u001b[39m locked = (known after apply) \u001b[32m+\u001b[39m memory = (known after apply) \u001b[32m+\u001b[39m monitoring = false \u001b[32m+\u001b[39m name = \"www-1\" \u001b[32m+\u001b[39m price_hourly = (known after apply) \u001b[32m+\u001b[39m price_monthly = (known after apply) \u001b[32m+\u001b[39m private_networking = true \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m resize_disk = true \u001b[32m+\u001b[39m size = \"s-1vcpu-1gb\" \u001b[32m+\u001b[39m ssh_keys = [ \u001b[32m+\u001b[39m \"30935145\", ] \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m vcpus = (known after apply) \u001b[32m+\u001b[39m volume_ids = (known after apply) \u001b[32m+\u001b[39m vpc_uuid = (known after apply) } \u001b[1m # digitalocean_droplet.www-2\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_droplet\" \"www-2\" { \u001b[32m+\u001b[39m backups = false \u001b[32m+\u001b[39m created_at = (known after apply) \u001b[32m+\u001b[39m disk = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m image = \"ubuntu-20-04-x64\" \u001b[32m+\u001b[39m ipv4_address = (known after apply) \u001b[32m+\u001b[39m ipv4_address_private = (known after apply) \u001b[32m+\u001b[39m ipv6 = false \u001b[32m+\u001b[39m ipv6_address = (known after apply) \u001b[32m+\u001b[39m locked = (known after apply) \u001b[32m+\u001b[39m memory = (known after apply) \u001b[32m+\u001b[39m monitoring = false \u001b[32m+\u001b[39m name = \"www-2\" \u001b[32m+\u001b[39m price_hourly = (known after apply) \u001b[32m+\u001b[39m price_monthly = (known after apply) \u001b[32m+\u001b[39m private_networking = true \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m resize_disk = true \u001b[32m+\u001b[39m size = \"s-1vcpu-1gb\" \u001b[32m+\u001b[39m ssh_keys = [ \u001b[32m+\u001b[39m \"30935145\", ] \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m vcpus = (known after apply) \u001b[32m+\u001b[39m volume_ids = (known after apply) \u001b[32m+\u001b[39m vpc_uuid = (known after apply) } \u001b[1m # digitalocean_loadbalancer.www-lb-gk-tftest\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_loadbalancer\" \"www-lb-gk-tftest\" { \u001b[32m+\u001b[39m algorithm = \"round_robin\" \u001b[32m+\u001b[39m droplet_ids = (known after apply) \u001b[32m+\u001b[39m enable_backend_keepalive = false \u001b[32m+\u001b[39m enable_proxy_protocol = false \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m ip = (known after apply) \u001b[32m+\u001b[39m name = \"www-lb-gk-tftest\" \u001b[32m+\u001b[39m redirect_http_to_https = false \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m size = \"lb-small\" \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m vpc_uuid = (known after apply) \u001b[32m+\u001b[39m forwarding_rule { \u001b[32m+\u001b[39m certificate_id = (known after apply) \u001b[32m+\u001b[39m certificate_name = (known after apply) \u001b[32m+\u001b[39m entry_port = 80 \u001b[32m+\u001b[39m entry_protocol = \"http\" \u001b[32m+\u001b[39m target_port = 80 \u001b[32m+\u001b[39m target_protocol = \"http\" \u001b[32m+\u001b[39m tls_passthrough = false } \u001b[32m+\u001b[39m healthcheck { \u001b[32m+\u001b[39m check_interval_seconds = 10 \u001b[32m+\u001b[39m healthy_threshold = 5 \u001b[32m+\u001b[39m port = 80 \u001b[32m+\u001b[39m protocol = \"tcp\" \u001b[32m+\u001b[39m response_timeout_seconds = 5 \u001b[32m+\u001b[39m unhealthy_threshold = 3 } \u001b[32m+\u001b[39m sticky_sessions { \u001b[32m+\u001b[39m cookie_name = (known after apply) \u001b[32m+\u001b[39m cookie_ttl_seconds = (known after apply) \u001b[32m+\u001b[39m type = (known after apply) } } \u001b[1mPlan:\u001b[0m\u001b[39m\u001b[49m 3 to add, 0 to change, 0 to destroy. \u001b[1mChanges to Outputs:\u001b[0m\u001b[39m\u001b[49m \u001b[32m+\u001b[39m ip1 = (known after apply) \u001b[32m+\u001b[39m ip2 = (known after apply) \u001b[1mdigitalocean_droplet.www-2: Creating...\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Creating...\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still creating... [10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Still creating... [10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Still creating... [20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still creating... [20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Still creating... [30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still creating... [30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Provisioning with 'remote-exec'...\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Connecting to remote host via SSH... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Host: 161.35.194.251 \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m User: root \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Password: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Private key: true \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Certificate: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m SSH Agent: true \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Checking Host Key: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Target Platform: unix \u001b[1mdigitalocean_droplet.www-2: Provisioning with 'remote-exec'...\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Connecting to remote host via SSH... \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Host: 161.35.194.255 \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m User: root \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Password: false \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Private key: true \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Certificate: false \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m SSH Agent: true \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Checking Host Key: false \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Target Platform: unix \u001b[1mdigitalocean_droplet.www-2: Still creating... [40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still creating... [40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Connecting to remote host via SSH... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Host: 161.35.194.251 \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m User: root \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Password: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Private key: true \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Certificate: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m SSH Agent: true \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Checking Host Key: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Target Platform: unix \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Connecting to remote host via SSH... \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Host: 161.35.194.255 \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m User: root \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Password: false \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Private key: true \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Certificate: false \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m SSH Agent: true \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Checking Host Key: false \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Target Platform: unix \u001b[1mdigitalocean_droplet.www-1: Still creating... [50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Still creating... [50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Connecting to remote host via SSH... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Host: 161.35.194.251 \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m User: root \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Password: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Private key: true \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Certificate: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m SSH Agent: true \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Checking Host Key: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Target Platform: unix \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Connected! \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Connected! \u001b[1mdigitalocean_droplet.www-2: Still creating... [1m0s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still creating... [1m0s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Traceback (most recent call last): \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m File \"/usr/lib/cnf-update-db\", line 26, in <module> \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m col.create(db) \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m File \"/usr/lib/python3/dist-packages/CommandNotFound/db/creator.py\", line 94, in create \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m self._fill_commands(con) \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m File \"/usr/lib/python3/dist-packages/CommandNotFound/db/creator.py\", line 137, in _fill_commands \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m with open(f) as fp: \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m FileNotFoundError: [Errno 2] No such file or directory: '/var/lib/apt/lists/archive.ubuntu.com_ubuntu_dists_focal_restricted_cnf_Commands-amd64' \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[31mE: \u001b[0m\u001b[39m\u001b[49mProblem executing scripts APT::Update::Post-Invoke-Success 'if /usr/bin/test -w /var/lib/command-not-found/ -a -e /usr/lib/cnf-update-db; then /usr/lib/cnf-update-db > /dev/null; fi' \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[31mE: \u001b[0m\u001b[39m\u001b[49mSub-process returned an error code \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preconfiguring packages ... Selecting previously unselected package fonts-dejavu-core.\u001b[1m.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Traceback (most recent call last): \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m File \"/usr/lib/cnf-update-db\", line 26, in <module> \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m col.create(db) \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m File \"/usr/lib/python3/dist-packages/CommandNotFound/db/creator.py\", line 94, in create \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m self._fill_commands(con) \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m File \"/usr/lib/python3/dist-packages/CommandNotFound/db/creator.py\", line 137, in _fill_commands \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m with open(f) as fp: \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m FileNotFoundError: [Errno 2] No such file or directory: '/var/lib/apt/lists/archive.ubuntu.com_ubuntu_dists_focal-backports_main_cnf_Commands-amd64' \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 5% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 10% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 15% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 20% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 25% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 30% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 35% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 40% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 45% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 50% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 55% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 60% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 65% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 70% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 75% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 80% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 85% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 90% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 95% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 100% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 63520 files and directories currently installed.) \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../00-fonts-dejavu-core_2.37-1_all.deb ... \u001b[30m\u001b[42mProgress: [ 1%]\u001b[39m\u001b[49m [..................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking fonts-dejavu-core (2.37-1) ... \u001b[30m\u001b[42mProgress: [ 3%]\u001b[39m\u001b[49m [..................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package fontconfig-config. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../01-fontconfig-config_2.13.1-2ubuntu3_all.deb ... \u001b[30m\u001b[42mProgress: [ 4%]\u001b[39m\u001b[49m [..................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking fontconfig-config (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 6%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libfontconfig1:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../02-libfontconfig1_2.13.1-2ubuntu3_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 7%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libfontconfig1:amd64 (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 9%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libjpeg-turbo8:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../03-libjpeg-turbo8_2.0.3-0ubuntu1.20.04.1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 10%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libjpeg-turbo8:amd64 (2.0.3-0ubuntu1.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 12%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libjpeg8:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../04-libjpeg8_8c-2ubuntu8_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 13%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libjpeg8:amd64 (8c-2ubuntu8) ... \u001b[30m\u001b[42mProgress: [ 14%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libjbig0:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../05-libjbig0_2.1-3.1build1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 16%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libjbig0:amd64 (2.1-3.1build1) ... \u001b[30m\u001b[42mProgress: [ 17%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libwebp6:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../06-libwebp6_0.6.1-2ubuntu0.20.04.1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 19%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libwebp6:amd64 (0.6.1-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 20%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libtiff5:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../07-libtiff5_4.1.0+git191117-2ubuntu0.20.04.1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 22%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libtiff5:amd64 (4.1.0+git191117-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 23%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libxpm4:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../08-libxpm4_1%3a3.5.12-1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 25%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libxpm4:amd64 (1:3.5.12-1) ... \u001b[30m\u001b[42mProgress: [ 26%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libgd3:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../09-libgd3_2.2.5-5.2ubuntu2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 28%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libgd3:amd64 (2.2.5-5.2ubuntu2) ... \u001b[30m\u001b[42mProgress: [ 29%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package nginx-common. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../10-nginx-common_1.18.0-0ubuntu1.2_all.deb ... \u001b[30m\u001b[42mProgress: [ 30%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking nginx-common (1.18.0-0ubuntu1.2) ... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[31mE: \u001b[0m\u001b[39m\u001b[49mProblem executing scripts APT::Update::Post-Invoke-Success 'if /usr/bin/test -w /var/lib/command-not-found/ -a -e /usr/lib/cnf-update-db; then /usr/lib/cnf-update-db > /dev/null; fi' \u001b[30m\u001b[42mProgress: [ 32%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-http-image-filter. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[31mE: \u001b[0m\u001b[39m\u001b[49mSub-process returned an error code \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../11-libnginx-mod-http-image-filter_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 33%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-http-image-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 35%]\u001b[39m\u001b[49m [######............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-http-xslt-filter. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../12-libnginx-mod-http-xslt-filter_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 36%]\u001b[39m\u001b[49m [######............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-http-xslt-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 38%]\u001b[39m\u001b[49m [######............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-mail. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../13-libnginx-mod-mail_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 39%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-mail (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 41%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-stream. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../14-libnginx-mod-stream_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 42%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-stream (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 43%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package nginx-core. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../15-nginx-core_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 45%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking nginx-core (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 46%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package nginx. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../16-nginx_1.18.0-0ubuntu1.2_all.deb ... \u001b[30m\u001b[42mProgress: [ 48%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking nginx (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 49%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libxpm4:amd64 (1:3.5.12-1) ... \u001b[30m\u001b[42mProgress: [ 52%]\u001b[39m\u001b[49m [#########.........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up nginx-common (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 54%]\u001b[39m\u001b[49m [#########.........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service \u2192 /lib/systemd/system/nginx.service. \u001b[1mdigitalocean_droplet.www-1: Still creating... [1m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Still creating... [1m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[30m\u001b[42mProgress: [ 55%]\u001b[39m\u001b[49m [#########.........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libjbig0:amd64 (2.1-3.1build1) ... \u001b[30m\u001b[42mProgress: [ 58%]\u001b[39m\u001b[49m [##########........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-http-xslt-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 61%]\u001b[39m\u001b[49m [##########........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libwebp6:amd64 (0.6.1-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 64%]\u001b[39m\u001b[49m [###########.......] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up fonts-dejavu-core (2.37-1) ... \u001b[30m\u001b[42mProgress: [ 67%]\u001b[39m\u001b[49m [###########.......] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libjpeg-turbo8:amd64 (2.0.3-0ubuntu1.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 70%]\u001b[39m\u001b[49m [############......] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libjpeg8:amd64 (8c-2ubuntu8) ... \u001b[30m\u001b[42mProgress: [ 72%]\u001b[39m\u001b[49m [#############.....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-mail (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 75%]\u001b[39m\u001b[49m [#############.....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up fontconfig-config (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 78%]\u001b[39m\u001b[49m [##############....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-stream (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 81%]\u001b[39m\u001b[49m [##############....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libtiff5:amd64 (4.1.0+git191117-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 84%]\u001b[39m\u001b[49m [###############...] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libfontconfig1:amd64 (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 87%]\u001b[39m\u001b[49m [###############...] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libgd3:amd64 (2.2.5-5.2ubuntu2) ... \u001b[30m\u001b[42mProgress: [ 90%]\u001b[39m\u001b[49m [################..] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-http-image-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 93%]\u001b[39m\u001b[49m [################..] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up nginx-core (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 94%]\u001b[39m\u001b[49m [################..] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m \u001b[30m\u001b[42mProgress: [ 96%]\u001b[39m\u001b[49m [#################.] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up nginx (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 99%]\u001b[39m\u001b[49m [#################.] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Processing triggers for ufw (0.36-6) ... \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Processing triggers for systemd (245.4-4ubuntu3.6) ... \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Processing triggers for man-db (2.9.1-1) ... \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Processing triggers for libc-bin (2.31-0ubuntu9.2) ... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preconfiguring packages ... Selecting previously unselected package fonts-dejavu-core.\u001b[1m.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 5% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 10% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 15% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 20% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 25% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 30% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 35% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 40% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 45% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 50% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 55% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 60% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 65% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 70% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 75% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 80% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 85% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 90% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 95% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 100% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 63520 files and directories currently installed.) \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../00-fonts-dejavu-core_2.37-1_all.deb ... \u001b[30m\u001b[42mProgress: [ 1%]\u001b[39m\u001b[49m [..................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking fonts-dejavu-core (2.37-1) ... \u001b[30m\u001b[42mProgress: [ 3%]\u001b[39m\u001b[49m [..................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package fontconfig-config. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../01-fontconfig-config_2.13.1-2ubuntu3_all.deb ... \u001b[30m\u001b[42mProgress: [ 4%]\u001b[39m\u001b[49m [..................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking fontconfig-config (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 6%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libfontconfig1:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../02-libfontconfig1_2.13.1-2ubuntu3_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 7%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libfontconfig1:amd64 (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 9%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libjpeg-turbo8:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../03-libjpeg-turbo8_2.0.3-0ubuntu1.20.04.1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 10%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libjpeg-turbo8:amd64 (2.0.3-0ubuntu1.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 12%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libjpeg8:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../04-libjpeg8_8c-2ubuntu8_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 13%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libjpeg8:amd64 (8c-2ubuntu8) ... \u001b[30m\u001b[42mProgress: [ 14%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libjbig0:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../05-libjbig0_2.1-3.1build1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 16%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libjbig0:amd64 (2.1-3.1build1) ... \u001b[30m\u001b[42mProgress: [ 17%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libwebp6:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../06-libwebp6_0.6.1-2ubuntu0.20.04.1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 19%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libwebp6:amd64 (0.6.1-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 20%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libtiff5:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../07-libtiff5_4.1.0+git191117-2ubuntu0.20.04.1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 22%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libtiff5:amd64 (4.1.0+git191117-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 23%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libxpm4:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../08-libxpm4_1%3a3.5.12-1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 25%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libxpm4:amd64 (1:3.5.12-1) ... \u001b[30m\u001b[42mProgress: [ 26%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libgd3:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../09-libgd3_2.2.5-5.2ubuntu2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 28%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libgd3:amd64 (2.2.5-5.2ubuntu2) ... \u001b[30m\u001b[42mProgress: [ 29%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package nginx-common. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../10-nginx-common_1.18.0-0ubuntu1.2_all.deb ... \u001b[30m\u001b[42mProgress: [ 30%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking nginx-common (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 32%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-http-image-filter. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../11-libnginx-mod-http-image-filter_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 33%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-http-image-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 35%]\u001b[39m\u001b[49m [######............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-http-xslt-filter. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../12-libnginx-mod-http-xslt-filter_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 36%]\u001b[39m\u001b[49m [######............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-http-xslt-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 38%]\u001b[39m\u001b[49m [######............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-mail. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../13-libnginx-mod-mail_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 39%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-mail (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 41%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-stream. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../14-libnginx-mod-stream_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 42%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-stream (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 43%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package nginx-core. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../15-nginx-core_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 45%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking nginx-core (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 46%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package nginx. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../16-nginx_1.18.0-0ubuntu1.2_all.deb ... \u001b[30m\u001b[42mProgress: [ 48%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking nginx (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 49%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libxpm4:amd64 (1:3.5.12-1) ... \u001b[30m\u001b[42mProgress: [ 52%]\u001b[39m\u001b[49m [#########.........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up nginx-common (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 54%]\u001b[39m\u001b[49m [#########.........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service \u2192 /lib/systemd/system/nginx.service. \u001b[30m\u001b[42mProgress: [ 55%]\u001b[39m\u001b[49m [#########.........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libjbig0:amd64 (2.1-3.1build1) ... \u001b[30m\u001b[42mProgress: [ 58%]\u001b[39m\u001b[49m [##########........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-http-xslt-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 61%]\u001b[39m\u001b[49m [##########........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libwebp6:amd64 (0.6.1-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 64%]\u001b[39m\u001b[49m [###########.......] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up fonts-dejavu-core (2.37-1) ... \u001b[30m\u001b[42mProgress: [ 67%]\u001b[39m\u001b[49m [###########.......] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libjpeg-turbo8:amd64 (2.0.3-0ubuntu1.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 70%]\u001b[39m\u001b[49m [############......] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libjpeg8:amd64 (8c-2ubuntu8) ... \u001b[30m\u001b[42mProgress: [ 72%]\u001b[39m\u001b[49m [#############.....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-mail (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 75%]\u001b[39m\u001b[49m [#############.....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up fontconfig-config (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 78%]\u001b[39m\u001b[49m [##############....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-stream (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 81%]\u001b[39m\u001b[49m [##############....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libtiff5:amd64 (4.1.0+git191117-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 84%]\u001b[39m\u001b[49m [###############...] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libfontconfig1:amd64 (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 87%]\u001b[39m\u001b[49m [###############...] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libgd3:amd64 (2.2.5-5.2ubuntu2) ... \u001b[30m\u001b[42mProgress: [ 90%]\u001b[39m\u001b[49m [################..] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-http-image-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 93%]\u001b[39m\u001b[49m [################..] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up nginx-core (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 94%]\u001b[39m\u001b[49m [################..] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m \u001b[30m\u001b[42mProgress: [ 96%]\u001b[39m\u001b[49m [#################.] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up nginx (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 99%]\u001b[39m\u001b[49m [#################.] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Processing triggers for ufw (0.36-6) ... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Processing triggers for systemd (245.4-4ubuntu3.6) ... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Processing triggers for man-db (2.9.1-1) ... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Processing triggers for libc-bin (2.31-0ubuntu9.2) ... \u001b[1mdigitalocean_droplet.www-2: Creation complete after 1m17s [id=257772107]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still creating... [1m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Creation complete after 1m22s [id=257772106]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Creating...\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [1m0s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [1m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [1m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [1m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [1m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [1m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Creation complete after 1m52s [id=9f829c83-7426-4a4c-97dd-ae4d8086d38f]\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mApply complete! Resources: 3 added, 0 changed, 0 destroyed.\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mOutputs:\u001b[0m\u001b[39m\u001b[49m ip1 = \"161.35.194.251\" ip2 = \"161.35.194.255\" real 3m14.975s user 0m1.834s sys 0m0.422s Builtin Infrastructure Dependency Management When you study the output of the apply you'll notice that The output vars are in deed output TF deployed the LB only AFTER the droplets were up(!) Why? Because the LB had droplet specific variables declared - i.e. the site won't be up until the resources are. 2. is a main feature of Terraform. Concurrency There is a parallelism flag with default 10. They claim they resolve interdependencies correctly and order accordingly. Since we have a statefile the next apply is idempotent but also fast: $ time tf apply -auto-approve -parallelism=5 \u001b[1mdigitalocean_droplet.www-2: Refreshing state... [id=257772107]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Refreshing state... [id=257772106]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Refreshing state... [id=9f829c83-7426-4a4c-97dd-ae4d8086d38f]\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[36mNote:\u001b[39m Objects have changed outside of Terraform\u001b[0m\u001b[39m\u001b[49m Terraform detected the following changes made outside of Terraform since the last \"terraform apply\": \u001b[1m # digitalocean_droplet.www-2\u001b[0m\u001b[39m\u001b[49m has been changed \u001b[33m~\u001b[39m resource \"digitalocean_droplet\" \"www-2\" { id = \"257772107\" name = \"www-2\" \u001b[32m+\u001b[39m tags = [] \u001b[90m# (22 unchanged attributes hidden)\u001b[39m } \u001b[1m # digitalocean_droplet.www-1\u001b[0m\u001b[39m\u001b[49m has been changed \u001b[33m~\u001b[39m resource \"digitalocean_droplet\" \"www-1\" { id = \"257772106\" name = \"www-1\" \u001b[32m+\u001b[39m tags = [] \u001b[90m# (22 unchanged attributes hidden)\u001b[39m } Unless you have made equivalent changes to your configuration, or ignored the relevant attributes using ignore_changes, the following plan may include actions to undo or respond to these changes. \u001b[90m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[39m \u001b[1m\u001b[32mNo changes.\u001b[39m Your infrastructure matches the configuration.\u001b[0m\u001b[39m\u001b[49m Your configuration already matches the changes detected above. If you'd like to update the Terraform state to match, create and apply a refresh-only plan: terraform apply -refresh-only \u001b[1m\u001b[32mApply complete! Resources: 0 added, 0 changed, 0 destroyed.\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mOutputs:\u001b[0m\u001b[39m\u001b[49m ip1 = \"161.35.194.251\" ip2 = \"161.35.194.255\" real 0m2.233s user 0m0.877s sys 0m0.114s Result so far: Nginx servers up: Cmd Output $ tf show $ tfvar () { tf state show -no-color 'digitalocean_droplet.' $1 ' ' | grep '' $2 ' ' | cut -d '=' -f 2 | xargs ; } $ wget \"http:// $( tfvar www-1 ipv4_address ) /\" -O - | grep -i nginx $ tf show # data.digitalocean_ssh_key.terraform: data \"digitalocean_ssh_key\" \"terraform\" { fingerprint = \"ea:80:64:ab:58:83:14:48:90:4c:5f:ad:4b:6e:c7:9e\" id = 30935145 name = \"terraform\" public_key = <<-EOT ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDF1bQhthBX6dsAc/mLY4JxJMOjlBnU0xCu4j+iZrNI4TcTnXO4ZsWRuBPch/zveofpsA4El6d9/xgeDk8OtSjS9yTT6ihnpyWmWUW5SA+Rgk6DXS1maDmcAjByz93PsEnw7I2yIe8M2dR/nFoXzRgaYXReHdAVlYDK7QtrPhZtlzqFfev0ZOU4wGgyui9KxFGlV9H1IEXbMQqe1NZ4mejcLz1xAeFwFBuhXHJS2LRis7QeGbVK+AvcP24lZzIIJ/eyA7uQZhYtLxqK6UVS0bJzgYQQ9VIXQ7FBr8GEX4cyKt7htM470OFq1gIdvXm2G7qx8dqY9EBWUsfiX+0JjkTYcggHAx5FdN4evjXOpg7NdurvNBIYlu8C+tN7hg1rwKH4Kc9A0erGbCoFIoX6hu2Goxx/UD9ofebQ1OugGrL42rnOn4SOyIYHlABmnzydr+UZhmW54a9+NVfg7hX5U2taPmIKFtLCkaKwLVRf6XELwwL6C/XEZsl3aSkCcc0kVb8= gk@axgk EOT } # digitalocean_droplet.www-1: resource \"digitalocean_droplet\" \"www-1\" { backups = false created_at = \"2021-08-03T21:57:21Z\" disk = 25 id = \"257772106\" image = \"ubuntu-20-04-x64\" ipv4_address = \"161.35.194.251\" ipv4_address_private = \"10.135.158.48\" ipv6 = false locked = false memory = 1024 monitoring = false name = \"www-1\" price_hourly = 0.00744 price_monthly = 5 private_networking = true region = \"fra1\" resize_disk = true size = \"s-1vcpu-1gb\" ssh_keys = [ \"30935145\", ] status = \"active\" tags = [] urn = \"do:droplet:257772106\" vcpus = 1 volume_ids = [] vpc_uuid = \"f71384e0-dc84-11e8-8b13-3cfdfea9f160\" } # digitalocean_droplet.www-2: resource \"digitalocean_droplet\" \"www-2\" { backups = false created_at = \"2021-08-03T21:57:21Z\" disk = 25 id = \"257772107\" image = \"ubuntu-20-04-x64\" ipv4_address = \"161.35.194.255\" ipv4_address_private = \"10.135.158.49\" ipv6 = false locked = false memory = 1024 monitoring = false name = \"www-2\" price_hourly = 0.00744 price_monthly = 5 private_networking = true region = \"fra1\" resize_disk = true size = \"s-1vcpu-1gb\" ssh_keys = [ \"30935145\", ] status = \"active\" tags = [] urn = \"do:droplet:257772107\" vcpus = 1 volume_ids = [] vpc_uuid = \"f71384e0-dc84-11e8-8b13-3cfdfea9f160\" } # digitalocean_loadbalancer.www-lb-gk-tftest: resource \"digitalocean_loadbalancer\" \"www-lb-gk-tftest\" { algorithm = \"round_robin\" droplet_ids = [ 257772106, 257772107, ] enable_backend_keepalive = false enable_proxy_protocol = false id = \"9f829c83-7426-4a4c-97dd-ae4d8086d38f\" ip = \"165.227.245.46\" name = \"www-lb-gk-tftest\" redirect_http_to_https = false region = \"fra1\" size = \"lb-small\" status = \"active\" urn = \"do:loadbalancer:9f829c83-7426-4a4c-97dd-ae4d8086d38f\" vpc_uuid = \"f71384e0-dc84-11e8-8b13-3cfdfea9f160\" forwarding_rule { entry_port = 80 entry_protocol = \"http\" target_port = 80 target_protocol = \"http\" tls_passthrough = false } healthcheck { check_interval_seconds = 10 healthy_threshold = 5 port = 80 protocol = \"tcp\" response_timeout_seconds = 5 unhealthy_threshold = 3 } sticky_sessions { cookie_ttl_seconds = 0 type = \"none\" } } Outputs: ip1 = \"161.35.194.251\" ip2 = \"161.35.194.255\" $ tfvar () { tf state show -no-color 'digitalocean_droplet.'$1' ' | grep ''$2' ' | cut -d '=' -f 2 | xargs; } $ $ wget \"http://$(tfvar www-1 ipv4_address)/\" -O - | grep -i nginx --2021-08-04 00:00:57-- http://161.35.194.251/ Connecting to 161.35.194.251:80... connected. HTTP request sent, awaiting response... 200 OK Length: 612 [text/html] Saving to: \u2018STDOUT\u2019 - 100%[===================>] 612 --.-KB/s in 0s 2021-08-04 00:00:58 (177 MB/s) - written to stdout [612/612] <title>Welcome to \u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m!</title> <h1>Welcome to \u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m!</h1> <p>If you see this page, the \u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m web server is successfully installed and <a href=\"http://\u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m.org/\">\u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m.org</a>.<br/> <a href=\"http://\u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m.com/\">\u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m.com</a>.</p> <p><em>Thank you for using \u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m.</em></p> $ The tfvar function just greps values from tf state show . We could have used the output vars of the apply as well. This is all for this chapter, so we destroy everything again: Cmd Output $ tf destroy -auto-approve -lock = false $ tf destroy -auto-approve -lock=false \u001b[1mdigitalocean_droplet.www-2: Refreshing state... [id=257772107]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Refreshing state... [id=257772106]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Refreshing state... [id=9f829c83-7426-4a4c-97dd-ae4d8086d38f]\u001b[0m\u001b[39m\u001b[49m Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols: \u001b[31m-\u001b[39m destroy Terraform will perform the following actions: \u001b[1m # digitalocean_droplet.www-1\u001b[0m\u001b[39m\u001b[49m will be \u001b[1m\u001b[31mdestroyed\u001b[0m\u001b[39m\u001b[49m \u001b[31m-\u001b[39m resource \"digitalocean_droplet\" \"www-1\" { \u001b[31m-\u001b[39m backups = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m created_at = \"2021-08-03T21:57:21Z\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m disk = 25 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m id = \"257772106\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m image = \"ubuntu-20-04-x64\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ipv4_address = \"161.35.194.251\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ipv4_address_private = \"10.135.158.48\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ipv6 = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m locked = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m memory = 1024 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m monitoring = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m name = \"www-1\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m price_hourly = 0.00744 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m price_monthly = 5 \u001b[90m->\u001b[39m \u001b[90mnull \u001b[39m \u001b[31m-\u001b[39m private_networking = true \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m region = \"fra1\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m resize_disk = true \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m size = \"s-1vcpu-1gb\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ssh_keys = [ \u001b[31m-\u001b[39m \"30935145\", ] \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m status = \"active\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m tags = [] \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m urn = \"do:droplet:257772106\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m vcpus = 1 \u001b[90m->\u001b[39m \u001b[90mnull \u001b[39m \u001b[31m-\u001b[39m volume_ids = [] \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m vpc_uuid = \"f71384e0-dc84-11e8-8b13-3cfdfea9f160\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m } \u001b[1m # digitalocean_droplet.www-2\u001b[0m\u001b[39m\u001b[49m will be \u001b[1m\u001b[31mdestroyed\u001b[0m\u001b[39m\u001b[49m \u001b[31m-\u001b[39m resource \"digitalocean_droplet\" \"www-2\" { \u001b[31m-\u001b[39m backups = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m created_at = \"2021-08-03T21:57:21Z\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m disk = 25 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m id = \"257772107\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m image = \"ubuntu-20-04-x64\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ipv4_address = \"161.35.194.255\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ipv4_address_private = \"10.135.158.49\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ipv6 = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m locked = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m memory = 1024 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m monitoring = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m name = \"www-2\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m price_hourly = 0.00744 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m price_monthly = 5 \u001b[90m->\u001b[39m \u001b[90mnull \u001b[39m \u001b[31m-\u001b[39m private_networking = true \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m region = \"fra1\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m resize_disk = true \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m size = \"s-1vcpu-1gb\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ssh_keys = [ \u001b[31m-\u001b[39m \"30935145\", ] \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m status = \"active\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m tags = [] \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m urn = \"do:droplet:257772107\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m vcpus = 1 \u001b[90m->\u001b[39m \u001b[90mnull \u001b[39m \u001b[31m-\u001b[39m volume_ids = [] \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m vpc_uuid = \"f71384e0-dc84-11e8-8b13-3cfdfea9f160\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m } \u001b[1m # digitalocean_loadbalancer.www-lb-gk-tftest\u001b[0m\u001b[39m\u001b[49m will be \u001b[1m\u001b[31mdestroyed\u001b[0m\u001b[39m\u001b[49m \u001b[31m-\u001b[39m resource \"digitalocean_loadbalancer\" \"www-lb-gk-tftest\" { \u001b[31m-\u001b[39m algorithm = \"round_robin\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m droplet_ids = [ \u001b[31m-\u001b[39m 257772106, \u001b[31m-\u001b[39m 257772107, ] \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m enable_backend_keepalive = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m enable_proxy_protocol = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m id = \"9f829c83-7426-4a4c-97dd-ae4d8086d38f\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ip = \"165.227.245.46\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m name = \"www-lb-gk-tftest\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m redirect_http_to_https = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m region = \"fra1\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m size = \"lb-small\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m status = \"active\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m urn = \"do:loadbalancer:9f829c83-7426-4a4c-97dd-ae4d8086d38f\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m vpc_uuid = \"f71384e0-dc84-11e8-8b13-3cfdfea9f160\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m forwarding_rule { \u001b[31m-\u001b[39m entry_port = 80 \u001b[90m->\u001b[39m \u001b[90mnull \u001b[39m \u001b[31m-\u001b[39m entry_protocol = \"http\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m target_port = 80 \u001b[90m->\u001b[39m \u001b[90mnull \u001b[39m \u001b[31m-\u001b[39m target_protocol = \"http\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m tls_passthrough = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m } \u001b[31m-\u001b[39m healthcheck { \u001b[31m-\u001b[39m check_interval_seconds = 10 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m healthy_threshold = 5 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m port = 80 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m protocol = \"tcp\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m response_timeout_seconds = 5 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m unhealthy_threshold = 3 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m } \u001b[31m-\u001b[39m sticky_sessions { \u001b[31m-\u001b[39m cookie_ttl_seconds = 0 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m type = \"none\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m } } \u001b[1mPlan:\u001b[0m\u001b[39m\u001b[49m 0 to add, 0 to change, 3 to destroy. \u001b[1mChanges to Outputs:\u001b[0m\u001b[39m\u001b[49m \u001b[31m-\u001b[39m ip1 = \"161.35.194.251\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ip2 = \"161.35.194.255\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Destroying... [id=9f829c83-7426-4a4c-97dd-ae4d8086d38f]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Destruction complete after 1s\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Destroying... [id=257772107]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Destroying... [id=257772106]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still destroying... [id=257772106, 10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Still destroying... [id=257772107, 10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still destroying... [id=257772106, 20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Still destroying... [id=257772107, 20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Destruction complete after 22s\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Destruction complete after 22s\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mDestroy complete! Resources: 3 destroyed.\u001b[0m\u001b[39m\u001b[49m Discussion \u00a4 The remote-exec provisioning method, requiring to configure the private SSH key into TF is definitely ansible territory. See the ansible chapter about TF and Ansible interplaying. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Basic Operation"},{"location":"cloud/terraform/resource_creation/#creating-resources-with-terraform-tf","text":"Basic Mechanics","title":"Creating Resources with Terraform (TF)"},{"location":"cloud/terraform/resource_creation/#requirements","text":"SSH key pair, authorized in DO Valid API key, e.g. available via pass terraform executable locally on your system $ ls ~/.ssh/id_rsa* | grep terra /home/gk/.ssh/id_rsa_terraform /home/gk/.ssh/id_rsa_terraform.pub $ pass show DO/pat | head -c 8 7ba23738 $ terraform -h | head Usage: terraform [global options] <subcommand> [args] The available commands for execution are listed below. The primary workflow commands are given first, followed by less common or more advanced commands. Main commands: init Prepare your working directory for other commands validate Check whether the configuration is valid plan Show changes required by the current configuration","title":"Requirements"},{"location":"cloud/terraform/resource_creation/#initializing","text":"Then configure basic vars: $ export D=\"$DT_PROJECT_ROOT/tmp/clusters/DO/basic\" $ export TF_VAR_do_token=\"$(pass show DO/pat)\" $ alias tf=terraform $ mkdir -p \"$D\" $ cd \"$D\" Just go sure we are clean on DO and locally, at start of this tutorial: Cmd Output $ tf destroy -auto-approve -lock = false $ rm -rf * $ tf destroy -auto-approve -lock=false \u001b[1mChanges to Outputs:\u001b[0m\u001b[39m\u001b[49m You can apply this plan to save these new output values to the Terraform state, without changing any real infrastructure. \u001b[1m\u001b[32mDestroy complete! Resources: 0 destroyed.\u001b[0m\u001b[39m\u001b[49m $ $ rm -rf * Create a file for DO provider: $ ca t provider. tf terraf orm { required_providers { digi tal ocea n = { source = \"digitalocean/digitalocean\" versio n = \"~> 2.0\" } } } da ta \"digitalocean_ssh_key\" \"terraform\" { na me = \"terraform\" } provider \"digitalocean\" { t oke n = var.do_ t oke n } variable \"do_token\" { // have ru n : expor t TF_VAR_do_ t oke n =`pass show DO/pa t ` // cli also possible : - var=do_ t oke n =... } variable \"pvt_key\" { de fault = \"~/.ssh/id_rsa_terraform\" } variable \"master_size\" { de fault = \"4gb\" } variable \"node_size\" { de fault = \"4gb\" } variable \"region\" { de fault = \"fra1\" } Provider: This encapsulates the translation from the Terraform definition to the DigitalOcean API. Variables are defined like that to allow further attributes for the terraform UI, e.g. sensitivity, type. are \"doing nothing\" - they just provide static constants for functions within .tf files, throughout the directory (see also var.pvt_key below) usually defined in an own file or even hierarchy of files The provider file allows to init terraform now: Cmd Output $ tf init $ tree -lta $ tf init \u001b[1mInitializing the backend...\u001b[0m\u001b[39m\u001b[49m \u001b[1mInitializing provider plugins...\u001b[0m\u001b[39m\u001b[49m - Finding digitalocean/digitalocean versions matching \"~> 2.0\"... - Installing digitalocean/digitalocean v2.10.1... - Installed digitalocean/digitalocean v2.10.1 (signed by a HashiCorp partner, key ID \u001b[1mF82037E524B9C0E8\u001b[0m\u001b[39m\u001b[49m) Partner and community providers are signed by their developers. If you'd like to know more about provider signing, you can read about it here: https://www.terraform.io/docs/cli/plugins/signing.html Terraform has created a lock file \u001b[1m.terraform.lock.hcl\u001b[0m\u001b[39m\u001b[49m to record the provider selections it made above. Include this file in your version control repository so that Terraform can guarantee to make the same selections by default when you run \"terraform init\" in the future. \u001b[1m\u001b[32mTerraform has been successfully initialized!\u001b[0m\u001b[39m\u001b[49m \u001b[32mYou may now begin working with Terraform. Try running \"terraform plan\" to see\u001b[39m \u001b[32many changes that are required for your infrastructure. All Terraform commands\u001b[39m \u001b[32mshould now work.\u001b[39m \u001b[32mIf you ever set or change modules or backend configuration for Terraform,\u001b[39m \u001b[32mrerun this command to reinitialize your working directory. If you forget, other\u001b[39m \u001b[32mcommands will detect it and remind you to do so if necessary.\u001b[39m $ tree -lta \u001b[1m\u001b[34m.\u001b[0m\u001b[39m\u001b[49m \u251c\u2500\u2500 provider.tf \u251c\u2500\u2500 \u001b[1m\u001b[34m.terraform\u001b[0m\u001b[39m\u001b[49m \u2502 \u2514\u2500\u2500 \u001b[1m\u001b[34mproviders\u001b[0m\u001b[39m\u001b[49m \u2502 \u2514\u2500\u2500 \u001b[1m\u001b[34mregistry.terraform.io\u001b[0m\u001b[39m\u001b[49m \u2502 \u2514\u2500\u2500 \u001b[1m\u001b[34mdigitalocean\u001b[0m\u001b[39m\u001b[49m \u2502 \u2514\u2500\u2500 \u001b[1m\u001b[34mdigitalocean\u001b[0m\u001b[39m\u001b[49m \u2502 \u2514\u2500\u2500 \u001b[1m\u001b[34m2.10.1\u001b[0m\u001b[39m\u001b[49m \u2502 \u2514\u2500\u2500 \u001b[1m\u001b[34mlinux_amd64\u001b[0m\u001b[39m\u001b[49m \u2502 \u251c\u2500\u2500 CHANGELOG.md \u2502 \u251c\u2500\u2500 LICENSE \u2502 \u251c\u2500\u2500 README.md \u2502 \u2514\u2500\u2500 \u001b[1m\u001b[32mterraform-provider-digitalocean_v2.10.1\u001b[0m\u001b[39m\u001b[49m \u2514\u2500\u2500 .terraform.lock.hcl 7 directories, 6 files","title":"Initializing"},{"location":"cloud/terraform/resource_creation/#configuration","text":"","title":"Configuration"},{"location":"cloud/terraform/resource_creation/#worker-nodes","text":"Create two more files for worker nodes: $ ca t www -1. tf resource \"digitalocean_droplet\" \"www-1\" { image = \"ubuntu-20-04-x64\" na me = \"www-1\" regio n = \"fra1\" size = \"s-1vcpu-1gb\" priva te _ net worki n g = true ssh_keys = [ da ta .digi tal ocea n _ssh_key. terraf orm.id ] co nne c t io n { hos t = sel f .ipv 4 _address user = \"root\" t ype = \"ssh\" priva te _key = f ile(var.pv t _key) t imeou t = \"2m\" } provisio ner \"remote-exec\" { i nl i ne = [ \"export PATH=$PATH:/usr/bin\" , \"sudo apt -qq update\" , \"sudo apt -qq install -yq -o Dpkg::Use-Pty=0 nginx\" ] } } Second worker: Cmd Output $ sed 's/www-1/www-2/g' www-1.tf > www-2.tf $ sed 's/www-1/www-2/g' www-1.tf > www-2.tf","title":"Worker Nodes"},{"location":"cloud/terraform/resource_creation/#load-balancer","text":"Also we configure a loadbalancer. Here you see cloud provider specific features of TF: Cmd Output $ cat << EOF > loadbalancer.tf resource \"digitalocean_loadbalancer\" \"www-lb-gk-tftest\" { name = \"www-lb-gk-tftest\" region = \"fra1\" forwarding_rule { entry_port = 80 entry_protocol = \"http\" target_port = 80 target_protocol = \"http\" } healthcheck { port = 80 protocol = \"tcp\" } droplet_ids = [digitalocean_droplet.www-1.id, digitalocean_droplet.www-2.id ] } EOF $ cat << EOF > loadbalancer.tf > resource \"digitalocean_loadbalancer\" \"www-lb-gk-tftest\" { > name = \"www-lb-gk-tftest\" > region = \"fra1\" > > forwarding_rule { > entry_port = 80 > entry_protocol = \"http\" > > target_port = 80 > target_protocol = \"http\" > } > > healthcheck { > port = 80 > protocol = \"tcp\" > } > > droplet_ids = [digitalocean_droplet.www-1.id, digitalocean_droplet.www-2.id ] > } > EOF $","title":"Load Balancer"},{"location":"cloud/terraform/resource_creation/#outputs-demo","text":"This way we can information to the tf apply output, ready for others to consume: Cmd Output $ cat << 'ENDL' > outputs.tf output \"ip1\" { description = \"The Droplet www-1 ipv4 address\" value = \"${digitalocean_droplet.www-1.ipv4_address}\" } output \"ip2\" { description = \"The Droplet www-2 ipv4 address\" value = \"${digitalocean_droplet.www-2.ipv4_address}\" } ENDL $ cat <<'ENDL' > outputs.tf > output \"ip1\" { > description = \"The Droplet www-1 ipv4 address\" > value = \"${digitalocean_droplet.www-1.ipv4_address}\" > } > > output \"ip2\" { > description = \"The Droplet www-2 ipv4 address\" > value = \"${digitalocean_droplet.www-2.ipv4_address}\" > } > > ENDL $","title":"Outputs Demo"},{"location":"cloud/terraform/resource_creation/#plan-apply","text":"tf plan shows current state: Cmd Output $ tf plan $ tf plan Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols: \u001b[32m+\u001b[39m create Terraform will perform the following actions: \u001b[1m # digitalocean_droplet.www-1\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_droplet\" \"www-1\" { \u001b[32m+\u001b[39m backups = false \u001b[32m+\u001b[39m created_at = (known after apply) \u001b[32m+\u001b[39m disk = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m image = \"ubuntu-20-04-x64\" \u001b[32m+\u001b[39m ipv4_address = (known after apply) \u001b[32m+\u001b[39m ipv4_address_private = (known after apply) \u001b[32m+\u001b[39m ipv6 = false \u001b[32m+\u001b[39m ipv6_address = (known after apply) \u001b[32m+\u001b[39m locked = (known after apply) \u001b[32m+\u001b[39m memory = (known after apply) \u001b[32m+\u001b[39m monitoring = false \u001b[32m+\u001b[39m name = \"www-1\" \u001b[32m+\u001b[39m price_hourly = (known after apply) \u001b[32m+\u001b[39m price_monthly = (known after apply) \u001b[32m+\u001b[39m private_networking = true \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m resize_disk = true \u001b[32m+\u001b[39m size = \"s-1vcpu-1gb\" \u001b[32m+\u001b[39m ssh_keys = [ \u001b[32m+\u001b[39m \"30935145\", ] \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m vcpus = (known after apply) \u001b[32m+\u001b[39m volume_ids = (known after apply) \u001b[32m+\u001b[39m vpc_uuid = (known after apply) } \u001b[1m # digitalocean_droplet.www-2\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_droplet\" \"www-2\" { \u001b[32m+\u001b[39m backups = false \u001b[32m+\u001b[39m created_at = (known after apply) \u001b[32m+\u001b[39m disk = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m image = \"ubuntu-20-04-x64\" \u001b[32m+\u001b[39m ipv4_address = (known after apply) \u001b[32m+\u001b[39m ipv4_address_private = (known after apply) \u001b[32m+\u001b[39m ipv6 = false \u001b[32m+\u001b[39m ipv6_address = (known after apply) \u001b[32m+\u001b[39m locked = (known after apply) \u001b[32m+\u001b[39m memory = (known after apply) \u001b[32m+\u001b[39m monitoring = false \u001b[32m+\u001b[39m name = \"www-2\" \u001b[32m+\u001b[39m price_hourly = (known after apply) \u001b[32m+\u001b[39m price_monthly = (known after apply) \u001b[32m+\u001b[39m private_networking = true \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m resize_disk = true \u001b[32m+\u001b[39m size = \"s-1vcpu-1gb\" \u001b[32m+\u001b[39m ssh_keys = [ \u001b[32m+\u001b[39m \"30935145\", ] \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m vcpus = (known after apply) \u001b[32m+\u001b[39m volume_ids = (known after apply) \u001b[32m+\u001b[39m vpc_uuid = (known after apply) } \u001b[1m # digitalocean_loadbalancer.www-lb-gk-tftest\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_loadbalancer\" \"www-lb-gk-tftest\" { \u001b[32m+\u001b[39m algorithm = \"round_robin\" \u001b[32m+\u001b[39m droplet_ids = (known after apply) \u001b[32m+\u001b[39m enable_backend_keepalive = false \u001b[32m+\u001b[39m enable_proxy_protocol = false \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m ip = (known after apply) \u001b[32m+\u001b[39m name = \"www-lb-gk-tftest\" \u001b[32m+\u001b[39m redirect_http_to_https = false \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m size = \"lb-small\" \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m vpc_uuid = (known after apply) \u001b[32m+\u001b[39m forwarding_rule { \u001b[32m+\u001b[39m certificate_id = (known after apply) \u001b[32m+\u001b[39m certificate_name = (known after apply) \u001b[32m+\u001b[39m entry_port = 80 \u001b[32m+\u001b[39m entry_protocol = \"http\" \u001b[32m+\u001b[39m target_port = 80 \u001b[32m+\u001b[39m target_protocol = \"http\" \u001b[32m+\u001b[39m tls_passthrough = false } \u001b[32m+\u001b[39m healthcheck { \u001b[32m+\u001b[39m check_interval_seconds = 10 \u001b[32m+\u001b[39m healthy_threshold = 5 \u001b[32m+\u001b[39m port = 80 \u001b[32m+\u001b[39m protocol = \"tcp\" \u001b[32m+\u001b[39m response_timeout_seconds = 5 \u001b[32m+\u001b[39m unhealthy_threshold = 3 } \u001b[32m+\u001b[39m sticky_sessions { \u001b[32m+\u001b[39m cookie_name = (known after apply) \u001b[32m+\u001b[39m cookie_ttl_seconds = (known after apply) \u001b[32m+\u001b[39m type = (known after apply) } } \u001b[1mPlan:\u001b[0m\u001b[39m\u001b[49m 3 to add, 0 to change, 0 to destroy. \u001b[1mChanges to Outputs:\u001b[0m\u001b[39m\u001b[49m \u001b[32m+\u001b[39m ip1 = (known after apply) \u001b[32m+\u001b[39m ip2 = (known after apply) \u001b[90m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[39m Note: You didn't use the -out option to save this plan, so Terraform can't guarantee to take exactly these actions if you run \"terraform apply\" now. Ready to apply, that command will now create the nodes (takes a minute): Cmd Output $ time tf apply -auto-approve $ time tf apply -auto-approve Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols: \u001b[32m+\u001b[39m create Terraform will perform the following actions: \u001b[1m # digitalocean_droplet.www-1\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_droplet\" \"www-1\" { \u001b[32m+\u001b[39m backups = false \u001b[32m+\u001b[39m created_at = (known after apply) \u001b[32m+\u001b[39m disk = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m image = \"ubuntu-20-04-x64\" \u001b[32m+\u001b[39m ipv4_address = (known after apply) \u001b[32m+\u001b[39m ipv4_address_private = (known after apply) \u001b[32m+\u001b[39m ipv6 = false \u001b[32m+\u001b[39m ipv6_address = (known after apply) \u001b[32m+\u001b[39m locked = (known after apply) \u001b[32m+\u001b[39m memory = (known after apply) \u001b[32m+\u001b[39m monitoring = false \u001b[32m+\u001b[39m name = \"www-1\" \u001b[32m+\u001b[39m price_hourly = (known after apply) \u001b[32m+\u001b[39m price_monthly = (known after apply) \u001b[32m+\u001b[39m private_networking = true \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m resize_disk = true \u001b[32m+\u001b[39m size = \"s-1vcpu-1gb\" \u001b[32m+\u001b[39m ssh_keys = [ \u001b[32m+\u001b[39m \"30935145\", ] \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m vcpus = (known after apply) \u001b[32m+\u001b[39m volume_ids = (known after apply) \u001b[32m+\u001b[39m vpc_uuid = (known after apply) } \u001b[1m # digitalocean_droplet.www-2\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_droplet\" \"www-2\" { \u001b[32m+\u001b[39m backups = false \u001b[32m+\u001b[39m created_at = (known after apply) \u001b[32m+\u001b[39m disk = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m image = \"ubuntu-20-04-x64\" \u001b[32m+\u001b[39m ipv4_address = (known after apply) \u001b[32m+\u001b[39m ipv4_address_private = (known after apply) \u001b[32m+\u001b[39m ipv6 = false \u001b[32m+\u001b[39m ipv6_address = (known after apply) \u001b[32m+\u001b[39m locked = (known after apply) \u001b[32m+\u001b[39m memory = (known after apply) \u001b[32m+\u001b[39m monitoring = false \u001b[32m+\u001b[39m name = \"www-2\" \u001b[32m+\u001b[39m price_hourly = (known after apply) \u001b[32m+\u001b[39m price_monthly = (known after apply) \u001b[32m+\u001b[39m private_networking = true \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m resize_disk = true \u001b[32m+\u001b[39m size = \"s-1vcpu-1gb\" \u001b[32m+\u001b[39m ssh_keys = [ \u001b[32m+\u001b[39m \"30935145\", ] \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m vcpus = (known after apply) \u001b[32m+\u001b[39m volume_ids = (known after apply) \u001b[32m+\u001b[39m vpc_uuid = (known after apply) } \u001b[1m # digitalocean_loadbalancer.www-lb-gk-tftest\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_loadbalancer\" \"www-lb-gk-tftest\" { \u001b[32m+\u001b[39m algorithm = \"round_robin\" \u001b[32m+\u001b[39m droplet_ids = (known after apply) \u001b[32m+\u001b[39m enable_backend_keepalive = false \u001b[32m+\u001b[39m enable_proxy_protocol = false \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m ip = (known after apply) \u001b[32m+\u001b[39m name = \"www-lb-gk-tftest\" \u001b[32m+\u001b[39m redirect_http_to_https = false \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m size = \"lb-small\" \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m vpc_uuid = (known after apply) \u001b[32m+\u001b[39m forwarding_rule { \u001b[32m+\u001b[39m certificate_id = (known after apply) \u001b[32m+\u001b[39m certificate_name = (known after apply) \u001b[32m+\u001b[39m entry_port = 80 \u001b[32m+\u001b[39m entry_protocol = \"http\" \u001b[32m+\u001b[39m target_port = 80 \u001b[32m+\u001b[39m target_protocol = \"http\" \u001b[32m+\u001b[39m tls_passthrough = false } \u001b[32m+\u001b[39m healthcheck { \u001b[32m+\u001b[39m check_interval_seconds = 10 \u001b[32m+\u001b[39m healthy_threshold = 5 \u001b[32m+\u001b[39m port = 80 \u001b[32m+\u001b[39m protocol = \"tcp\" \u001b[32m+\u001b[39m response_timeout_seconds = 5 \u001b[32m+\u001b[39m unhealthy_threshold = 3 } \u001b[32m+\u001b[39m sticky_sessions { \u001b[32m+\u001b[39m cookie_name = (known after apply) \u001b[32m+\u001b[39m cookie_ttl_seconds = (known after apply) \u001b[32m+\u001b[39m type = (known after apply) } } \u001b[1mPlan:\u001b[0m\u001b[39m\u001b[49m 3 to add, 0 to change, 0 to destroy. \u001b[1mChanges to Outputs:\u001b[0m\u001b[39m\u001b[49m \u001b[32m+\u001b[39m ip1 = (known after apply) \u001b[32m+\u001b[39m ip2 = (known after apply) \u001b[1mdigitalocean_droplet.www-2: Creating...\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Creating...\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still creating... [10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Still creating... [10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Still creating... [20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still creating... [20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Still creating... [30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still creating... [30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Provisioning with 'remote-exec'...\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Connecting to remote host via SSH... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Host: 161.35.194.251 \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m User: root \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Password: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Private key: true \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Certificate: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m SSH Agent: true \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Checking Host Key: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Target Platform: unix \u001b[1mdigitalocean_droplet.www-2: Provisioning with 'remote-exec'...\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Connecting to remote host via SSH... \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Host: 161.35.194.255 \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m User: root \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Password: false \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Private key: true \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Certificate: false \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m SSH Agent: true \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Checking Host Key: false \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Target Platform: unix \u001b[1mdigitalocean_droplet.www-2: Still creating... [40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still creating... [40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Connecting to remote host via SSH... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Host: 161.35.194.251 \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m User: root \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Password: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Private key: true \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Certificate: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m SSH Agent: true \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Checking Host Key: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Target Platform: unix \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Connecting to remote host via SSH... \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Host: 161.35.194.255 \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m User: root \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Password: false \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Private key: true \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Certificate: false \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m SSH Agent: true \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Checking Host Key: false \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Target Platform: unix \u001b[1mdigitalocean_droplet.www-1: Still creating... [50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Still creating... [50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Connecting to remote host via SSH... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Host: 161.35.194.251 \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m User: root \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Password: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Private key: true \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Certificate: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m SSH Agent: true \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Checking Host Key: false \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Target Platform: unix \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Connected! \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Connected! \u001b[1mdigitalocean_droplet.www-2: Still creating... [1m0s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still creating... [1m0s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Traceback (most recent call last): \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m File \"/usr/lib/cnf-update-db\", line 26, in <module> \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m col.create(db) \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m File \"/usr/lib/python3/dist-packages/CommandNotFound/db/creator.py\", line 94, in create \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m self._fill_commands(con) \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m File \"/usr/lib/python3/dist-packages/CommandNotFound/db/creator.py\", line 137, in _fill_commands \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m with open(f) as fp: \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m FileNotFoundError: [Errno 2] No such file or directory: '/var/lib/apt/lists/archive.ubuntu.com_ubuntu_dists_focal_restricted_cnf_Commands-amd64' \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[31mE: \u001b[0m\u001b[39m\u001b[49mProblem executing scripts APT::Update::Post-Invoke-Success 'if /usr/bin/test -w /var/lib/command-not-found/ -a -e /usr/lib/cnf-update-db; then /usr/lib/cnf-update-db > /dev/null; fi' \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[31mE: \u001b[0m\u001b[39m\u001b[49mSub-process returned an error code \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preconfiguring packages ... Selecting previously unselected package fonts-dejavu-core.\u001b[1m.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Traceback (most recent call last): \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m File \"/usr/lib/cnf-update-db\", line 26, in <module> \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m col.create(db) \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m File \"/usr/lib/python3/dist-packages/CommandNotFound/db/creator.py\", line 94, in create \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m self._fill_commands(con) \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m File \"/usr/lib/python3/dist-packages/CommandNotFound/db/creator.py\", line 137, in _fill_commands \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m with open(f) as fp: \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m FileNotFoundError: [Errno 2] No such file or directory: '/var/lib/apt/lists/archive.ubuntu.com_ubuntu_dists_focal-backports_main_cnf_Commands-amd64' \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 5% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 10% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 15% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 20% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 25% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 30% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 35% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 40% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 45% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 50% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 55% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 60% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 65% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 70% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 75% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 80% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 85% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 90% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 95% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 100% \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 63520 files and directories currently installed.) \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../00-fonts-dejavu-core_2.37-1_all.deb ... \u001b[30m\u001b[42mProgress: [ 1%]\u001b[39m\u001b[49m [..................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking fonts-dejavu-core (2.37-1) ... \u001b[30m\u001b[42mProgress: [ 3%]\u001b[39m\u001b[49m [..................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package fontconfig-config. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../01-fontconfig-config_2.13.1-2ubuntu3_all.deb ... \u001b[30m\u001b[42mProgress: [ 4%]\u001b[39m\u001b[49m [..................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking fontconfig-config (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 6%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libfontconfig1:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../02-libfontconfig1_2.13.1-2ubuntu3_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 7%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libfontconfig1:amd64 (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 9%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libjpeg-turbo8:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../03-libjpeg-turbo8_2.0.3-0ubuntu1.20.04.1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 10%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libjpeg-turbo8:amd64 (2.0.3-0ubuntu1.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 12%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libjpeg8:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../04-libjpeg8_8c-2ubuntu8_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 13%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libjpeg8:amd64 (8c-2ubuntu8) ... \u001b[30m\u001b[42mProgress: [ 14%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libjbig0:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../05-libjbig0_2.1-3.1build1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 16%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libjbig0:amd64 (2.1-3.1build1) ... \u001b[30m\u001b[42mProgress: [ 17%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libwebp6:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../06-libwebp6_0.6.1-2ubuntu0.20.04.1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 19%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libwebp6:amd64 (0.6.1-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 20%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libtiff5:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../07-libtiff5_4.1.0+git191117-2ubuntu0.20.04.1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 22%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libtiff5:amd64 (4.1.0+git191117-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 23%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libxpm4:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../08-libxpm4_1%3a3.5.12-1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 25%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libxpm4:amd64 (1:3.5.12-1) ... \u001b[30m\u001b[42mProgress: [ 26%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libgd3:amd64. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../09-libgd3_2.2.5-5.2ubuntu2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 28%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libgd3:amd64 (2.2.5-5.2ubuntu2) ... \u001b[30m\u001b[42mProgress: [ 29%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package nginx-common. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../10-nginx-common_1.18.0-0ubuntu1.2_all.deb ... \u001b[30m\u001b[42mProgress: [ 30%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking nginx-common (1.18.0-0ubuntu1.2) ... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[31mE: \u001b[0m\u001b[39m\u001b[49mProblem executing scripts APT::Update::Post-Invoke-Success 'if /usr/bin/test -w /var/lib/command-not-found/ -a -e /usr/lib/cnf-update-db; then /usr/lib/cnf-update-db > /dev/null; fi' \u001b[30m\u001b[42mProgress: [ 32%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-http-image-filter. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[31mE: \u001b[0m\u001b[39m\u001b[49mSub-process returned an error code \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../11-libnginx-mod-http-image-filter_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 33%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-http-image-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 35%]\u001b[39m\u001b[49m [######............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-http-xslt-filter. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../12-libnginx-mod-http-xslt-filter_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 36%]\u001b[39m\u001b[49m [######............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-http-xslt-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 38%]\u001b[39m\u001b[49m [######............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-mail. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../13-libnginx-mod-mail_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 39%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-mail (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 41%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-stream. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../14-libnginx-mod-stream_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 42%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-stream (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 43%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package nginx-core. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../15-nginx-core_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 45%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking nginx-core (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 46%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package nginx. \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../16-nginx_1.18.0-0ubuntu1.2_all.deb ... \u001b[30m\u001b[42mProgress: [ 48%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking nginx (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 49%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libxpm4:amd64 (1:3.5.12-1) ... \u001b[30m\u001b[42mProgress: [ 52%]\u001b[39m\u001b[49m [#########.........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up nginx-common (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 54%]\u001b[39m\u001b[49m [#########.........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service \u2192 /lib/systemd/system/nginx.service. \u001b[1mdigitalocean_droplet.www-1: Still creating... [1m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Still creating... [1m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[30m\u001b[42mProgress: [ 55%]\u001b[39m\u001b[49m [#########.........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libjbig0:amd64 (2.1-3.1build1) ... \u001b[30m\u001b[42mProgress: [ 58%]\u001b[39m\u001b[49m [##########........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-http-xslt-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 61%]\u001b[39m\u001b[49m [##########........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libwebp6:amd64 (0.6.1-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 64%]\u001b[39m\u001b[49m [###########.......] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up fonts-dejavu-core (2.37-1) ... \u001b[30m\u001b[42mProgress: [ 67%]\u001b[39m\u001b[49m [###########.......] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libjpeg-turbo8:amd64 (2.0.3-0ubuntu1.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 70%]\u001b[39m\u001b[49m [############......] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libjpeg8:amd64 (8c-2ubuntu8) ... \u001b[30m\u001b[42mProgress: [ 72%]\u001b[39m\u001b[49m [#############.....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-mail (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 75%]\u001b[39m\u001b[49m [#############.....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up fontconfig-config (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 78%]\u001b[39m\u001b[49m [##############....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-stream (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 81%]\u001b[39m\u001b[49m [##############....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libtiff5:amd64 (4.1.0+git191117-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 84%]\u001b[39m\u001b[49m [###############...] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libfontconfig1:amd64 (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 87%]\u001b[39m\u001b[49m [###############...] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libgd3:amd64 (2.2.5-5.2ubuntu2) ... \u001b[30m\u001b[42mProgress: [ 90%]\u001b[39m\u001b[49m [################..] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-http-image-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 93%]\u001b[39m\u001b[49m [################..] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up nginx-core (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 94%]\u001b[39m\u001b[49m [################..] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m \u001b[30m\u001b[42mProgress: [ 96%]\u001b[39m\u001b[49m [#################.] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up nginx (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 99%]\u001b[39m\u001b[49m [#################.] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Processing triggers for ufw (0.36-6) ... \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Processing triggers for systemd (245.4-4ubuntu3.6) ... \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Processing triggers for man-db (2.9.1-1) ... \u001b[1mdigitalocean_droplet.www-2 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Processing triggers for libc-bin (2.31-0ubuntu9.2) ... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preconfiguring packages ... Selecting previously unselected package fonts-dejavu-core.\u001b[1m.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 5% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 10% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 15% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 20% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 25% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 30% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 35% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 40% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 45% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 50% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 55% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 60% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 65% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 70% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 75% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 80% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 85% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 90% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 95% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 100% \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m (Reading database ... 63520 files and directories currently installed.) \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../00-fonts-dejavu-core_2.37-1_all.deb ... \u001b[30m\u001b[42mProgress: [ 1%]\u001b[39m\u001b[49m [..................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking fonts-dejavu-core (2.37-1) ... \u001b[30m\u001b[42mProgress: [ 3%]\u001b[39m\u001b[49m [..................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package fontconfig-config. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../01-fontconfig-config_2.13.1-2ubuntu3_all.deb ... \u001b[30m\u001b[42mProgress: [ 4%]\u001b[39m\u001b[49m [..................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking fontconfig-config (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 6%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libfontconfig1:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../02-libfontconfig1_2.13.1-2ubuntu3_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 7%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libfontconfig1:amd64 (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 9%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libjpeg-turbo8:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../03-libjpeg-turbo8_2.0.3-0ubuntu1.20.04.1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 10%]\u001b[39m\u001b[49m [#.................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libjpeg-turbo8:amd64 (2.0.3-0ubuntu1.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 12%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libjpeg8:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../04-libjpeg8_8c-2ubuntu8_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 13%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libjpeg8:amd64 (8c-2ubuntu8) ... \u001b[30m\u001b[42mProgress: [ 14%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libjbig0:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../05-libjbig0_2.1-3.1build1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 16%]\u001b[39m\u001b[49m [##................] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libjbig0:amd64 (2.1-3.1build1) ... \u001b[30m\u001b[42mProgress: [ 17%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libwebp6:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../06-libwebp6_0.6.1-2ubuntu0.20.04.1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 19%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libwebp6:amd64 (0.6.1-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 20%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libtiff5:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../07-libtiff5_4.1.0+git191117-2ubuntu0.20.04.1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 22%]\u001b[39m\u001b[49m [###...............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libtiff5:amd64 (4.1.0+git191117-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 23%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libxpm4:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../08-libxpm4_1%3a3.5.12-1_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 25%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libxpm4:amd64 (1:3.5.12-1) ... \u001b[30m\u001b[42mProgress: [ 26%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libgd3:amd64. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../09-libgd3_2.2.5-5.2ubuntu2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 28%]\u001b[39m\u001b[49m [####..............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libgd3:amd64 (2.2.5-5.2ubuntu2) ... \u001b[30m\u001b[42mProgress: [ 29%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package nginx-common. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../10-nginx-common_1.18.0-0ubuntu1.2_all.deb ... \u001b[30m\u001b[42mProgress: [ 30%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking nginx-common (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 32%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-http-image-filter. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../11-libnginx-mod-http-image-filter_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 33%]\u001b[39m\u001b[49m [#####.............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-http-image-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 35%]\u001b[39m\u001b[49m [######............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-http-xslt-filter. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../12-libnginx-mod-http-xslt-filter_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 36%]\u001b[39m\u001b[49m [######............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-http-xslt-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 38%]\u001b[39m\u001b[49m [######............] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-mail. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../13-libnginx-mod-mail_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 39%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-mail (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 41%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package libnginx-mod-stream. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../14-libnginx-mod-stream_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 42%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking libnginx-mod-stream (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 43%]\u001b[39m\u001b[49m [#######...........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package nginx-core. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../15-nginx-core_1.18.0-0ubuntu1.2_amd64.deb ... \u001b[30m\u001b[42mProgress: [ 45%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking nginx-core (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 46%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Selecting previously unselected package nginx. \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Preparing to unpack .../16-nginx_1.18.0-0ubuntu1.2_all.deb ... \u001b[30m\u001b[42mProgress: [ 48%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Unpacking nginx (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 49%]\u001b[39m\u001b[49m [########..........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libxpm4:amd64 (1:3.5.12-1) ... \u001b[30m\u001b[42mProgress: [ 52%]\u001b[39m\u001b[49m [#########.........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up nginx-common (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 54%]\u001b[39m\u001b[49m [#########.........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service \u2192 /lib/systemd/system/nginx.service. \u001b[30m\u001b[42mProgress: [ 55%]\u001b[39m\u001b[49m [#########.........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libjbig0:amd64 (2.1-3.1build1) ... \u001b[30m\u001b[42mProgress: [ 58%]\u001b[39m\u001b[49m [##########........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-http-xslt-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 61%]\u001b[39m\u001b[49m [##########........] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libwebp6:amd64 (0.6.1-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 64%]\u001b[39m\u001b[49m [###########.......] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up fonts-dejavu-core (2.37-1) ... \u001b[30m\u001b[42mProgress: [ 67%]\u001b[39m\u001b[49m [###########.......] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libjpeg-turbo8:amd64 (2.0.3-0ubuntu1.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 70%]\u001b[39m\u001b[49m [############......] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libjpeg8:amd64 (8c-2ubuntu8) ... \u001b[30m\u001b[42mProgress: [ 72%]\u001b[39m\u001b[49m [#############.....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-mail (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 75%]\u001b[39m\u001b[49m [#############.....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up fontconfig-config (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 78%]\u001b[39m\u001b[49m [##############....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-stream (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 81%]\u001b[39m\u001b[49m [##############....] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libtiff5:amd64 (4.1.0+git191117-2ubuntu0.20.04.1) ... \u001b[30m\u001b[42mProgress: [ 84%]\u001b[39m\u001b[49m [###############...] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libfontconfig1:amd64 (2.13.1-2ubuntu3) ... \u001b[30m\u001b[42mProgress: [ 87%]\u001b[39m\u001b[49m [###############...] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libgd3:amd64 (2.2.5-5.2ubuntu2) ... \u001b[30m\u001b[42mProgress: [ 90%]\u001b[39m\u001b[49m [################..] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up libnginx-mod-http-image-filter (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 93%]\u001b[39m\u001b[49m [################..] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up nginx-core (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 94%]\u001b[39m\u001b[49m [################..] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m \u001b[30m\u001b[42mProgress: [ 96%]\u001b[39m\u001b[49m [#################.] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Setting up nginx (1.18.0-0ubuntu1.2) ... \u001b[30m\u001b[42mProgress: [ 99%]\u001b[39m\u001b[49m [#################.] \u001b[1mc):\u001b[0m\u001b[39m\u001b[49m Processing triggers for ufw (0.36-6) ... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Processing triggers for systemd (245.4-4ubuntu3.6) ... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Processing triggers for man-db (2.9.1-1) ... \u001b[1mdigitalocean_droplet.www-1 (remote-exec):\u001b[0m\u001b[39m\u001b[49m Processing triggers for libc-bin (2.31-0ubuntu9.2) ... \u001b[1mdigitalocean_droplet.www-2: Creation complete after 1m17s [id=257772107]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still creating... [1m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Creation complete after 1m22s [id=257772106]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Creating...\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [1m0s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [1m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [1m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [1m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [1m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Still creating... [1m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Creation complete after 1m52s [id=9f829c83-7426-4a4c-97dd-ae4d8086d38f]\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mApply complete! Resources: 3 added, 0 changed, 0 destroyed.\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mOutputs:\u001b[0m\u001b[39m\u001b[49m ip1 = \"161.35.194.251\" ip2 = \"161.35.194.255\" real 3m14.975s user 0m1.834s sys 0m0.422s Builtin Infrastructure Dependency Management When you study the output of the apply you'll notice that The output vars are in deed output TF deployed the LB only AFTER the droplets were up(!) Why? Because the LB had droplet specific variables declared - i.e. the site won't be up until the resources are. 2. is a main feature of Terraform. Concurrency There is a parallelism flag with default 10. They claim they resolve interdependencies correctly and order accordingly. Since we have a statefile the next apply is idempotent but also fast: $ time tf apply -auto-approve -parallelism=5 \u001b[1mdigitalocean_droplet.www-2: Refreshing state... [id=257772107]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Refreshing state... [id=257772106]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Refreshing state... [id=9f829c83-7426-4a4c-97dd-ae4d8086d38f]\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[36mNote:\u001b[39m Objects have changed outside of Terraform\u001b[0m\u001b[39m\u001b[49m Terraform detected the following changes made outside of Terraform since the last \"terraform apply\": \u001b[1m # digitalocean_droplet.www-2\u001b[0m\u001b[39m\u001b[49m has been changed \u001b[33m~\u001b[39m resource \"digitalocean_droplet\" \"www-2\" { id = \"257772107\" name = \"www-2\" \u001b[32m+\u001b[39m tags = [] \u001b[90m# (22 unchanged attributes hidden)\u001b[39m } \u001b[1m # digitalocean_droplet.www-1\u001b[0m\u001b[39m\u001b[49m has been changed \u001b[33m~\u001b[39m resource \"digitalocean_droplet\" \"www-1\" { id = \"257772106\" name = \"www-1\" \u001b[32m+\u001b[39m tags = [] \u001b[90m# (22 unchanged attributes hidden)\u001b[39m } Unless you have made equivalent changes to your configuration, or ignored the relevant attributes using ignore_changes, the following plan may include actions to undo or respond to these changes. \u001b[90m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[39m \u001b[1m\u001b[32mNo changes.\u001b[39m Your infrastructure matches the configuration.\u001b[0m\u001b[39m\u001b[49m Your configuration already matches the changes detected above. If you'd like to update the Terraform state to match, create and apply a refresh-only plan: terraform apply -refresh-only \u001b[1m\u001b[32mApply complete! Resources: 0 added, 0 changed, 0 destroyed.\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mOutputs:\u001b[0m\u001b[39m\u001b[49m ip1 = \"161.35.194.251\" ip2 = \"161.35.194.255\" real 0m2.233s user 0m0.877s sys 0m0.114s Result so far: Nginx servers up: Cmd Output $ tf show $ tfvar () { tf state show -no-color 'digitalocean_droplet.' $1 ' ' | grep '' $2 ' ' | cut -d '=' -f 2 | xargs ; } $ wget \"http:// $( tfvar www-1 ipv4_address ) /\" -O - | grep -i nginx $ tf show # data.digitalocean_ssh_key.terraform: data \"digitalocean_ssh_key\" \"terraform\" { fingerprint = \"ea:80:64:ab:58:83:14:48:90:4c:5f:ad:4b:6e:c7:9e\" id = 30935145 name = \"terraform\" public_key = <<-EOT ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDF1bQhthBX6dsAc/mLY4JxJMOjlBnU0xCu4j+iZrNI4TcTnXO4ZsWRuBPch/zveofpsA4El6d9/xgeDk8OtSjS9yTT6ihnpyWmWUW5SA+Rgk6DXS1maDmcAjByz93PsEnw7I2yIe8M2dR/nFoXzRgaYXReHdAVlYDK7QtrPhZtlzqFfev0ZOU4wGgyui9KxFGlV9H1IEXbMQqe1NZ4mejcLz1xAeFwFBuhXHJS2LRis7QeGbVK+AvcP24lZzIIJ/eyA7uQZhYtLxqK6UVS0bJzgYQQ9VIXQ7FBr8GEX4cyKt7htM470OFq1gIdvXm2G7qx8dqY9EBWUsfiX+0JjkTYcggHAx5FdN4evjXOpg7NdurvNBIYlu8C+tN7hg1rwKH4Kc9A0erGbCoFIoX6hu2Goxx/UD9ofebQ1OugGrL42rnOn4SOyIYHlABmnzydr+UZhmW54a9+NVfg7hX5U2taPmIKFtLCkaKwLVRf6XELwwL6C/XEZsl3aSkCcc0kVb8= gk@axgk EOT } # digitalocean_droplet.www-1: resource \"digitalocean_droplet\" \"www-1\" { backups = false created_at = \"2021-08-03T21:57:21Z\" disk = 25 id = \"257772106\" image = \"ubuntu-20-04-x64\" ipv4_address = \"161.35.194.251\" ipv4_address_private = \"10.135.158.48\" ipv6 = false locked = false memory = 1024 monitoring = false name = \"www-1\" price_hourly = 0.00744 price_monthly = 5 private_networking = true region = \"fra1\" resize_disk = true size = \"s-1vcpu-1gb\" ssh_keys = [ \"30935145\", ] status = \"active\" tags = [] urn = \"do:droplet:257772106\" vcpus = 1 volume_ids = [] vpc_uuid = \"f71384e0-dc84-11e8-8b13-3cfdfea9f160\" } # digitalocean_droplet.www-2: resource \"digitalocean_droplet\" \"www-2\" { backups = false created_at = \"2021-08-03T21:57:21Z\" disk = 25 id = \"257772107\" image = \"ubuntu-20-04-x64\" ipv4_address = \"161.35.194.255\" ipv4_address_private = \"10.135.158.49\" ipv6 = false locked = false memory = 1024 monitoring = false name = \"www-2\" price_hourly = 0.00744 price_monthly = 5 private_networking = true region = \"fra1\" resize_disk = true size = \"s-1vcpu-1gb\" ssh_keys = [ \"30935145\", ] status = \"active\" tags = [] urn = \"do:droplet:257772107\" vcpus = 1 volume_ids = [] vpc_uuid = \"f71384e0-dc84-11e8-8b13-3cfdfea9f160\" } # digitalocean_loadbalancer.www-lb-gk-tftest: resource \"digitalocean_loadbalancer\" \"www-lb-gk-tftest\" { algorithm = \"round_robin\" droplet_ids = [ 257772106, 257772107, ] enable_backend_keepalive = false enable_proxy_protocol = false id = \"9f829c83-7426-4a4c-97dd-ae4d8086d38f\" ip = \"165.227.245.46\" name = \"www-lb-gk-tftest\" redirect_http_to_https = false region = \"fra1\" size = \"lb-small\" status = \"active\" urn = \"do:loadbalancer:9f829c83-7426-4a4c-97dd-ae4d8086d38f\" vpc_uuid = \"f71384e0-dc84-11e8-8b13-3cfdfea9f160\" forwarding_rule { entry_port = 80 entry_protocol = \"http\" target_port = 80 target_protocol = \"http\" tls_passthrough = false } healthcheck { check_interval_seconds = 10 healthy_threshold = 5 port = 80 protocol = \"tcp\" response_timeout_seconds = 5 unhealthy_threshold = 3 } sticky_sessions { cookie_ttl_seconds = 0 type = \"none\" } } Outputs: ip1 = \"161.35.194.251\" ip2 = \"161.35.194.255\" $ tfvar () { tf state show -no-color 'digitalocean_droplet.'$1' ' | grep ''$2' ' | cut -d '=' -f 2 | xargs; } $ $ wget \"http://$(tfvar www-1 ipv4_address)/\" -O - | grep -i nginx --2021-08-04 00:00:57-- http://161.35.194.251/ Connecting to 161.35.194.251:80... connected. HTTP request sent, awaiting response... 200 OK Length: 612 [text/html] Saving to: \u2018STDOUT\u2019 - 100%[===================>] 612 --.-KB/s in 0s 2021-08-04 00:00:58 (177 MB/s) - written to stdout [612/612] <title>Welcome to \u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m!</title> <h1>Welcome to \u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m!</h1> <p>If you see this page, the \u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m web server is successfully installed and <a href=\"http://\u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m.org/\">\u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m.org</a>.<br/> <a href=\"http://\u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m.com/\">\u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m.com</a>.</p> <p><em>Thank you for using \u001b[1m\u001b[31mnginx\u001b[0m\u001b[39m\u001b[49m.</em></p> $ The tfvar function just greps values from tf state show . We could have used the output vars of the apply as well. This is all for this chapter, so we destroy everything again: Cmd Output $ tf destroy -auto-approve -lock = false $ tf destroy -auto-approve -lock=false \u001b[1mdigitalocean_droplet.www-2: Refreshing state... [id=257772107]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Refreshing state... [id=257772106]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Refreshing state... [id=9f829c83-7426-4a4c-97dd-ae4d8086d38f]\u001b[0m\u001b[39m\u001b[49m Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols: \u001b[31m-\u001b[39m destroy Terraform will perform the following actions: \u001b[1m # digitalocean_droplet.www-1\u001b[0m\u001b[39m\u001b[49m will be \u001b[1m\u001b[31mdestroyed\u001b[0m\u001b[39m\u001b[49m \u001b[31m-\u001b[39m resource \"digitalocean_droplet\" \"www-1\" { \u001b[31m-\u001b[39m backups = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m created_at = \"2021-08-03T21:57:21Z\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m disk = 25 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m id = \"257772106\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m image = \"ubuntu-20-04-x64\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ipv4_address = \"161.35.194.251\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ipv4_address_private = \"10.135.158.48\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ipv6 = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m locked = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m memory = 1024 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m monitoring = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m name = \"www-1\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m price_hourly = 0.00744 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m price_monthly = 5 \u001b[90m->\u001b[39m \u001b[90mnull \u001b[39m \u001b[31m-\u001b[39m private_networking = true \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m region = \"fra1\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m resize_disk = true \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m size = \"s-1vcpu-1gb\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ssh_keys = [ \u001b[31m-\u001b[39m \"30935145\", ] \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m status = \"active\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m tags = [] \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m urn = \"do:droplet:257772106\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m vcpus = 1 \u001b[90m->\u001b[39m \u001b[90mnull \u001b[39m \u001b[31m-\u001b[39m volume_ids = [] \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m vpc_uuid = \"f71384e0-dc84-11e8-8b13-3cfdfea9f160\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m } \u001b[1m # digitalocean_droplet.www-2\u001b[0m\u001b[39m\u001b[49m will be \u001b[1m\u001b[31mdestroyed\u001b[0m\u001b[39m\u001b[49m \u001b[31m-\u001b[39m resource \"digitalocean_droplet\" \"www-2\" { \u001b[31m-\u001b[39m backups = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m created_at = \"2021-08-03T21:57:21Z\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m disk = 25 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m id = \"257772107\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m image = \"ubuntu-20-04-x64\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ipv4_address = \"161.35.194.255\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ipv4_address_private = \"10.135.158.49\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ipv6 = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m locked = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m memory = 1024 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m monitoring = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m name = \"www-2\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m price_hourly = 0.00744 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m price_monthly = 5 \u001b[90m->\u001b[39m \u001b[90mnull \u001b[39m \u001b[31m-\u001b[39m private_networking = true \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m region = \"fra1\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m resize_disk = true \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m size = \"s-1vcpu-1gb\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ssh_keys = [ \u001b[31m-\u001b[39m \"30935145\", ] \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m status = \"active\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m tags = [] \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m urn = \"do:droplet:257772107\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m vcpus = 1 \u001b[90m->\u001b[39m \u001b[90mnull \u001b[39m \u001b[31m-\u001b[39m volume_ids = [] \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m vpc_uuid = \"f71384e0-dc84-11e8-8b13-3cfdfea9f160\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m } \u001b[1m # digitalocean_loadbalancer.www-lb-gk-tftest\u001b[0m\u001b[39m\u001b[49m will be \u001b[1m\u001b[31mdestroyed\u001b[0m\u001b[39m\u001b[49m \u001b[31m-\u001b[39m resource \"digitalocean_loadbalancer\" \"www-lb-gk-tftest\" { \u001b[31m-\u001b[39m algorithm = \"round_robin\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m droplet_ids = [ \u001b[31m-\u001b[39m 257772106, \u001b[31m-\u001b[39m 257772107, ] \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m enable_backend_keepalive = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m enable_proxy_protocol = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m id = \"9f829c83-7426-4a4c-97dd-ae4d8086d38f\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ip = \"165.227.245.46\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m name = \"www-lb-gk-tftest\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m redirect_http_to_https = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m region = \"fra1\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m size = \"lb-small\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m status = \"active\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m urn = \"do:loadbalancer:9f829c83-7426-4a4c-97dd-ae4d8086d38f\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m vpc_uuid = \"f71384e0-dc84-11e8-8b13-3cfdfea9f160\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m forwarding_rule { \u001b[31m-\u001b[39m entry_port = 80 \u001b[90m->\u001b[39m \u001b[90mnull \u001b[39m \u001b[31m-\u001b[39m entry_protocol = \"http\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m target_port = 80 \u001b[90m->\u001b[39m \u001b[90mnull \u001b[39m \u001b[31m-\u001b[39m target_protocol = \"http\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m tls_passthrough = false \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m } \u001b[31m-\u001b[39m healthcheck { \u001b[31m-\u001b[39m check_interval_seconds = 10 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m healthy_threshold = 5 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m port = 80 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m protocol = \"tcp\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m response_timeout_seconds = 5 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m unhealthy_threshold = 3 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m } \u001b[31m-\u001b[39m sticky_sessions { \u001b[31m-\u001b[39m cookie_ttl_seconds = 0 \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m type = \"none\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m } } \u001b[1mPlan:\u001b[0m\u001b[39m\u001b[49m 0 to add, 0 to change, 3 to destroy. \u001b[1mChanges to Outputs:\u001b[0m\u001b[39m\u001b[49m \u001b[31m-\u001b[39m ip1 = \"161.35.194.251\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[31m-\u001b[39m ip2 = \"161.35.194.255\" \u001b[90m->\u001b[39m \u001b[90mnull\u001b[39m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Destroying... [id=9f829c83-7426-4a4c-97dd-ae4d8086d38f]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_loadbalancer.www-lb-gk-tftest: Destruction complete after 1s\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Destroying... [id=257772107]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Destroying... [id=257772106]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still destroying... [id=257772106, 10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Still destroying... [id=257772107, 10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Still destroying... [id=257772106, 20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Still destroying... [id=257772107, 20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-2: Destruction complete after 22s\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_droplet.www-1: Destruction complete after 22s\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mDestroy complete! Resources: 3 destroyed.\u001b[0m\u001b[39m\u001b[49m","title":"Plan &amp; Apply"},{"location":"cloud/terraform/resource_creation/#discussion","text":"The remote-exec provisioning method, requiring to configure the private SSH key into TF is definitely ansible territory. See the ansible chapter about TF and Ansible interplaying. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Discussion"},{"location":"cloud/terraform/k8s/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Kubernetes with Terraform \u00a4 Terraform offers two strictly seperate integrations for/with Kubernetes: You can create Kubernetes Instances (clusters) on pretty much any cloud infra offering, using the cloud infra provider's specific terraform provider plugin. See k8s_on_do for a live demo of getting to a Kubernetes cluster on DigitalOcean. Once you have management access to a Kubernetes Cluster, you can, instead of using raw kubectl, also use terraform to configure resources on it, using the kubernetes provider . See k8s_provider tutorial for a live session. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Kubernetes"},{"location":"cloud/terraform/k8s/#kubernetes-with-terraform","text":"Terraform offers two strictly seperate integrations for/with Kubernetes: You can create Kubernetes Instances (clusters) on pretty much any cloud infra offering, using the cloud infra provider's specific terraform provider plugin. See k8s_on_do for a live demo of getting to a Kubernetes cluster on DigitalOcean. Once you have management access to a Kubernetes Cluster, you can, instead of using raw kubectl, also use terraform to configure resources on it, using the kubernetes provider . See k8s_provider tutorial for a live session. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Kubernetes with Terraform"},{"location":"cloud/terraform/k8s/k8s_on_do/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } K8s With Terraform \u00a4 Here we learn how to get to a K8s instance running on a cloud provider. We use Digitial Ocean(DO) as cloud provider, AWS is well documented. Local K8s Test Instances When you do not have a cloud infra provider or want something for CI then use \"kind\" . On the Terraform page there is a nice example how to use it. Requirements \u00a4 Have local: The cloud provider client (here: doctl ) The terraform binary podman or docker (here only to configure access to our private registry for k8s, via their auth file they create after login). I.e. only for convenience. Optional: We use the pass utility since we don't want sensitive values being shown Have an API token for DO Optional: Private container registry url with creds Cmd Output $ type doctl terraform kubectl podman pass $ pass show DO/pat | head -c 5 $ D = \" $DT_PROJECT_ROOT /tmp/clusters/DO/k8s\" $ mkdir -p \" $D \" $ cd \" $D \" || exit 1 $ export TF_VAR_do_token = \" $( pass show DO/pat ) \" $ terraform destroy -auto-approve -lock = false # lp: expect=complete timeout=100 $ ls -a | xargs rm -rf 2 >/dev/null $ type doctl terraform kubectl podman pass doctl is /usr/local/bin/doctl terraform is /usr/local/bin/terraform kubectl is /usr/local/bin/kubectl podman is /usr/bin/podman pass is /usr/bin/pass $ pass show DO/pat | head -c 5 7ba23 $ D=\"$DT_PROJECT_ROOT/tmp/clusters/DO/k8s\" $ mkdir -p \"$D\" $ cd \"$D\" || exit 1 $ export TF_VAR_do_token=\"$(pass show DO/pat)\" $ terraform destroy -auto-approve -lock=false \u001b[1m\u001b[32mNo changes.\u001b[39m No objects need to be destroyed.\u001b[0m\u001b[39m\u001b[49m Either you have not created any objects yet or the existing objects were already deleted outside of Terraform. \u001b[1m\u001b[32mDestroy complete! Resources: 0 destroyed.\u001b[0m\u001b[39m\u001b[49m $ $ ls -a | xargs rm -rf 2>/dev/null Environ \u00a4 Lets create a file which sets up our working environ, when sourced - convenient for new shells: $ cat environ set -ae alias tf = terraform k = kubectl [[ \" $0 \" = *bash* ]] && s = bash || s = zsh source < ( kubectl completion $s ) export D = \"/home/gk/repos/blog/tmp/clusters/DO/k8s\" cd \" $D \" TF_VAR_do_token = \" $( pass show DO/pat ) \" clustername = \"tf-do-cluster-d1\" latest_k8s_ver = \" $( doctl kubernetes options versions | grep -A 1 Slug | tail -n 1 | cut -d ' ' -f1 | xargs ) \" set +ae Config \u00a4 Cmd Output $ source environ $ cat << EOF > provider.tf terraform { required_providers { digitalocean = { source = \"digitalocean/digitalocean\" version = \"~> 2.0\" } } } variable \"do_token\" { } data \"digitalocean_ssh_key\" \"terraform\" { name = \"terraform\" } provider \"digitalocean\" { token = var.do_token } EOF $ source environ $ cat << EOF > provider.tf > terraform { > required_providers { > digitalocean = { > source = \"digitalocean/digitalocean\" > version = \"~> 2.0\" > } > } > } > > variable \"do_token\" { } > > data \"digitalocean_ssh_key\" \"terraform\" { > name = \"terraform\" > } > provider \"digitalocean\" { > token = var.do_token > } > EOF $ Cmd Output $ cat << EOF > do -kubernetes.tf resource \"digitalocean_kubernetes_cluster\" \"kubernetes_cluster\" { name = \"$clustername\" region = \"fra1\" version = \"$latest_k8s_ver\" tags = [\"my-tag\", \"d1\"] # This default node pool is mandatory node_pool { name = \"default-pool\" size = \"s-1vcpu-2gb\" # minimum size, list available options with doctl compute size list auto_scale = false node_count = 2 tags = [\"node-pool-tag\"] labels = { } } } # A node pool for applications resource \"digitalocean_kubernetes_node_pool\" \"app_node_pool\" { cluster_id = digitalocean_kubernetes_cluster.kubernetes_cluster.id name = \"app-pool\" size = \"s-2vcpu-4gb\" tags = [\"applications\"] # you can setup autoscaling auto_scale = true min_nodes = 2 max_nodes = 10 labels = { service = \"apps\" priority = \"high\" } } EOF $ cat << EOF > do-kubernetes.tf > resource \"digitalocean_kubernetes_cluster\" \"kubernetes_cluster\" { > name = \"$clustername\" > region = \"fra1\" > version = \"$latest_k8s_ver\" > > tags = [\"my-tag\", \"d1\"] > > # This default node pool is mandatory > node_pool { > name = \"default-pool\" > size = \"s-1vcpu-2gb\" # minimum size, list available options with doctl compute size list > auto_scale = false > node_count = 2 > tags = [\"node-pool-tag\"] > labels = { > } > } > > } > > # A node pool for applications > resource \"digitalocean_kubernetes_node_pool\" \"app_node_pool\" { > cluster_id = digitalocean_kubernetes_cluster.kubernetes_cluster.id > > name = \"app-pool\" > size = \"s-2vcpu-4gb\" > tags = [\"applications\"] > > # you can setup autoscaling > auto_scale = true > min_nodes = 2 > max_nodes = 10 > labels = { > service = \"apps\" > priority = \"high\" > } > } > EOF $ Init - Plan - Apply \u00a4 Cmd Output $ tf init # lp: asserts=\"successfully initialized\" $ tf plan # lp: asserts=\"to add\" $ tf init \u001b[1mInitializing the backend...\u001b[0m\u001b[39m\u001b[49m \u001b[1mInitializing provider plugins...\u001b[0m\u001b[39m\u001b[49m - Finding digitalocean/digitalocean versions matching \"~> 2.0\"... - Installing digitalocean/digitalocean v2.11.0... - Installed digitalocean/digitalocean v2.11.0 (signed by a HashiCorp partner, key ID \u001b[1mF82037E524B9C0E8\u001b[0m\u001b[39m\u001b[49m) Partner and community providers are signed by their developers. If you'd like to know more about provider signing, you can read about it here: https://www.terraform.io/docs/cli/plugins/signing.html Terraform has created a lock file \u001b[1m.terraform.lock.hcl\u001b[0m\u001b[39m\u001b[49m to record the provider selections it made above. Include this file in your version control repository so that Terraform can guarantee to make the same selections by default when you run \"terraform init\" in the future. \u001b[1m\u001b[32mTerraform has been successfully initialized!\u001b[0m\u001b[39m\u001b[49m \u001b[32mYou may now begin working with Terraform. Try running \"terraform plan\" to see\u001b[39m \u001b[32many changes that are required for your infrastructure. All Terraform commands\u001b[39m \u001b[32mshould now work.\u001b[39m \u001b[32mIf you ever set or change modules or backend configuration for Terraform,\u001b[39m \u001b[32mrerun this command to reinitialize your working directory. If you forget, other\u001b[39m \u001b[32mcommands will detect it and remind you to do so if necessary.\u001b[39m $ tf plan Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols: \u001b[32m+\u001b[39m create Terraform will perform the following actions: \u001b[1m # digitalocean_kubernetes_cluster.kubernetes_cluster\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_kubernetes_cluster\" \"kubernetes_cluster\" { \u001b[32m+\u001b[39m cluster_subnet = (known after apply) \u001b[32m+\u001b[39m created_at = (known after apply) \u001b[32m+\u001b[39m endpoint = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m ipv4_address = (known after apply) \u001b[32m+\u001b[39m kube_config = (sensitive value) \u001b[32m+\u001b[39m name = \"tf-do-cluster-d1\" \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m service_subnet = (known after apply) \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m surge_upgrade = true \u001b[32m+\u001b[39m tags = [ \u001b[32m+\u001b[39m \"d1\", \u001b[32m+\u001b[39m \"my-tag\", ] \u001b[32m+\u001b[39m updated_at = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m version = \"1.21.2-do.2\" \u001b[32m+\u001b[39m vpc_uuid = (known after apply) \u001b[32m+\u001b[39m maintenance_policy { \u001b[32m+\u001b[39m day = (known after apply) \u001b[32m+\u001b[39m duration = (known after apply) \u001b[32m+\u001b[39m start_time = (known after apply) } \u001b[32m+\u001b[39m node_pool { \u001b[32m+\u001b[39m actual_node_count = (known after apply) \u001b[32m+\u001b[39m auto_scale = false \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m name = \"default-pool\" \u001b[32m+\u001b[39m node_count = 2 \u001b[32m+\u001b[39m nodes = (known after apply) \u001b[32m+\u001b[39m size = \"s-1vcpu-2gb\" \u001b[32m+\u001b[39m tags = [ \u001b[32m+\u001b[39m \"node-pool-tag\", ] } } \u001b[1m # digitalocean_kubernetes_node_pool.app_node_pool\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_kubernetes_node_pool\" \"app_node_pool\" { \u001b[32m+\u001b[39m actual_node_count = (known after apply) \u001b[32m+\u001b[39m auto_scale = true \u001b[32m+\u001b[39m cluster_id = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m labels = { \u001b[32m+\u001b[39m \"priority\" = \"high\" \u001b[32m+\u001b[39m \"service\" = \"apps\" } \u001b[32m+\u001b[39m max_nodes = 10 \u001b[32m+\u001b[39m min_nodes = 2 \u001b[32m+\u001b[39m name = \"app-pool\" \u001b[32m+\u001b[39m nodes = (known after apply) \u001b[32m+\u001b[39m size = \"s-2vcpu-4gb\" \u001b[32m+\u001b[39m tags = [ \u001b[32m+\u001b[39m \"applications\", ] } \u001b[1mPlan:\u001b[0m\u001b[39m\u001b[49m 2 to add, 0 to change, 0 to destroy. \u001b[90m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[39m Note: You didn't use the -out option to save this plan, so Terraform can't guarantee to take exactly these actions if you run \"terraform apply\" now. Create it: Cmd Output $ time tf apply -auto-approve $ time tf apply -auto-approve Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols: \u001b[32m+\u001b[39m create Terraform will perform the following actions: \u001b[1m # digitalocean_kubernetes_cluster.kubernetes_cluster\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_kubernetes_cluster\" \"kubernetes_cluster\" { \u001b[32m+\u001b[39m cluster_subnet = (known after apply) \u001b[32m+\u001b[39m created_at = (known after apply) \u001b[32m+\u001b[39m endpoint = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m ipv4_address = (known after apply) \u001b[32m+\u001b[39m kube_config = (sensitive value) \u001b[32m+\u001b[39m name = \"tf-do-cluster-d1\" \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m service_subnet = (known after apply) \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m surge_upgrade = true \u001b[32m+\u001b[39m tags = [ \u001b[32m+\u001b[39m \"d1\", \u001b[32m+\u001b[39m \"my-tag\", ] \u001b[32m+\u001b[39m updated_at = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m version = \"1.21.2-do.2\" \u001b[32m+\u001b[39m vpc_uuid = (known after apply) \u001b[32m+\u001b[39m maintenance_policy { \u001b[32m+\u001b[39m day = (known after apply) \u001b[32m+\u001b[39m duration = (known after apply) \u001b[32m+\u001b[39m start_time = (known after apply) } \u001b[32m+\u001b[39m node_pool { \u001b[32m+\u001b[39m actual_node_count = (known after apply) \u001b[32m+\u001b[39m auto_scale = false \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m name = \"default-pool\" \u001b[32m+\u001b[39m node_count = 2 \u001b[32m+\u001b[39m nodes = (known after apply) \u001b[32m+\u001b[39m size = \"s-1vcpu-2gb\" \u001b[32m+\u001b[39m tags = [ \u001b[32m+\u001b[39m \"node-pool-tag\", ] } } \u001b[1m # digitalocean_kubernetes_node_pool.app_node_pool\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_kubernetes_node_pool\" \"app_node_pool\" { \u001b[32m+\u001b[39m actual_node_count = (known after apply) \u001b[32m+\u001b[39m auto_scale = true \u001b[32m+\u001b[39m cluster_id = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m labels = { \u001b[32m+\u001b[39m \"priority\" = \"high\" \u001b[32m+\u001b[39m \"service\" = \"apps\" } \u001b[32m+\u001b[39m max_nodes = 10 \u001b[32m+\u001b[39m min_nodes = 2 \u001b[32m+\u001b[39m name = \"app-pool\" \u001b[32m+\u001b[39m nodes = (known after apply) \u001b[32m+\u001b[39m size = \"s-2vcpu-4gb\" \u001b[32m+\u001b[39m tags = [ \u001b[32m+\u001b[39m \"applications\", ] } \u001b[1mPlan:\u001b[0m\u001b[39m\u001b[49m 2 to add, 0 to change, 0 to destroy. \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Creating...\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [1m0s elapsed] digitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [1m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [1m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [1m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [1m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [1m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [2m0s elapsed] digitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [2m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [2m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [2m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [2m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [2m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [3m0s elapsed] digitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [3m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [3m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [3m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [3m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [3m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [4m0s elapsed] digitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [4m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [4m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [4m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [4m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [4m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [5m0s elapsed] digitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [5m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [5m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [5m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [5m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [5m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [6m0s elapsed] digitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [6m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [6m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [6m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [6m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [6m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [7m0s elapsed] digitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [7m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [7m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Creation complete after 7m23s [id=f87c35a9-2545-4d28-a982-c42a70deb997]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Creating...\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [1m0s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [1m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [1m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [1m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [1m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [1m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [2m0s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [2m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Creation complete after 2m11s [id=92d20dac-14c4-4d70-86fd-6885b4152215]\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mApply complete! Resources: 2 added, 0 changed, 0 destroyed.\u001b[0m\u001b[39m\u001b[49m real 9m35.042s user 0m1.750s sys 0m0.345s Should be done in a few minutes. Large variations, I saw between 5 and 15 minutes... Configure kubectl \u00a4 why? No matter how much we'll do in terraform or other tools, a configured kubectl is simply a must have for clusters you created - and if it is only to crosscheck . Cmd Output $ doctl kubernetes cluster kubeconfig save \" $clustername \" # lp: asserts=\"Adding cluster\" $ kubectl cluster-info # lp: asserts=\"control plane\" $ k cluster-info dump | wc -l # hf ;-) $ doctl kubernetes cluster kubeconfig save \"$clustername\" \u001b[32mNotice\u001b[39m: Adding cluster credentials to kubeconfig file found in \"/home/gk/.kube/config\" \u001b[32mNotice\u001b[39m: Setting current-context to do-fra1-tf-do-cluster-d1 $ kubectl cluster-info \u001b[32mKubernetes control plane\u001b[39m is running at \u001b[33mhttps://f87c35a9-2545-4d28-a982-c42a70deb997.k8s.ondigitalocean.com\u001b[39m \u001b[32mCoreDNS\u001b[39m is running at \u001b[33mhttps://f87c35a9-2545-4d28-a982-c42a70deb997.k8s.ondigitalocean.com/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy\u001b[39m To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'. $ k cluster-info dump | wc -l # hf ;-) 18346 $ The first command configures the default cluster for kubectl , no need to specify the name then, when you work \"only\" with one. Note Using terraform you do NOT necessarily require a local ~/.kube/config file. You can use the tf k8s provider also using the token alone . $ k get nodes NAME STATUS ROLES AGE VERSION app-pool-849ri Ready <none> 51s v1.21.2 app-pool-849rv Ready <none> 33s v1.21.2 default-pool-849j0 Ready <none> 3m43s v1.21.2 default-pool-849j1 Ready <none> 4m41s v1.21.2 Private Registry Image Pulling \u00a4 You want the container orchestrator (here Kubernetes) to pull from your private registry. The simplest way to do so is: \"Docker login\" there Tell K8s about it Cmd Output $ podman login \" $( pass show reg/domain ) \" -u $( pass show reg/user ) -p \" $( pass show reg/passw ) \" $ fn = $XDG_RUNTIME_DIR /containers/auth.json # podman's location. docker: elsewhere $ k create secret generic regcred --from-file = \".dockerconfigjson= $fn \" --type = kubernetes.io/dockerconfigjson # lp: asserts=regcred $ podman login \"$(pass show reg/domain)\" -u $(pass show reg/user) -p \"$(pass show reg/passw)\" Login Succeeded! $ fn=$XDG_RUNTIME_DIR/containers/auth.json # podman's location. docker: elsewhere $ $ k create secret generic regcred --from-file=\".dockerconfigjson=$fn\" --type=kubernetes.io/dockerconfigjson secret/regcred created Now at subsequent deploys you can specify sth like: # (...) image : <your image at private registry> imagePullSecrets : - name : regcred Tip The value for reg/domain is like your.private.registry.example.com The value for image is like your.private.registry.example.com/janedoe/jdoe-private:v1 Discussion \u00a4 \"digitalocean_kubernetes_cluster\" is from the Terraform Registry: https://registry.terraform.io/providers/digitalocean/digitalocean/latest/docs/resources/kubernetes_cluster . Here you find many recipes (\"modules\") for systems deploys on K8s, not only for Dig.Ocean, e.g. https://registry.terraform.io/modules/rivernews/kubernetes-microservice/digitalocean/latest Not only for DO This module currently assumes the use of Digitalocean Kubernetes Service. However, you may easily change your favored kubernetes vendor by forking this repo and modify the content of kubernetes-cluster.tf. Repo is on Github: https://github.com/rivernews/terraform-digitalocean-kubernetes-microservice Hitlist: https://registry.terraform.io/providers/digitalocean/digitalocean/latest Here more: https://registry.terraform.io/browse/providers Raw Kubernetes is Hard \u00a4 Have a look into kubectl cluster-info dump ... Config / Security \u00a4 On the web frontend of the cloud provider you can download a cluster config file, incl. a cluster_ca_certificate value. That config, incl. the certificate is also found in the local ./terraform.tfstate , i.e. that file is sensitive. There are means to have that stored remotely . Apply Errors Do Happen \u00a4 At apply I did get \u2502 Error: Error creating Kubernetes cluster: Error trying to read cluster state: GET https://api.digitalocean.com/v2/kubernetes/clusters/587b36f7-1a1b-4b80-acd5-a933bac44125: 500 Server Error \u2502 \u2502 with digitalocean_kubernetes_cluster.kubernetes_cluster, \u2502 on do-kubernetes.tf line 1, in resource \"digitalocean_kubernetes_cluster\" \"kubernetes_cluster\": or \u2502 Error: Error creating Kubernetes cluster: Error trying to read cluster state: Get \"https://api.digitalocean.com/v2/kubernetes/clusters/85ff2d69-a0c3-4b38-bb59-3f3dca1dc09c\": read tcp 10.0.0.84:47880->104.16.182.15:443: read: connection reset by peer \u2502 after 6 minutes of installation time... This I consider sth not TF to blame for (rather DO), i.e. you have to take apply errors into account writing your infrastructure provisioning machinery anyway. But this I do consider a bug: A subsequent run (after a tf destroy (!)) error-ed out with \u2502 Error: Error creating Kubernetes cluster: POST https://api.digitalocean.com/v2/kubernetes/clusters: 422 a cluster with this name already exists . Had to delete the k8s cluster manually on the DO UI -> TF was clearly out of sync here. Note I consider this a bug of the digitalocean_kubernetes_cluster resource implementation, at the destroy implementation. Use deploy unique names Especially with very complex resources like a k8s cluster it makes a lot of sense to not use the same names for re-deploys after destroy. I did see people appending unixtimestamps to resource names... The infrastructure provider, while having acked the destroy seems to still have some ongoing cleanup jobs (or maybe DNS timeouts?) going on. At deploys with unique names I never got problems at apply - so far. Further Readings \u00a4 Tanzu with Terraform: https://williamlam.com/2020/11/using-terraform-to-deploy-a-tanzu-kubernetes-grid-tkg-cluster-in-vsphere-with-tanzu.html https://www.hashicorp.com/blog/deploy-any-resource-with-the-new-kubernetes-provider-for-hashicorp-terraform K8s -> OS \u00a4 https://techbloc.net/archives/3428 https://medium.com/@fabiojose/platform-as-code-with-openshift-terraform-1da6af7348ce https://github.com/cptmorgan-rh/install-oc-tools https://registry.terraform.io/providers/llomgui/openshift/latest/docs/guides/getting-started http://www.matthiassommer.it/programming/deploying-grafana-openshift-terraform/ Svc Mesh \u00a4 https://platform9.com/blog/kubernetes-service-mesh-a-comparison-of-istio-linkerd-and-consul/ typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"K8s Cluster Infra"},{"location":"cloud/terraform/k8s/k8s_on_do/#k8s-with-terraform","text":"Here we learn how to get to a K8s instance running on a cloud provider. We use Digitial Ocean(DO) as cloud provider, AWS is well documented. Local K8s Test Instances When you do not have a cloud infra provider or want something for CI then use \"kind\" . On the Terraform page there is a nice example how to use it.","title":"K8s With Terraform"},{"location":"cloud/terraform/k8s/k8s_on_do/#requirements","text":"Have local: The cloud provider client (here: doctl ) The terraform binary podman or docker (here only to configure access to our private registry for k8s, via their auth file they create after login). I.e. only for convenience. Optional: We use the pass utility since we don't want sensitive values being shown Have an API token for DO Optional: Private container registry url with creds Cmd Output $ type doctl terraform kubectl podman pass $ pass show DO/pat | head -c 5 $ D = \" $DT_PROJECT_ROOT /tmp/clusters/DO/k8s\" $ mkdir -p \" $D \" $ cd \" $D \" || exit 1 $ export TF_VAR_do_token = \" $( pass show DO/pat ) \" $ terraform destroy -auto-approve -lock = false # lp: expect=complete timeout=100 $ ls -a | xargs rm -rf 2 >/dev/null $ type doctl terraform kubectl podman pass doctl is /usr/local/bin/doctl terraform is /usr/local/bin/terraform kubectl is /usr/local/bin/kubectl podman is /usr/bin/podman pass is /usr/bin/pass $ pass show DO/pat | head -c 5 7ba23 $ D=\"$DT_PROJECT_ROOT/tmp/clusters/DO/k8s\" $ mkdir -p \"$D\" $ cd \"$D\" || exit 1 $ export TF_VAR_do_token=\"$(pass show DO/pat)\" $ terraform destroy -auto-approve -lock=false \u001b[1m\u001b[32mNo changes.\u001b[39m No objects need to be destroyed.\u001b[0m\u001b[39m\u001b[49m Either you have not created any objects yet or the existing objects were already deleted outside of Terraform. \u001b[1m\u001b[32mDestroy complete! Resources: 0 destroyed.\u001b[0m\u001b[39m\u001b[49m $ $ ls -a | xargs rm -rf 2>/dev/null","title":"Requirements"},{"location":"cloud/terraform/k8s/k8s_on_do/#environ","text":"Lets create a file which sets up our working environ, when sourced - convenient for new shells: $ cat environ set -ae alias tf = terraform k = kubectl [[ \" $0 \" = *bash* ]] && s = bash || s = zsh source < ( kubectl completion $s ) export D = \"/home/gk/repos/blog/tmp/clusters/DO/k8s\" cd \" $D \" TF_VAR_do_token = \" $( pass show DO/pat ) \" clustername = \"tf-do-cluster-d1\" latest_k8s_ver = \" $( doctl kubernetes options versions | grep -A 1 Slug | tail -n 1 | cut -d ' ' -f1 | xargs ) \" set +ae","title":"Environ"},{"location":"cloud/terraform/k8s/k8s_on_do/#config","text":"Cmd Output $ source environ $ cat << EOF > provider.tf terraform { required_providers { digitalocean = { source = \"digitalocean/digitalocean\" version = \"~> 2.0\" } } } variable \"do_token\" { } data \"digitalocean_ssh_key\" \"terraform\" { name = \"terraform\" } provider \"digitalocean\" { token = var.do_token } EOF $ source environ $ cat << EOF > provider.tf > terraform { > required_providers { > digitalocean = { > source = \"digitalocean/digitalocean\" > version = \"~> 2.0\" > } > } > } > > variable \"do_token\" { } > > data \"digitalocean_ssh_key\" \"terraform\" { > name = \"terraform\" > } > provider \"digitalocean\" { > token = var.do_token > } > EOF $ Cmd Output $ cat << EOF > do -kubernetes.tf resource \"digitalocean_kubernetes_cluster\" \"kubernetes_cluster\" { name = \"$clustername\" region = \"fra1\" version = \"$latest_k8s_ver\" tags = [\"my-tag\", \"d1\"] # This default node pool is mandatory node_pool { name = \"default-pool\" size = \"s-1vcpu-2gb\" # minimum size, list available options with doctl compute size list auto_scale = false node_count = 2 tags = [\"node-pool-tag\"] labels = { } } } # A node pool for applications resource \"digitalocean_kubernetes_node_pool\" \"app_node_pool\" { cluster_id = digitalocean_kubernetes_cluster.kubernetes_cluster.id name = \"app-pool\" size = \"s-2vcpu-4gb\" tags = [\"applications\"] # you can setup autoscaling auto_scale = true min_nodes = 2 max_nodes = 10 labels = { service = \"apps\" priority = \"high\" } } EOF $ cat << EOF > do-kubernetes.tf > resource \"digitalocean_kubernetes_cluster\" \"kubernetes_cluster\" { > name = \"$clustername\" > region = \"fra1\" > version = \"$latest_k8s_ver\" > > tags = [\"my-tag\", \"d1\"] > > # This default node pool is mandatory > node_pool { > name = \"default-pool\" > size = \"s-1vcpu-2gb\" # minimum size, list available options with doctl compute size list > auto_scale = false > node_count = 2 > tags = [\"node-pool-tag\"] > labels = { > } > } > > } > > # A node pool for applications > resource \"digitalocean_kubernetes_node_pool\" \"app_node_pool\" { > cluster_id = digitalocean_kubernetes_cluster.kubernetes_cluster.id > > name = \"app-pool\" > size = \"s-2vcpu-4gb\" > tags = [\"applications\"] > > # you can setup autoscaling > auto_scale = true > min_nodes = 2 > max_nodes = 10 > labels = { > service = \"apps\" > priority = \"high\" > } > } > EOF $","title":"Config"},{"location":"cloud/terraform/k8s/k8s_on_do/#init-plan-apply","text":"Cmd Output $ tf init # lp: asserts=\"successfully initialized\" $ tf plan # lp: asserts=\"to add\" $ tf init \u001b[1mInitializing the backend...\u001b[0m\u001b[39m\u001b[49m \u001b[1mInitializing provider plugins...\u001b[0m\u001b[39m\u001b[49m - Finding digitalocean/digitalocean versions matching \"~> 2.0\"... - Installing digitalocean/digitalocean v2.11.0... - Installed digitalocean/digitalocean v2.11.0 (signed by a HashiCorp partner, key ID \u001b[1mF82037E524B9C0E8\u001b[0m\u001b[39m\u001b[49m) Partner and community providers are signed by their developers. If you'd like to know more about provider signing, you can read about it here: https://www.terraform.io/docs/cli/plugins/signing.html Terraform has created a lock file \u001b[1m.terraform.lock.hcl\u001b[0m\u001b[39m\u001b[49m to record the provider selections it made above. Include this file in your version control repository so that Terraform can guarantee to make the same selections by default when you run \"terraform init\" in the future. \u001b[1m\u001b[32mTerraform has been successfully initialized!\u001b[0m\u001b[39m\u001b[49m \u001b[32mYou may now begin working with Terraform. Try running \"terraform plan\" to see\u001b[39m \u001b[32many changes that are required for your infrastructure. All Terraform commands\u001b[39m \u001b[32mshould now work.\u001b[39m \u001b[32mIf you ever set or change modules or backend configuration for Terraform,\u001b[39m \u001b[32mrerun this command to reinitialize your working directory. If you forget, other\u001b[39m \u001b[32mcommands will detect it and remind you to do so if necessary.\u001b[39m $ tf plan Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols: \u001b[32m+\u001b[39m create Terraform will perform the following actions: \u001b[1m # digitalocean_kubernetes_cluster.kubernetes_cluster\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_kubernetes_cluster\" \"kubernetes_cluster\" { \u001b[32m+\u001b[39m cluster_subnet = (known after apply) \u001b[32m+\u001b[39m created_at = (known after apply) \u001b[32m+\u001b[39m endpoint = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m ipv4_address = (known after apply) \u001b[32m+\u001b[39m kube_config = (sensitive value) \u001b[32m+\u001b[39m name = \"tf-do-cluster-d1\" \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m service_subnet = (known after apply) \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m surge_upgrade = true \u001b[32m+\u001b[39m tags = [ \u001b[32m+\u001b[39m \"d1\", \u001b[32m+\u001b[39m \"my-tag\", ] \u001b[32m+\u001b[39m updated_at = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m version = \"1.21.2-do.2\" \u001b[32m+\u001b[39m vpc_uuid = (known after apply) \u001b[32m+\u001b[39m maintenance_policy { \u001b[32m+\u001b[39m day = (known after apply) \u001b[32m+\u001b[39m duration = (known after apply) \u001b[32m+\u001b[39m start_time = (known after apply) } \u001b[32m+\u001b[39m node_pool { \u001b[32m+\u001b[39m actual_node_count = (known after apply) \u001b[32m+\u001b[39m auto_scale = false \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m name = \"default-pool\" \u001b[32m+\u001b[39m node_count = 2 \u001b[32m+\u001b[39m nodes = (known after apply) \u001b[32m+\u001b[39m size = \"s-1vcpu-2gb\" \u001b[32m+\u001b[39m tags = [ \u001b[32m+\u001b[39m \"node-pool-tag\", ] } } \u001b[1m # digitalocean_kubernetes_node_pool.app_node_pool\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_kubernetes_node_pool\" \"app_node_pool\" { \u001b[32m+\u001b[39m actual_node_count = (known after apply) \u001b[32m+\u001b[39m auto_scale = true \u001b[32m+\u001b[39m cluster_id = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m labels = { \u001b[32m+\u001b[39m \"priority\" = \"high\" \u001b[32m+\u001b[39m \"service\" = \"apps\" } \u001b[32m+\u001b[39m max_nodes = 10 \u001b[32m+\u001b[39m min_nodes = 2 \u001b[32m+\u001b[39m name = \"app-pool\" \u001b[32m+\u001b[39m nodes = (known after apply) \u001b[32m+\u001b[39m size = \"s-2vcpu-4gb\" \u001b[32m+\u001b[39m tags = [ \u001b[32m+\u001b[39m \"applications\", ] } \u001b[1mPlan:\u001b[0m\u001b[39m\u001b[49m 2 to add, 0 to change, 0 to destroy. \u001b[90m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[39m Note: You didn't use the -out option to save this plan, so Terraform can't guarantee to take exactly these actions if you run \"terraform apply\" now. Create it: Cmd Output $ time tf apply -auto-approve $ time tf apply -auto-approve Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols: \u001b[32m+\u001b[39m create Terraform will perform the following actions: \u001b[1m # digitalocean_kubernetes_cluster.kubernetes_cluster\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_kubernetes_cluster\" \"kubernetes_cluster\" { \u001b[32m+\u001b[39m cluster_subnet = (known after apply) \u001b[32m+\u001b[39m created_at = (known after apply) \u001b[32m+\u001b[39m endpoint = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m ipv4_address = (known after apply) \u001b[32m+\u001b[39m kube_config = (sensitive value) \u001b[32m+\u001b[39m name = \"tf-do-cluster-d1\" \u001b[32m+\u001b[39m region = \"fra1\" \u001b[32m+\u001b[39m service_subnet = (known after apply) \u001b[32m+\u001b[39m status = (known after apply) \u001b[32m+\u001b[39m surge_upgrade = true \u001b[32m+\u001b[39m tags = [ \u001b[32m+\u001b[39m \"d1\", \u001b[32m+\u001b[39m \"my-tag\", ] \u001b[32m+\u001b[39m updated_at = (known after apply) \u001b[32m+\u001b[39m urn = (known after apply) \u001b[32m+\u001b[39m version = \"1.21.2-do.2\" \u001b[32m+\u001b[39m vpc_uuid = (known after apply) \u001b[32m+\u001b[39m maintenance_policy { \u001b[32m+\u001b[39m day = (known after apply) \u001b[32m+\u001b[39m duration = (known after apply) \u001b[32m+\u001b[39m start_time = (known after apply) } \u001b[32m+\u001b[39m node_pool { \u001b[32m+\u001b[39m actual_node_count = (known after apply) \u001b[32m+\u001b[39m auto_scale = false \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m name = \"default-pool\" \u001b[32m+\u001b[39m node_count = 2 \u001b[32m+\u001b[39m nodes = (known after apply) \u001b[32m+\u001b[39m size = \"s-1vcpu-2gb\" \u001b[32m+\u001b[39m tags = [ \u001b[32m+\u001b[39m \"node-pool-tag\", ] } } \u001b[1m # digitalocean_kubernetes_node_pool.app_node_pool\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"digitalocean_kubernetes_node_pool\" \"app_node_pool\" { \u001b[32m+\u001b[39m actual_node_count = (known after apply) \u001b[32m+\u001b[39m auto_scale = true \u001b[32m+\u001b[39m cluster_id = (known after apply) \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m labels = { \u001b[32m+\u001b[39m \"priority\" = \"high\" \u001b[32m+\u001b[39m \"service\" = \"apps\" } \u001b[32m+\u001b[39m max_nodes = 10 \u001b[32m+\u001b[39m min_nodes = 2 \u001b[32m+\u001b[39m name = \"app-pool\" \u001b[32m+\u001b[39m nodes = (known after apply) \u001b[32m+\u001b[39m size = \"s-2vcpu-4gb\" \u001b[32m+\u001b[39m tags = [ \u001b[32m+\u001b[39m \"applications\", ] } \u001b[1mPlan:\u001b[0m\u001b[39m\u001b[49m 2 to add, 0 to change, 0 to destroy. \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Creating...\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [1m0s elapsed] digitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [1m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [1m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [1m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [1m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [1m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [2m0s elapsed] digitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [2m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [2m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [2m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [2m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [2m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [3m0s elapsed] digitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [3m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [3m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [3m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [3m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [3m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [4m0s elapsed] digitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [4m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [4m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [4m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [4m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [4m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [5m0s elapsed] digitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [5m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [5m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [5m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [5m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [5m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [6m0s elapsed] digitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [6m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [6m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [6m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [6m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [6m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [7m0s elapsed] digitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [7m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Still creating... [7m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_cluster.kubernetes_cluster: Creation complete after 7m23s [id=f87c35a9-2545-4d28-a982-c42a70deb997]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Creating...\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [1m0s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [1m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [1m20s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [1m30s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [1m40s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [1m50s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [2m0s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Still creating... [2m10s elapsed]\u001b[0m\u001b[39m\u001b[49m \u001b[1mdigitalocean_kubernetes_node_pool.app_node_pool: Creation complete after 2m11s [id=92d20dac-14c4-4d70-86fd-6885b4152215]\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mApply complete! Resources: 2 added, 0 changed, 0 destroyed.\u001b[0m\u001b[39m\u001b[49m real 9m35.042s user 0m1.750s sys 0m0.345s Should be done in a few minutes. Large variations, I saw between 5 and 15 minutes...","title":"Init - Plan - Apply"},{"location":"cloud/terraform/k8s/k8s_on_do/#configure-kubectl","text":"why? No matter how much we'll do in terraform or other tools, a configured kubectl is simply a must have for clusters you created - and if it is only to crosscheck . Cmd Output $ doctl kubernetes cluster kubeconfig save \" $clustername \" # lp: asserts=\"Adding cluster\" $ kubectl cluster-info # lp: asserts=\"control plane\" $ k cluster-info dump | wc -l # hf ;-) $ doctl kubernetes cluster kubeconfig save \"$clustername\" \u001b[32mNotice\u001b[39m: Adding cluster credentials to kubeconfig file found in \"/home/gk/.kube/config\" \u001b[32mNotice\u001b[39m: Setting current-context to do-fra1-tf-do-cluster-d1 $ kubectl cluster-info \u001b[32mKubernetes control plane\u001b[39m is running at \u001b[33mhttps://f87c35a9-2545-4d28-a982-c42a70deb997.k8s.ondigitalocean.com\u001b[39m \u001b[32mCoreDNS\u001b[39m is running at \u001b[33mhttps://f87c35a9-2545-4d28-a982-c42a70deb997.k8s.ondigitalocean.com/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy\u001b[39m To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'. $ k cluster-info dump | wc -l # hf ;-) 18346 $ The first command configures the default cluster for kubectl , no need to specify the name then, when you work \"only\" with one. Note Using terraform you do NOT necessarily require a local ~/.kube/config file. You can use the tf k8s provider also using the token alone . $ k get nodes NAME STATUS ROLES AGE VERSION app-pool-849ri Ready <none> 51s v1.21.2 app-pool-849rv Ready <none> 33s v1.21.2 default-pool-849j0 Ready <none> 3m43s v1.21.2 default-pool-849j1 Ready <none> 4m41s v1.21.2","title":"Configure kubectl"},{"location":"cloud/terraform/k8s/k8s_on_do/#private-registry-image-pulling","text":"You want the container orchestrator (here Kubernetes) to pull from your private registry. The simplest way to do so is: \"Docker login\" there Tell K8s about it Cmd Output $ podman login \" $( pass show reg/domain ) \" -u $( pass show reg/user ) -p \" $( pass show reg/passw ) \" $ fn = $XDG_RUNTIME_DIR /containers/auth.json # podman's location. docker: elsewhere $ k create secret generic regcred --from-file = \".dockerconfigjson= $fn \" --type = kubernetes.io/dockerconfigjson # lp: asserts=regcred $ podman login \"$(pass show reg/domain)\" -u $(pass show reg/user) -p \"$(pass show reg/passw)\" Login Succeeded! $ fn=$XDG_RUNTIME_DIR/containers/auth.json # podman's location. docker: elsewhere $ $ k create secret generic regcred --from-file=\".dockerconfigjson=$fn\" --type=kubernetes.io/dockerconfigjson secret/regcred created Now at subsequent deploys you can specify sth like: # (...) image : <your image at private registry> imagePullSecrets : - name : regcred Tip The value for reg/domain is like your.private.registry.example.com The value for image is like your.private.registry.example.com/janedoe/jdoe-private:v1","title":"Private Registry Image Pulling"},{"location":"cloud/terraform/k8s/k8s_on_do/#discussion","text":"\"digitalocean_kubernetes_cluster\" is from the Terraform Registry: https://registry.terraform.io/providers/digitalocean/digitalocean/latest/docs/resources/kubernetes_cluster . Here you find many recipes (\"modules\") for systems deploys on K8s, not only for Dig.Ocean, e.g. https://registry.terraform.io/modules/rivernews/kubernetes-microservice/digitalocean/latest Not only for DO This module currently assumes the use of Digitalocean Kubernetes Service. However, you may easily change your favored kubernetes vendor by forking this repo and modify the content of kubernetes-cluster.tf. Repo is on Github: https://github.com/rivernews/terraform-digitalocean-kubernetes-microservice Hitlist: https://registry.terraform.io/providers/digitalocean/digitalocean/latest Here more: https://registry.terraform.io/browse/providers","title":"Discussion"},{"location":"cloud/terraform/k8s/k8s_on_do/#raw-kubernetes-is-hard","text":"Have a look into kubectl cluster-info dump ...","title":"Raw Kubernetes is Hard"},{"location":"cloud/terraform/k8s/k8s_on_do/#config-security","text":"On the web frontend of the cloud provider you can download a cluster config file, incl. a cluster_ca_certificate value. That config, incl. the certificate is also found in the local ./terraform.tfstate , i.e. that file is sensitive. There are means to have that stored remotely .","title":"Config / Security"},{"location":"cloud/terraform/k8s/k8s_on_do/#apply-errors-do-happen","text":"At apply I did get \u2502 Error: Error creating Kubernetes cluster: Error trying to read cluster state: GET https://api.digitalocean.com/v2/kubernetes/clusters/587b36f7-1a1b-4b80-acd5-a933bac44125: 500 Server Error \u2502 \u2502 with digitalocean_kubernetes_cluster.kubernetes_cluster, \u2502 on do-kubernetes.tf line 1, in resource \"digitalocean_kubernetes_cluster\" \"kubernetes_cluster\": or \u2502 Error: Error creating Kubernetes cluster: Error trying to read cluster state: Get \"https://api.digitalocean.com/v2/kubernetes/clusters/85ff2d69-a0c3-4b38-bb59-3f3dca1dc09c\": read tcp 10.0.0.84:47880->104.16.182.15:443: read: connection reset by peer \u2502 after 6 minutes of installation time... This I consider sth not TF to blame for (rather DO), i.e. you have to take apply errors into account writing your infrastructure provisioning machinery anyway. But this I do consider a bug: A subsequent run (after a tf destroy (!)) error-ed out with \u2502 Error: Error creating Kubernetes cluster: POST https://api.digitalocean.com/v2/kubernetes/clusters: 422 a cluster with this name already exists . Had to delete the k8s cluster manually on the DO UI -> TF was clearly out of sync here. Note I consider this a bug of the digitalocean_kubernetes_cluster resource implementation, at the destroy implementation. Use deploy unique names Especially with very complex resources like a k8s cluster it makes a lot of sense to not use the same names for re-deploys after destroy. I did see people appending unixtimestamps to resource names... The infrastructure provider, while having acked the destroy seems to still have some ongoing cleanup jobs (or maybe DNS timeouts?) going on. At deploys with unique names I never got problems at apply - so far.","title":"Apply Errors Do Happen"},{"location":"cloud/terraform/k8s/k8s_on_do/#further-readings","text":"Tanzu with Terraform: https://williamlam.com/2020/11/using-terraform-to-deploy-a-tanzu-kubernetes-grid-tkg-cluster-in-vsphere-with-tanzu.html https://www.hashicorp.com/blog/deploy-any-resource-with-the-new-kubernetes-provider-for-hashicorp-terraform","title":"Further Readings"},{"location":"cloud/terraform/k8s/k8s_on_do/#k8s-os","text":"https://techbloc.net/archives/3428 https://medium.com/@fabiojose/platform-as-code-with-openshift-terraform-1da6af7348ce https://github.com/cptmorgan-rh/install-oc-tools https://registry.terraform.io/providers/llomgui/openshift/latest/docs/guides/getting-started http://www.matthiassommer.it/programming/deploying-grafana-openshift-terraform/","title":"K8s -&gt; OS"},{"location":"cloud/terraform/k8s/k8s_on_do/#svc-mesh","text":"https://platform9.com/blog/kubernetes-service-mesh-a-comparison-of-istio-linkerd-and-consul/ typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Svc Mesh"},{"location":"cloud/terraform/k8s/k8s_provider/do_k8s/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Attaching to kubernetes Provider Using Infra Provider's Specific Auth Plugin \u00a4 This is a quick verification of the cloud infra provider specific K8s support, example DigitalOcean. This erradicates the need to even have a kubectl config local, you just need the Cloud Provider token. I.e. it illustrates the implementation of this statement in the terraform docs about configuring the kubernetes provider: Quote There are many ways to configure the Kubernetes provider. We recommend them in the following order (most recommended first, least recommended last): Use cloud-specific auth plugins (for example, eks get-token, az get-token, gcloud config) Use oauth2 token Use TLS certificate credentials Use kubeconfig file by setting both config_path and config_context Use username and password (HTTP Basic Authorization) In general: When there is an externally managed K8s cluster, which you did not set up and have no config local and you want to gather information about it, you can use the specific cloud infra tf provider's kubernetes support (here: digitalocean_kubernetes_cluster \"data source\"): Cmd Output $ mkdir -p tmp/datasource_test && cd $_ $ cat << EOF > query.tf terraform { required_providers { digitalocean = { source = \"digitalocean/digitalocean\" version = \"~> 2.0\" } } } variable \"do_token\" {} # Configure the DigitalOcean Provider provider \"digitalocean\" { token = var.do_token } data \"digitalocean_kubernetes_cluster\" \"example\" { name = \"tf-do-cluster-d1\" } // this way we can manage it, using \"only\" the token - no kubectl config required: provider \"kubernetes\" { host = data.digitalocean_kubernetes_cluster.example.endpoint token = data.digitalocean_kubernetes_cluster.example.kube_config[0].token cluster_ca_certificate = base64decode( data.digitalocean_kubernetes_cluster.example.kube_config[0].cluster_ca_certificate ) } // output some values: output \"endpoint\" { value = data.digitalocean_kubernetes_cluster.example.endpoint } output \"token\" { value = data.digitalocean_kubernetes_cluster.example.kube_config[0].token sensitive = true } EOF $ export TF_VAR_do_token = $( pass show DO/pat ) $ terraform init $ terraform apply -auto-approve $ rm query.tf $ mkdir -p tmp/datasource_test && cd $_ $ cat << EOF > query.tf > terraform { > required_providers { > digitalocean = { > source = \"digitalocean/digitalocean\" > version = \"~> 2.0\" > } > } > } > > variable \"do_token\" {} > > # Configure the DigitalOcean Provider > provider \"digitalocean\" { > token = var.do_token > } > > > data \"digitalocean_kubernetes_cluster\" \"example\" { > name = \"tf-do-cluster-d1\" > } > // this way we can manage it, using \"only\" the token - no kubectl config required: > provider \"kubernetes\" { > host = data.digitalocean_kubernetes_cluster.example.endpoint > token = data.digitalocean_kubernetes_cluster.example.kube_config[0].token > cluster_ca_certificate = base64decode( > data.digitalocean_kubernetes_cluster.example.kube_config[0].cluster_ca_certificate > ) > } > // output some values: > output \"endpoint\" { > value = data.digitalocean_kubernetes_cluster.example.endpoint > } > output \"token\" { > value = data.digitalocean_kubernetes_cluster.example.kube_config[0].token > sensitive = true > } > EOF $ $ export TF_VAR_do_token=$(pass show DO/pat) $ terraform init \u001b[1mInitializing the backend...\u001b[0m\u001b[39m\u001b[49m \u001b[1mInitializing provider plugins...\u001b[0m\u001b[39m\u001b[49m - Finding latest version of hashicorp/kubernetes... - Finding digitalocean/digitalocean versions matching \"~> 2.0\"... - Installing hashicorp/kubernetes v2.4.1... - Installed hashicorp/kubernetes v2.4.1 (signed by HashiCorp) - Installing digitalocean/digitalocean v2.11.0... - Installed digitalocean/digitalocean v2.11.0 (signed by a HashiCorp partner, key ID \u001b[1mF82037E524B9C0E8\u001b[0m\u001b[39m\u001b[49m) Partner and community providers are signed by their developers. If you'd like to know more about provider signing, you can read about it here: https://www.terraform.io/docs/cli/plugins/signing.html Terraform has created a lock file \u001b[1m.terraform.lock.hcl\u001b[0m\u001b[39m\u001b[49m to record the provider selections it made above. Include this file in your version control repository so that Terraform can guarantee to make the same selections by default when you run \"terraform init\" in the future. \u001b[1m\u001b[32mTerraform has been successfully initialized!\u001b[0m\u001b[39m\u001b[49m \u001b[32mYou may now begin working with Terraform. Try running \"terraform plan\" to see\u001b[39m \u001b[32many changes that are required for your infrastructure. All Terraform commands\u001b[39m \u001b[32mshould now work.\u001b[39m \u001b[32mIf you ever set or change modules or backend configuration for Terraform,\u001b[39m \u001b[32mrerun this command to reinitialize your working directory. If you forget, other\u001b[39m \u001b[32mcommands will detect it and remind you to do so if necessary.\u001b[39m $ terraform apply -auto-approve \u001b[1mChanges to Outputs:\u001b[0m\u001b[39m\u001b[49m \u001b[32m+\u001b[39m endpoint = \"https://f87c35a9-2545-4d28-a982-c42a70deb997.k8s.ondigitalocean.com\" \u001b[32m+\u001b[39m token = (sensitive value) You can apply this plan to save these new output values to the Terraform state, without changing any real infrastructure. \u001b[1m\u001b[32mApply complete! Resources: 0 added, 0 changed, 0 destroyed.\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mOutputs:\u001b[0m\u001b[39m\u001b[49m endpoint = \"https://f87c35a9-2545-4d28-a982-c42a70deb997.k8s.ondigitalocean.com\" token = <sensitive> $ rm query.tf AWS Here a comparable way to do it on AWS: provider \"kubernetes\" { hos t = da ta .aws_eks_clus ter .clus ter .e n dpoi nt clus ter _ca_cer t i f ica te = base 64 decode(da ta .aws_eks_clus ter .clus ter .cer t i f ica te _au t hori t y. 0. da ta ) exec { api_versio n = \"client.authentication.k8s.io/v1alpha1\" comma n d = \"aws\" args = [ \"eks\" , \"get-token\" , \"--cluster-name\" , da ta .aws_eks_clus ter .clus ter . na me ] } } typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Attaching Using Token Only"},{"location":"cloud/terraform/k8s/k8s_provider/do_k8s/#attaching-to-kubernetes-provider-using-infra-providers-specific-auth-plugin","text":"This is a quick verification of the cloud infra provider specific K8s support, example DigitalOcean. This erradicates the need to even have a kubectl config local, you just need the Cloud Provider token. I.e. it illustrates the implementation of this statement in the terraform docs about configuring the kubernetes provider: Quote There are many ways to configure the Kubernetes provider. We recommend them in the following order (most recommended first, least recommended last): Use cloud-specific auth plugins (for example, eks get-token, az get-token, gcloud config) Use oauth2 token Use TLS certificate credentials Use kubeconfig file by setting both config_path and config_context Use username and password (HTTP Basic Authorization) In general: When there is an externally managed K8s cluster, which you did not set up and have no config local and you want to gather information about it, you can use the specific cloud infra tf provider's kubernetes support (here: digitalocean_kubernetes_cluster \"data source\"): Cmd Output $ mkdir -p tmp/datasource_test && cd $_ $ cat << EOF > query.tf terraform { required_providers { digitalocean = { source = \"digitalocean/digitalocean\" version = \"~> 2.0\" } } } variable \"do_token\" {} # Configure the DigitalOcean Provider provider \"digitalocean\" { token = var.do_token } data \"digitalocean_kubernetes_cluster\" \"example\" { name = \"tf-do-cluster-d1\" } // this way we can manage it, using \"only\" the token - no kubectl config required: provider \"kubernetes\" { host = data.digitalocean_kubernetes_cluster.example.endpoint token = data.digitalocean_kubernetes_cluster.example.kube_config[0].token cluster_ca_certificate = base64decode( data.digitalocean_kubernetes_cluster.example.kube_config[0].cluster_ca_certificate ) } // output some values: output \"endpoint\" { value = data.digitalocean_kubernetes_cluster.example.endpoint } output \"token\" { value = data.digitalocean_kubernetes_cluster.example.kube_config[0].token sensitive = true } EOF $ export TF_VAR_do_token = $( pass show DO/pat ) $ terraform init $ terraform apply -auto-approve $ rm query.tf $ mkdir -p tmp/datasource_test && cd $_ $ cat << EOF > query.tf > terraform { > required_providers { > digitalocean = { > source = \"digitalocean/digitalocean\" > version = \"~> 2.0\" > } > } > } > > variable \"do_token\" {} > > # Configure the DigitalOcean Provider > provider \"digitalocean\" { > token = var.do_token > } > > > data \"digitalocean_kubernetes_cluster\" \"example\" { > name = \"tf-do-cluster-d1\" > } > // this way we can manage it, using \"only\" the token - no kubectl config required: > provider \"kubernetes\" { > host = data.digitalocean_kubernetes_cluster.example.endpoint > token = data.digitalocean_kubernetes_cluster.example.kube_config[0].token > cluster_ca_certificate = base64decode( > data.digitalocean_kubernetes_cluster.example.kube_config[0].cluster_ca_certificate > ) > } > // output some values: > output \"endpoint\" { > value = data.digitalocean_kubernetes_cluster.example.endpoint > } > output \"token\" { > value = data.digitalocean_kubernetes_cluster.example.kube_config[0].token > sensitive = true > } > EOF $ $ export TF_VAR_do_token=$(pass show DO/pat) $ terraform init \u001b[1mInitializing the backend...\u001b[0m\u001b[39m\u001b[49m \u001b[1mInitializing provider plugins...\u001b[0m\u001b[39m\u001b[49m - Finding latest version of hashicorp/kubernetes... - Finding digitalocean/digitalocean versions matching \"~> 2.0\"... - Installing hashicorp/kubernetes v2.4.1... - Installed hashicorp/kubernetes v2.4.1 (signed by HashiCorp) - Installing digitalocean/digitalocean v2.11.0... - Installed digitalocean/digitalocean v2.11.0 (signed by a HashiCorp partner, key ID \u001b[1mF82037E524B9C0E8\u001b[0m\u001b[39m\u001b[49m) Partner and community providers are signed by their developers. If you'd like to know more about provider signing, you can read about it here: https://www.terraform.io/docs/cli/plugins/signing.html Terraform has created a lock file \u001b[1m.terraform.lock.hcl\u001b[0m\u001b[39m\u001b[49m to record the provider selections it made above. Include this file in your version control repository so that Terraform can guarantee to make the same selections by default when you run \"terraform init\" in the future. \u001b[1m\u001b[32mTerraform has been successfully initialized!\u001b[0m\u001b[39m\u001b[49m \u001b[32mYou may now begin working with Terraform. Try running \"terraform plan\" to see\u001b[39m \u001b[32many changes that are required for your infrastructure. All Terraform commands\u001b[39m \u001b[32mshould now work.\u001b[39m \u001b[32mIf you ever set or change modules or backend configuration for Terraform,\u001b[39m \u001b[32mrerun this command to reinitialize your working directory. If you forget, other\u001b[39m \u001b[32mcommands will detect it and remind you to do so if necessary.\u001b[39m $ terraform apply -auto-approve \u001b[1mChanges to Outputs:\u001b[0m\u001b[39m\u001b[49m \u001b[32m+\u001b[39m endpoint = \"https://f87c35a9-2545-4d28-a982-c42a70deb997.k8s.ondigitalocean.com\" \u001b[32m+\u001b[39m token = (sensitive value) You can apply this plan to save these new output values to the Terraform state, without changing any real infrastructure. \u001b[1m\u001b[32mApply complete! Resources: 0 added, 0 changed, 0 destroyed.\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mOutputs:\u001b[0m\u001b[39m\u001b[49m endpoint = \"https://f87c35a9-2545-4d28-a982-c42a70deb997.k8s.ondigitalocean.com\" token = <sensitive> $ rm query.tf AWS Here a comparable way to do it on AWS: provider \"kubernetes\" { hos t = da ta .aws_eks_clus ter .clus ter .e n dpoi nt clus ter _ca_cer t i f ica te = base 64 decode(da ta .aws_eks_clus ter .clus ter .cer t i f ica te _au t hori t y. 0. da ta ) exec { api_versio n = \"client.authentication.k8s.io/v1alpha1\" comma n d = \"aws\" args = [ \"eks\" , \"get-token\" , \"--cluster-name\" , da ta .aws_eks_clus ter .clus ter . na me ] } } typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Attaching to kubernetes Provider Using Infra Provider's Specific Auth Plugin"},{"location":"cloud/terraform/k8s/k8s_provider/k8s_provider/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } The Terraform(TF) Kubernetes Provider \u00a4 This is the terraform tool to connect to a running kubernetes cluster. Requirements \u00a4 The kubernetes cluster we created on DO. The completed generic k8s tutorial , with the container image for the app on our private registry. $ kubectl get nodes NAME STATUS ROLES AGE VERSION app-pool-849ri Ready <none> 19h v1.21.2 app-pool-849rv Ready <none> 19h v1.21.2 default-pool-849j0 Ready <none> 19h v1.21.2 default-pool-849j1 Ready <none> 19h v1.21.2 The cloud provider specific client tool (here doctl, which tf uses under the hood) Cmd Output $ D = \" $DT_PROJECT_ROOT /tmp/clusters/DO/k8s_provider\" $ mkdir -p \" $D \" $ cd \" $D \" || exit 1 $ ls -la | xargs rm -rf $ cat << EOF > environ set -ae namespace=devapps app=hello_app ver=0.2 alias tf=terraform k=kubectl [[ \"\\$0\" = *bash* ]] && s=bash || s=zsh source <(kubectl completion \\$s) set +ae EOF $ source environ $ D=\"$DT_PROJECT_ROOT/tmp/clusters/DO/k8s_provider\" $ mkdir -p \"$D\" $ cd \"$D\" || exit 1 $ ls -la | xargs rm -rf rm: invalid option -- 'w' Try 'rm --help' for more information. $ cat << EOF > environ > set -ae > namespace=devapps > app=hello_app > ver=0.2 > alias tf=terraform k=kubectl > [[ \"\\$0\" = *bash* ]] && s=bash || s=zsh > source <(kubectl completion \\$s) > set +ae > EOF $ $ source environ Configuration \u00a4 When we did set up the kubernetes cluster on DigitalOcean(DO), we pulled the K8s config, incl. certificates, into our local ~/.kube/config (using the cloud infra specific tool doctl : doctl kubernetes cluster kubeconfig save \"$clustername\" ). That file is being used by the TF K8s provider. Note There are other means to connect as well. Here we show how to configure the kubernetes provider with only the cloud provider's API token and no kubectl config file. Create Namespace \u00a4 Here a basic first use case: Lets create a namespace on K8s, using TF: $ ca t na mespace. tf provider \"kubernetes\" { co nf ig_pa t h = \"~/.kube/config\" } resource \"kubernetes_namespace\" \"tfprov\" { me ta da ta { na me = \"tfprov-namespace\" } } Cmd Output $ terraform init $ terraform apply -auto-approve # lp: asserts=\"Apply complete\" $ terraform init \u001b[1mInitializing the backend...\u001b[0m\u001b[39m\u001b[49m \u001b[1mInitializing provider plugins...\u001b[0m\u001b[39m\u001b[49m - Reusing previous version of hashicorp/kubernetes from the dependency lock file - Using previously-installed hashicorp/kubernetes v2.4.1 \u001b[1m\u001b[32mTerraform has been successfully initialized!\u001b[0m\u001b[39m\u001b[49m \u001b[32mYou may now begin working with Terraform. Try running \"terraform plan\" to see\u001b[39m \u001b[32many changes that are required for your infrastructure. All Terraform commands\u001b[39m \u001b[32mshould now work.\u001b[39m \u001b[32mIf you ever set or change modules or backend configuration for Terraform,\u001b[39m \u001b[32mrerun this command to reinitialize your working directory. If you forget, other\u001b[39m \u001b[32mcommands will detect it and remind you to do so if necessary.\u001b[39m $ terraform apply -auto-approve Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols: \u001b[32m+\u001b[39m create Terraform will perform the following actions: \u001b[1m # kubernetes_namespace.tfprov\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"kubernetes_namespace\" \"tfprov\" { \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m metadata { \u001b[32m+\u001b[39m generation = (known after apply) \u001b[32m+\u001b[39m name = \"tfprov-namespace\" \u001b[32m+\u001b[39m resource_version = (known after apply) \u001b[32m+\u001b[39m uid = (known after apply) } } \u001b[1mPlan:\u001b[0m\u001b[39m\u001b[49m 1 to add, 0 to change, 0 to destroy. \u001b[1mkubernetes_namespace.tfprov: Creating...\u001b[0m\u001b[39m\u001b[49m \u001b[1mkubernetes_namespace.tfprov: Creation complete after 0s [id=tfprov-namespace]\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mApply complete! Resources: 1 added, 0 changed, 0 destroyed.\u001b[0m\u001b[39m\u001b[49m Resulting in a new namespace on K8s: Deploy Stateful Application \u00a4 In a previous generic k8s tutorial , we did create a stateful app backed by mysql, using only kubectl and necessary yaml files. Lets do this now, using Terraform. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"The K8s Provider"},{"location":"cloud/terraform/k8s/k8s_provider/k8s_provider/#the-terraformtf-kubernetes-provider","text":"This is the terraform tool to connect to a running kubernetes cluster.","title":"The Terraform(TF) Kubernetes Provider"},{"location":"cloud/terraform/k8s/k8s_provider/k8s_provider/#requirements","text":"The kubernetes cluster we created on DO. The completed generic k8s tutorial , with the container image for the app on our private registry. $ kubectl get nodes NAME STATUS ROLES AGE VERSION app-pool-849ri Ready <none> 19h v1.21.2 app-pool-849rv Ready <none> 19h v1.21.2 default-pool-849j0 Ready <none> 19h v1.21.2 default-pool-849j1 Ready <none> 19h v1.21.2 The cloud provider specific client tool (here doctl, which tf uses under the hood) Cmd Output $ D = \" $DT_PROJECT_ROOT /tmp/clusters/DO/k8s_provider\" $ mkdir -p \" $D \" $ cd \" $D \" || exit 1 $ ls -la | xargs rm -rf $ cat << EOF > environ set -ae namespace=devapps app=hello_app ver=0.2 alias tf=terraform k=kubectl [[ \"\\$0\" = *bash* ]] && s=bash || s=zsh source <(kubectl completion \\$s) set +ae EOF $ source environ $ D=\"$DT_PROJECT_ROOT/tmp/clusters/DO/k8s_provider\" $ mkdir -p \"$D\" $ cd \"$D\" || exit 1 $ ls -la | xargs rm -rf rm: invalid option -- 'w' Try 'rm --help' for more information. $ cat << EOF > environ > set -ae > namespace=devapps > app=hello_app > ver=0.2 > alias tf=terraform k=kubectl > [[ \"\\$0\" = *bash* ]] && s=bash || s=zsh > source <(kubectl completion \\$s) > set +ae > EOF $ $ source environ","title":"Requirements"},{"location":"cloud/terraform/k8s/k8s_provider/k8s_provider/#configuration","text":"When we did set up the kubernetes cluster on DigitalOcean(DO), we pulled the K8s config, incl. certificates, into our local ~/.kube/config (using the cloud infra specific tool doctl : doctl kubernetes cluster kubeconfig save \"$clustername\" ). That file is being used by the TF K8s provider. Note There are other means to connect as well. Here we show how to configure the kubernetes provider with only the cloud provider's API token and no kubectl config file.","title":"Configuration"},{"location":"cloud/terraform/k8s/k8s_provider/k8s_provider/#create-namespace","text":"Here a basic first use case: Lets create a namespace on K8s, using TF: $ ca t na mespace. tf provider \"kubernetes\" { co nf ig_pa t h = \"~/.kube/config\" } resource \"kubernetes_namespace\" \"tfprov\" { me ta da ta { na me = \"tfprov-namespace\" } } Cmd Output $ terraform init $ terraform apply -auto-approve # lp: asserts=\"Apply complete\" $ terraform init \u001b[1mInitializing the backend...\u001b[0m\u001b[39m\u001b[49m \u001b[1mInitializing provider plugins...\u001b[0m\u001b[39m\u001b[49m - Reusing previous version of hashicorp/kubernetes from the dependency lock file - Using previously-installed hashicorp/kubernetes v2.4.1 \u001b[1m\u001b[32mTerraform has been successfully initialized!\u001b[0m\u001b[39m\u001b[49m \u001b[32mYou may now begin working with Terraform. Try running \"terraform plan\" to see\u001b[39m \u001b[32many changes that are required for your infrastructure. All Terraform commands\u001b[39m \u001b[32mshould now work.\u001b[39m \u001b[32mIf you ever set or change modules or backend configuration for Terraform,\u001b[39m \u001b[32mrerun this command to reinitialize your working directory. If you forget, other\u001b[39m \u001b[32mcommands will detect it and remind you to do so if necessary.\u001b[39m $ terraform apply -auto-approve Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols: \u001b[32m+\u001b[39m create Terraform will perform the following actions: \u001b[1m # kubernetes_namespace.tfprov\u001b[0m\u001b[39m\u001b[49m will be created \u001b[32m+\u001b[39m resource \"kubernetes_namespace\" \"tfprov\" { \u001b[32m+\u001b[39m id = (known after apply) \u001b[32m+\u001b[39m metadata { \u001b[32m+\u001b[39m generation = (known after apply) \u001b[32m+\u001b[39m name = \"tfprov-namespace\" \u001b[32m+\u001b[39m resource_version = (known after apply) \u001b[32m+\u001b[39m uid = (known after apply) } } \u001b[1mPlan:\u001b[0m\u001b[39m\u001b[49m 1 to add, 0 to change, 0 to destroy. \u001b[1mkubernetes_namespace.tfprov: Creating...\u001b[0m\u001b[39m\u001b[49m \u001b[1mkubernetes_namespace.tfprov: Creation complete after 0s [id=tfprov-namespace]\u001b[0m\u001b[39m\u001b[49m \u001b[1m\u001b[32mApply complete! Resources: 1 added, 0 changed, 0 destroyed.\u001b[0m\u001b[39m\u001b[49m Resulting in a new namespace on K8s:","title":"Create Namespace"},{"location":"cloud/terraform/k8s/k8s_provider/k8s_provider/#deploy-stateful-application","text":"In a previous generic k8s tutorial , we did create a stateful app backed by mysql, using only kubectl and necessary yaml files. Lets do this now, using Terraform. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Deploy Stateful Application"},{"location":"inet/videos/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Videos and Tutorials I'd wish I Saw Earlier \u00a4 Youtubers \u00a4 Linux \u00a4 https://www.youtube.com/c/BrodieRobertson/videos https://www.youtube.com/c/DistroTube/videos https://www.youtube.com/c/TheLinuxCast/videos Free Software + Linux \u00a4 https://www.youtube.com/c/LukeSmithxyz/videos https://www.youtube.com/c/RobertElderSoftware/videos Software \u00a4 https://www.youtube.com/c/Fireship/videos Vim \u00a4 https://www.youtube.com/c/ThePrimeagen/videos (vim) Outstanding Videos \u00a4 Emacs / Org & Literate Programming \u00a4 DWM \u00a4 Functional \u00a4 ReactiveX \u00a4 Cloud / Systems \u00a4 The Language of the System - Rich Hickey typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"\ud83d\udcfa VIDS"},{"location":"inet/videos/#videos-and-tutorials-id-wish-i-saw-earlier","text":"","title":"Videos and Tutorials I'd wish I Saw Earlier"},{"location":"inet/videos/#youtubers","text":"","title":"Youtubers"},{"location":"inet/videos/#linux","text":"https://www.youtube.com/c/BrodieRobertson/videos https://www.youtube.com/c/DistroTube/videos https://www.youtube.com/c/TheLinuxCast/videos","title":"Linux"},{"location":"inet/videos/#free-software-linux","text":"https://www.youtube.com/c/LukeSmithxyz/videos https://www.youtube.com/c/RobertElderSoftware/videos","title":"Free Software + Linux"},{"location":"inet/videos/#software","text":"https://www.youtube.com/c/Fireship/videos","title":"Software"},{"location":"inet/videos/#vim","text":"https://www.youtube.com/c/ThePrimeagen/videos (vim)","title":"Vim"},{"location":"inet/videos/#outstanding-videos","text":"","title":"Outstanding Videos"},{"location":"inet/videos/#emacs-org-literate-programming","text":"","title":"Emacs / Org &amp; Literate Programming"},{"location":"inet/videos/#dwm","text":"","title":"DWM"},{"location":"inet/videos/#functional","text":"","title":"Functional"},{"location":"inet/videos/#reactivex","text":"","title":"ReactiveX"},{"location":"inet/videos/#cloud-systems","text":"The Language of the System - Rich Hickey typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Cloud / Systems"},{"location":"ll/arco/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } My Move to Arco Linux \u00a4 Edit: And why I moved back to Fedora \u00a4 [2022-01-24 02:29] Ok. A rolling distro is nothing for me. 3 times a week a few gig download, that's just too much. Also need some reliability and Fedora has both: Well maintained packages AND recent ones. I kept a few configs from Arch, especially around gtk / qt consistency. I leave this for future ref. only: Arch \u00a4 [2021-09-20 20:19] So I did it. With Covid I got ppp: pretty p ssed & political* As with OSX I could not stand IBM anymore. I spare you the details but the RMS cancellation was a bit too much. Plus problems and inconsistencies accumulated, which that move seems to have all fixed. Examples: Style inconsistencies between gtk.x, qt, xfce, dunst (...) apps pulseaudio way too much cpu (6% av) teamviewer not working mailspring super high cpu mailspring required gdm with all the gnome crap all a bit outdated Over the years I followed and liked arco linux, arch based. Their Eric D. is doing an amazing job keeping all up to date and consistent - with style. Check DT's vids. Which one: First tried arcoD - but some KDE stuff I chose in calamares was not working well with xfce - but got activated. So I rather took Arcolinux default and from XFCE installed my DWM in addition. Achievements \u00a4 well tuned tools landscape all nicely styled and integrated but still totally transparent (.config, skel) way faster (than dnf) pacman / pamac, also cool for container img builds yay (user mode packages) Burning \u00a4 Fastest way still: dd if=<iso> of=/dev/sdx bs=1M status=progress Then with the iso up, clean the HD with gparted - completely. Then calamares will do it's job nicely. Chose LTS Kernel Sound \u00a4 NOT! working - new intel hardware, guys changed driver. blah. From https://bugzilla.redhat.com/show_bug.cgi?id=1772498 Tough - had to use a fedora 34 usb iso, then query installed packages | grep alsa, and install same packages from arch - e.g. some sof (sound open firmware) via pamac Then it worked. Display Manager \u00a4 Switched from sddm to lightdm, since sddm to fully shine needs tons of plasma libs. It's for KDE, not for me. How to switch: tolightdm (from alias |grep light - thanks eric) ~ \u276f\u276f\u276f /usr/bin/lightdm-gtk-greeter-settings-pkexec made config simple - thanks, arch dwm \u00a4 Used my old one from fedora. arco's autostart.sh I liked and patched in, but had to put into $HOME/.dwm/autostart.sh Launcher \u00a4 pacman -S ulauncher bound to ctrl-space in dwm then cp /home/gk/fedora/home/gk/.local/share/ulauncher/extensions/com.github.dflock.ulauncher-w indow-switcher/main.py /home/gk/.local/share/ulauncher/extensions/com.github.dflock.ulauncher-window-swi tcher/main.py from https://github.com/dflock/ulauncher-window-switcher/issues/2 NotifyD \u00a4 Instead of dunst I try XFCEs' one, nicely styled. xfce4-notifyd-config to configure. BUT: - does not support -u (urgency) but icons. So: - does not support -r (replacing) -> volume change creates 100 notifications. So: https://forum.xfce.org/viewtopic.php?id=14009 And $HOME/bin/notify-send as a python program which keeps a mapping of -r to last id returned from dbus. Browsing \u00a4 Firefox \u00a4 - VimVixen (with h<->H and l<->L, not scrolling vertical all the time but history all the time) - Context menu stay open after double clikc: `about:config` -> after_mouseup -> true to avoid context menu closes at touchpad click Vim \u00a4 Installed neovim with pacman copied .config/nvim. Copied old .vim .vimrc works in prob It autocreated new .config/coc Fixed problems with :CheckHealth fzf[.vim] did not work, had to rm -rf .vim/plugged/fzf* , then PlugInstall (reinstall them) Miniconda installation plus env/tools \u00a4 There pip install neovim pip install -e axblack -> vim worked, :CheckHealth good now, axblack worked timeshift \u00a4 Runs as root -> can't open browse or view logs due to missing desktop entries. Creating the file /root/.local/share/applications/defaults.list was a working solution for me. You may need to adjust the file contents to suit your desktop environment, just run $ xdg-mime query default inode/directory as your normal user account to get the value your desktop environment uses. In my case it was nemo.desktop. So the defaults.list file contains the following two lines for me: inode/directory=thunar.desktop x-directory/normal=thunar.desktop grub-btrfs \u00a4 Enabled grub-btrfs.path and modiefied monitored folder to timeshift as their github repo suggested. Not yet seen in grub, guess grub-mkconfig missing Luks \u00a4 Made an error - /boot is on main partition, i.e. encrypted. grub has only software decryption, weakly implemented. Takes 42 secs to decrypt kernel, thenk grub prompt shows. Only benefit: Attacker cannot install hacked kernel on my system. -> Created at slot 0 (must be first one!) a new one with lousy itertime: cryptsetup luksDump /dev/nvme0n1p2 cryptsetup -v luksKillSlot /dev/nvme0n1p2 0 cryptsetup -v luksAddKey /dev/nvme0n1p2 -S 0 --iter-time 10 Key Slot 0 : ENABLED Iterations: 11742 # was 2353704 before! Means: HD will be decryptable easily, see https://diverto.github.io/2019/11/18/Cracking-LUKS-passphrases Good: There is another key still in, with high iter times -> Will they try one wrong password grub will try that as well - and hangs 40 seconds until throwing into rescue prompt. -> They might then think I have a decent iter time - and give up. But if they really try the above with dictionary they'll succeed instantly - I guess, since my passphrase is short. If long plus ONE typo it will suck totally waiting 40 secs then end in rescue prompt. Solution: Create a HW stick with big passphrase - and have a loooong passphrase when I don't have the stick around. Better solution: Create unencrypted boot partition. Maybe only encrypt $HOME - but think about leaking private stuff outside of it (caches, var directories, temp) teamviewer \u00a4 Nicely set up, in fedora had some install hassles. Only had to do: systemctl disable --now teamviewerd.service To make it not loading after reboots (even when start with login was disabled it was running) Conky \u00a4 Too much CPU, all 8%: Best: conky -c $HOME/.config/conky/AUR-Lazuli.conkyrc conky -c $HOME/.config/conky/AUR-Allinone.conkyrc conky -c $HOME/.config/conky/Arco-Redux-LUA.conkyrc Thunderbird \u00a4 copied back $HOME/.thunderbird, then via help-> troubleshooting found profile folder. Close TB, then rm -rf all in that folder, then move all from old profile folder to this one. works. Clipboard \u00a4 copyq But after install I had kwayland and kwin deps in -> removed that via pamac. Easy! podman \u00a4 user mode \u00a4 cgroupv2 already present # usermod --add-subuids 100000-165536 --add-subgids 100000-165536 gk $ podman system migrate $ podman pull docker.io/archlinux ~/.config \u276f\u276f\u276f whoami; p run -ti -v /home/gk:/home/gk dbe48d42e6fa whoami gk root and all file ids nicely mapped inside(root) vs outside (user) And storage driver btrfs. Mime: \u00a4 /usr/share/applications .local/share/applications xdg-mime default thunar.desktop inode/directory to use xpdf as the default PDF viewer: $ xdg-mime default xpdf.desktop application/pdf This should create an entry [Default Applications] application/pdf=xpdf.desktop in your local MIME database ~/.config/mimeapps.list. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Distros"},{"location":"ll/arco/#my-move-to-arco-linux","text":"","title":"My Move to Arco Linux"},{"location":"ll/arco/#edit-and-why-i-moved-back-to-fedora","text":"[2022-01-24 02:29] Ok. A rolling distro is nothing for me. 3 times a week a few gig download, that's just too much. Also need some reliability and Fedora has both: Well maintained packages AND recent ones. I kept a few configs from Arch, especially around gtk / qt consistency. I leave this for future ref. only:","title":"Edit: And why I moved back to Fedora"},{"location":"ll/arco/#arch","text":"[2021-09-20 20:19] So I did it. With Covid I got ppp: pretty p ssed & political* As with OSX I could not stand IBM anymore. I spare you the details but the RMS cancellation was a bit too much. Plus problems and inconsistencies accumulated, which that move seems to have all fixed. Examples: Style inconsistencies between gtk.x, qt, xfce, dunst (...) apps pulseaudio way too much cpu (6% av) teamviewer not working mailspring super high cpu mailspring required gdm with all the gnome crap all a bit outdated Over the years I followed and liked arco linux, arch based. Their Eric D. is doing an amazing job keeping all up to date and consistent - with style. Check DT's vids. Which one: First tried arcoD - but some KDE stuff I chose in calamares was not working well with xfce - but got activated. So I rather took Arcolinux default and from XFCE installed my DWM in addition.","title":"Arch"},{"location":"ll/arco/#achievements","text":"well tuned tools landscape all nicely styled and integrated but still totally transparent (.config, skel) way faster (than dnf) pacman / pamac, also cool for container img builds yay (user mode packages)","title":"Achievements"},{"location":"ll/arco/#burning","text":"Fastest way still: dd if=<iso> of=/dev/sdx bs=1M status=progress Then with the iso up, clean the HD with gparted - completely. Then calamares will do it's job nicely. Chose LTS Kernel","title":"Burning"},{"location":"ll/arco/#sound","text":"NOT! working - new intel hardware, guys changed driver. blah. From https://bugzilla.redhat.com/show_bug.cgi?id=1772498 Tough - had to use a fedora 34 usb iso, then query installed packages | grep alsa, and install same packages from arch - e.g. some sof (sound open firmware) via pamac Then it worked.","title":"Sound"},{"location":"ll/arco/#display-manager","text":"Switched from sddm to lightdm, since sddm to fully shine needs tons of plasma libs. It's for KDE, not for me. How to switch: tolightdm (from alias |grep light - thanks eric) ~ \u276f\u276f\u276f /usr/bin/lightdm-gtk-greeter-settings-pkexec made config simple - thanks, arch","title":"Display Manager"},{"location":"ll/arco/#dwm","text":"Used my old one from fedora. arco's autostart.sh I liked and patched in, but had to put into $HOME/.dwm/autostart.sh","title":"dwm"},{"location":"ll/arco/#launcher","text":"pacman -S ulauncher bound to ctrl-space in dwm then cp /home/gk/fedora/home/gk/.local/share/ulauncher/extensions/com.github.dflock.ulauncher-w indow-switcher/main.py /home/gk/.local/share/ulauncher/extensions/com.github.dflock.ulauncher-window-swi tcher/main.py from https://github.com/dflock/ulauncher-window-switcher/issues/2","title":"Launcher"},{"location":"ll/arco/#notifyd","text":"Instead of dunst I try XFCEs' one, nicely styled. xfce4-notifyd-config to configure. BUT: - does not support -u (urgency) but icons. So: - does not support -r (replacing) -> volume change creates 100 notifications. So: https://forum.xfce.org/viewtopic.php?id=14009 And $HOME/bin/notify-send as a python program which keeps a mapping of -r to last id returned from dbus.","title":"NotifyD"},{"location":"ll/arco/#browsing","text":"","title":"Browsing"},{"location":"ll/arco/#firefox","text":"- VimVixen (with h<->H and l<->L, not scrolling vertical all the time but history all the time) - Context menu stay open after double clikc: `about:config` -> after_mouseup -> true to avoid context menu closes at touchpad click","title":"Firefox"},{"location":"ll/arco/#vim","text":"Installed neovim with pacman copied .config/nvim. Copied old .vim .vimrc works in prob It autocreated new .config/coc Fixed problems with :CheckHealth fzf[.vim] did not work, had to rm -rf .vim/plugged/fzf* , then PlugInstall (reinstall them)","title":"Vim"},{"location":"ll/arco/#miniconda-installation-plus-envtools","text":"There pip install neovim pip install -e axblack -> vim worked, :CheckHealth good now, axblack worked","title":"Miniconda installation plus env/tools"},{"location":"ll/arco/#timeshift","text":"Runs as root -> can't open browse or view logs due to missing desktop entries. Creating the file /root/.local/share/applications/defaults.list was a working solution for me. You may need to adjust the file contents to suit your desktop environment, just run $ xdg-mime query default inode/directory as your normal user account to get the value your desktop environment uses. In my case it was nemo.desktop. So the defaults.list file contains the following two lines for me: inode/directory=thunar.desktop x-directory/normal=thunar.desktop","title":"timeshift"},{"location":"ll/arco/#grub-btrfs","text":"Enabled grub-btrfs.path and modiefied monitored folder to timeshift as their github repo suggested. Not yet seen in grub, guess grub-mkconfig missing","title":"grub-btrfs"},{"location":"ll/arco/#luks","text":"Made an error - /boot is on main partition, i.e. encrypted. grub has only software decryption, weakly implemented. Takes 42 secs to decrypt kernel, thenk grub prompt shows. Only benefit: Attacker cannot install hacked kernel on my system. -> Created at slot 0 (must be first one!) a new one with lousy itertime: cryptsetup luksDump /dev/nvme0n1p2 cryptsetup -v luksKillSlot /dev/nvme0n1p2 0 cryptsetup -v luksAddKey /dev/nvme0n1p2 -S 0 --iter-time 10 Key Slot 0 : ENABLED Iterations: 11742 # was 2353704 before! Means: HD will be decryptable easily, see https://diverto.github.io/2019/11/18/Cracking-LUKS-passphrases Good: There is another key still in, with high iter times -> Will they try one wrong password grub will try that as well - and hangs 40 seconds until throwing into rescue prompt. -> They might then think I have a decent iter time - and give up. But if they really try the above with dictionary they'll succeed instantly - I guess, since my passphrase is short. If long plus ONE typo it will suck totally waiting 40 secs then end in rescue prompt. Solution: Create a HW stick with big passphrase - and have a loooong passphrase when I don't have the stick around. Better solution: Create unencrypted boot partition. Maybe only encrypt $HOME - but think about leaking private stuff outside of it (caches, var directories, temp)","title":"Luks"},{"location":"ll/arco/#teamviewer","text":"Nicely set up, in fedora had some install hassles. Only had to do: systemctl disable --now teamviewerd.service To make it not loading after reboots (even when start with login was disabled it was running)","title":"teamviewer"},{"location":"ll/arco/#conky","text":"Too much CPU, all 8%: Best: conky -c $HOME/.config/conky/AUR-Lazuli.conkyrc conky -c $HOME/.config/conky/AUR-Allinone.conkyrc conky -c $HOME/.config/conky/Arco-Redux-LUA.conkyrc","title":"Conky"},{"location":"ll/arco/#thunderbird","text":"copied back $HOME/.thunderbird, then via help-> troubleshooting found profile folder. Close TB, then rm -rf all in that folder, then move all from old profile folder to this one. works.","title":"Thunderbird"},{"location":"ll/arco/#clipboard","text":"copyq But after install I had kwayland and kwin deps in -> removed that via pamac. Easy!","title":"Clipboard"},{"location":"ll/arco/#podman","text":"","title":"podman"},{"location":"ll/arco/#user-mode","text":"cgroupv2 already present # usermod --add-subuids 100000-165536 --add-subgids 100000-165536 gk $ podman system migrate $ podman pull docker.io/archlinux ~/.config \u276f\u276f\u276f whoami; p run -ti -v /home/gk:/home/gk dbe48d42e6fa whoami gk root and all file ids nicely mapped inside(root) vs outside (user) And storage driver btrfs.","title":"user mode"},{"location":"ll/arco/#mime","text":"/usr/share/applications .local/share/applications xdg-mime default thunar.desktop inode/directory to use xpdf as the default PDF viewer: $ xdg-mime default xpdf.desktop application/pdf This should create an entry [Default Applications] application/pdf=xpdf.desktop in your local MIME database ~/.config/mimeapps.list. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Mime:"},{"location":"ll/distro/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } My Linux Distribution \u00a4 My Distro is Fedora (again). It was the natural choice when I switched to Linux because our customers use RH and Fedora is today what RH is tomorrow. At least it was like that in 2018, when I switched. Especially in container tech you can be sure you have the newest tech nicely packaged. E.g. podman/user mode or systemd-nspawn. I do have my gripes with Gnome and Gnome is their default DE - but it is simple to skip it and install e.g. the XFCE spin and then reconfigure to start dwm in your xsession. Arch \u00a4 After a year or so I switched to Arch though - since most of my YT channels heavily promote it. I chose Arco Linux and it was pretty amazing that there really really was no tool whatsoever, which you could not directly install via pacman or yay and I never had a failure installing it. BUT: The constant updates of that rolling distro went on my nerves. You constantly have the feeling of being outdated and should update . But with a lot of software installed, incl. a few browsers, you every single day had a few hundred megs of downloads, to be up to date for a few hours. Plus the installation time, which went into well over a minute with grub-btrfs ... So, when the first update broke, with an obscure kernel boot error (I could fix it but still...) I went back to Fedora (34) and I found my peace of mind again, now knowing the fast paced side... My takeaways: Linux channels use Arch - because they are Linux channels and need to talk about new software all the time When I need top notch software or software not in the Fedora repos, there are good technologies to install distro independent versions in sandboxes. Containers, miniconda, chroot, self compiles and the flatpak/snap/appimage trio (which I actually never need). If you can handle that, I don't see much need for a rolling distro. To me Fedora, allthough some say it is going to be replaced by RH streams, is the ideal distro. Up to date enough Newest container tech All the \"big\" tools have RPM versions For most \"situations\" you find a Fedora specific solution out there. And the small stuff when not in their repos, I take care of myself. Only downside, maybe: IBM / Red Hat - we do not know what their plans are with this distro. And sometimes, the bigger the company, the stranger the decisions they make... typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Distros"},{"location":"ll/distro/#my-linux-distribution","text":"My Distro is Fedora (again). It was the natural choice when I switched to Linux because our customers use RH and Fedora is today what RH is tomorrow. At least it was like that in 2018, when I switched. Especially in container tech you can be sure you have the newest tech nicely packaged. E.g. podman/user mode or systemd-nspawn. I do have my gripes with Gnome and Gnome is their default DE - but it is simple to skip it and install e.g. the XFCE spin and then reconfigure to start dwm in your xsession.","title":"My Linux Distribution"},{"location":"ll/distro/#arch","text":"After a year or so I switched to Arch though - since most of my YT channels heavily promote it. I chose Arco Linux and it was pretty amazing that there really really was no tool whatsoever, which you could not directly install via pacman or yay and I never had a failure installing it. BUT: The constant updates of that rolling distro went on my nerves. You constantly have the feeling of being outdated and should update . But with a lot of software installed, incl. a few browsers, you every single day had a few hundred megs of downloads, to be up to date for a few hours. Plus the installation time, which went into well over a minute with grub-btrfs ... So, when the first update broke, with an obscure kernel boot error (I could fix it but still...) I went back to Fedora (34) and I found my peace of mind again, now knowing the fast paced side... My takeaways: Linux channels use Arch - because they are Linux channels and need to talk about new software all the time When I need top notch software or software not in the Fedora repos, there are good technologies to install distro independent versions in sandboxes. Containers, miniconda, chroot, self compiles and the flatpak/snap/appimage trio (which I actually never need). If you can handle that, I don't see much need for a rolling distro. To me Fedora, allthough some say it is going to be replaced by RH streams, is the ideal distro. Up to date enough Newest container tech All the \"big\" tools have RPM versions For most \"situations\" you find a Fedora specific solution out there. And the small stuff when not in their repos, I take care of myself. Only downside, maybe: IBM / Red Hat - we do not know what their plans are with this distro. And sometimes, the bigger the company, the stranger the decisions they make... typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Arch"},{"location":"ll/todo/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Todo / Interesting Things \u00a4 tools \u00a4 lf/ueberzug: https://www.youtube.com/watch?v=XOMj7JSGR78 telescopy, vim, tmux session mgmt (nice devsetup): https://www.youtube.com/watch?v=gMcGb55bsaE k8s: https://www.youtube.com/watch?v=CB79eTFbR0w especially flux/argo -> up2date containers w/o ci. AXC style (?) OS PaaS: https://captain.server.demo.caprover.com/#/settings python \u00a4 rich https://raw.githubusercontent.com/Textualize/rich/master/imgs/inspect.png https://github.com/emeryberger/scalene profiler https://github.com/qix-/better-exceptions https://github.com/manilarome/the-glorious-dotfiles/blob/master/config/polybar/config YT \u00a4 GPN19 - Moderne Kommandozeilen-Werkzeuge (endg\u00fcltig_letzte_Version) https://www.youtube.com/watch?v=8d8-PpcLc24 - hub 9:52 / tig 16:02 - lynis 19:01 - top Familie 20:45 (htop 23:00 \ud83d\udc4d) - Nethogs 32:42 - socket statistics 33:36 - dstat/saidar/discus 35:05 - nmon 36:34 \ud83d\udc4d - kubetail/colorex/lolcat 39:50 - gulasch 41:43 - HTTP Prompt 42:46 \ud83d\udc4d - XMLStarlet 46:05 - Ultimate Plumber 48:00 \ud83d\udc4d - reptyr 50:40 - ttyd 52:29 - WTF 53:37 - no more secrets 54:54 Fireship: \u00a4 10 very promising Open Source Projects you haven\u2019t heard of: https://www.youtube.com/watch?v=qXUl3VsbA6o&t=262s typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Todo"},{"location":"ll/todo/#todo-interesting-things","text":"","title":"Todo / Interesting Things"},{"location":"ll/todo/#tools","text":"lf/ueberzug: https://www.youtube.com/watch?v=XOMj7JSGR78 telescopy, vim, tmux session mgmt (nice devsetup): https://www.youtube.com/watch?v=gMcGb55bsaE k8s: https://www.youtube.com/watch?v=CB79eTFbR0w especially flux/argo -> up2date containers w/o ci. AXC style (?) OS PaaS: https://captain.server.demo.caprover.com/#/settings","title":"tools"},{"location":"ll/todo/#python","text":"rich https://raw.githubusercontent.com/Textualize/rich/master/imgs/inspect.png https://github.com/emeryberger/scalene profiler https://github.com/qix-/better-exceptions https://github.com/manilarome/the-glorious-dotfiles/blob/master/config/polybar/config","title":"python"},{"location":"ll/todo/#yt","text":"GPN19 - Moderne Kommandozeilen-Werkzeuge (endg\u00fcltig_letzte_Version) https://www.youtube.com/watch?v=8d8-PpcLc24 - hub 9:52 / tig 16:02 - lynis 19:01 - top Familie 20:45 (htop 23:00 \ud83d\udc4d) - Nethogs 32:42 - socket statistics 33:36 - dstat/saidar/discus 35:05 - nmon 36:34 \ud83d\udc4d - kubetail/colorex/lolcat 39:50 - gulasch 41:43 - HTTP Prompt 42:46 \ud83d\udc4d - XMLStarlet 46:05 - Ultimate Plumber 48:00 \ud83d\udc4d - reptyr 50:40 - ttyd 52:29 - WTF 53:37 - no more secrets 54:54","title":"YT"},{"location":"ll/todo/#fireship","text":"10 very promising Open Source Projects you haven\u2019t heard of: https://www.youtube.com/watch?v=qXUl3VsbA6o&t=262s typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Fireship:"},{"location":"ll/apps/apps/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Awesome Apps - Not only Linux \u00a4 Those I install pretty early after a distro hop or hardware replacement I omit the usual stuff like bat, bpytop, exa, git, htop, tmux, ripgrep, fzf, nvim, emacs, i.e. try to list the lesser known ones. edge Pretty well thought through browser, actually, became my default k9s Perfect terminal k8s mgmt tool. lazygit Perfect terminal git tool. Also for vim: No more fugitive, just open in vim-floatterm miniconda Tons of disposable distro independent apps, not only from the python world. Default python, ruby, npm and java env wrapper, for their subsequent tools landscape simplescreenrecorder with ffmpeg -ss 0.0 -i \"$fn\" -filter_complex \"[0:v] fps=12,scale=760:-1,split [a][b];[a] palettegen [p];[b][p] paletteuse\" $fn.gif` also for animated gifs from the recordings. Simpler might be using peek . vimium Drives browsing via vim keys. Vimium-C even better. unmap h unmap l map h goBack map l goForward Alternative vim-vixen. z.lua Perfect directory jumper zsh: Yes. It is better, especialy completion Apropos... \u00a4 ADB: Android File Transfer to/from Linux via USB \u00a4 pacman -S android-tools Then on the phone find About -> Build Number -> Tab 3 times on it -> you are \"developer\" - hooray! On the laptop this should work then: ~ \u276f adb devices List of devices attached CQ3001R1EL device Then git clone & make this: https://github.com/spion/adbfs-rootless And mount: ./adbfs ~/droid Ignore the permission errors, you have a mounted phone SD card in $HOME/droid. copy / sync your stuff and it's far faster than e.g. KDE connect via the network. Then just ~/dr/st/self/primary/DCIM/100ANDRO \u276f rm -rf * zsh: sure you want to delete more than 100 files in /home/gk/droid/storage/self/primary/DCIM/100ANDRO [yn]? y and you have a clean phone again. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Apps"},{"location":"ll/apps/apps/#awesome-apps-not-only-linux","text":"Those I install pretty early after a distro hop or hardware replacement I omit the usual stuff like bat, bpytop, exa, git, htop, tmux, ripgrep, fzf, nvim, emacs, i.e. try to list the lesser known ones. edge Pretty well thought through browser, actually, became my default k9s Perfect terminal k8s mgmt tool. lazygit Perfect terminal git tool. Also for vim: No more fugitive, just open in vim-floatterm miniconda Tons of disposable distro independent apps, not only from the python world. Default python, ruby, npm and java env wrapper, for their subsequent tools landscape simplescreenrecorder with ffmpeg -ss 0.0 -i \"$fn\" -filter_complex \"[0:v] fps=12,scale=760:-1,split [a][b];[a] palettegen [p];[b][p] paletteuse\" $fn.gif` also for animated gifs from the recordings. Simpler might be using peek . vimium Drives browsing via vim keys. Vimium-C even better. unmap h unmap l map h goBack map l goForward Alternative vim-vixen. z.lua Perfect directory jumper zsh: Yes. It is better, especialy completion","title":"Awesome Apps - Not only Linux"},{"location":"ll/apps/apps/#apropos","text":"","title":"Apropos..."},{"location":"ll/apps/apps/#adb-android-file-transfer-tofrom-linux-via-usb","text":"pacman -S android-tools Then on the phone find About -> Build Number -> Tab 3 times on it -> you are \"developer\" - hooray! On the laptop this should work then: ~ \u276f adb devices List of devices attached CQ3001R1EL device Then git clone & make this: https://github.com/spion/adbfs-rootless And mount: ./adbfs ~/droid Ignore the permission errors, you have a mounted phone SD card in $HOME/droid. copy / sync your stuff and it's far faster than e.g. KDE connect via the network. Then just ~/dr/st/self/primary/DCIM/100ANDRO \u276f rm -rf * zsh: sure you want to delete more than 100 files in /home/gk/droid/storage/self/primary/DCIM/100ANDRO [yn]? y and you have a clean phone again. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"ADB: Android File Transfer to/from Linux via USB"},{"location":"ll/devices/tv_q8/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Remote Controlling My Samsung Q8 \u00a4 Tizen OS Platform (from api/v2 below) API Explore \u00a4 There is contact. Main problem with python default samsungctl is the ms.event.unauthorized I'm getting with this series for any use case. update: Regarding auth read this: https://github.com/Ape/samsungctl/issues/114 . Note that python code below works w/o token ! info\" \"API Explore This works w/o auth: From here : ~ \u276f http http://tv.lan:8001/api/v2/ HTTP/1.1 200 OK content-length: 1218 content-type: application/json; charset=utf-8 { \"device\": { \"FrameTVSupport\": \"false\", \"GamePadSupport\": \"true\", \"ImeSyncedSupport\": \"true\", \"OS\": \"Tizen\", \"TokenAuthSupport\": \"true\", \"VoiceSupport\": \"true\", \"countryCode\": \"DE\", \"description\": \"Samsung DTV RCR\", \"developerIP\": \"0.0.0.0\", \"developerMode\": \"0\", \"duid\": \"uuid:85aa4d83-1bb6-410f-843a-658d51bc7270\", \"firmwareVersion\": \"Unknown\", \"id\": \"uuid:85aa4d83-1bb6-410f-843a-658d51bc7270\", \"ip\": \"10.0.0.28\", \"model\": \"18_KANTM2_QTV\", \"modelName\": \"QE55Q8FNA\", \"name\": \"[TV] Samsung Q8 Series (55)\", \"networkType\": \"wireless\", \"resolution\": \"3840x2160\", \"smartHubAgreement\": \"true\", \"ssid\": \"c0:25:06:ab:46:11\", \"type\": \"Samsung SmartTV\", \"udn\": \"uuid:85aa4d83-1bb6-410f-843a-658d51bc7270\", \"wifiMac\": \"CC:6E:A4:E3:A4:FC\" }, \"id\": \"uuid:85aa4d83-1bb6-410f-843a-658d51bc7270\", \"isSupport\": \"{\\\"DMP_DRM_PLAYREADY\\\":\\\"false\\\",\\\"DMP_DRM_WIDEVINE\\\":\\\"false\\\",\\\"DMP_available\\\":\\\"true\\\",\\\"EDEN_available\\\":\\\"true\\\",\\\"FrameTVSupport\\\":\\\"false\\\",\\\"ImeSyncedSupport\\\":\\\"true\\\",\\\"TokenAuthSupport\\\":\\\"true\\\",\\\"remote_available\\\":\\\"true\\\",\\\"remote_fourDirections\\\":\\\"true\\\",\\\"remote_touchPad\\\":\\\"true\\\",\\\"remote_voiceControl\\\":\\\"true\\\"}\\n\", \"name\": \"[TV] Samsung Q8 Series (55)\", \"remote\": \"1.0\", \"type\": \"Samsung SmartTV\", \"uri\": \"http://tv.lan:8001/api/v2/\", \"version\": \"2.0.25\" } But: ~/repos/samsungctl master !1 ?4 \u276f samsungctl --host tv.lan --port 8001 -v --method websocket --timeout 2 KEY_HOME \ue73c samsungctl Traceback (most recent call last): File \"/home/gk/repos/samsungctl/bin/samsungctl\", line 33, in <module> sys.exit(load_entry_point('samsungctl==0.7.0+1', 'console_scripts', 'sam File \"/home/gk/repos/samsungctl/lib64/python3.9/site-packages/samsungctl-0.7.0+1-py3.9.egg/samsungctl/remote_websocket.py\", line 76, in _read_response (...) samsungctl.exceptions.UnhandledResponse: {'event': 'ms.channel.unauthorized'} ~/repos/samsungctl master !1 ?4 \u276f samsungctl --host tv.lan --port 8002 -v --method websocket --timeout 2 KEY_HOME \ue73c samsungctl Traceback (most recent call last): File \"/home/gk/repos/samsungctl/bin/samsungctl\", line 33, in <module> sys.exit(load_entry_point('samsungctl==0.7.0+1', 'console_scripts', 'samsungctl')()) File \"/home/gk/repos/samsungctl/lib64/python3.9/site-packages/samsungctl-0.7.0+1-py3.9.egg/samsungctl/__main__.py\", line 112, in main (...) File \"/home/gk/repos/samsungctl/lib64/python3.9/site-packages/websocket/_socket.py\", line 125, in recv raise WebSocketConnectionClosedException( websocket._exceptions.WebSocketConnectionClosedException: Connection to remote host was lost. ~/repos/samsungctl master !1 ?4 \u276f Detour to JS \u00a4 This has even NodeRED: https://github.com/Toxblh/samsung-tv-control Install Example First Run conda install nodejs npm install samsung-tv-control --save node modules in $HOME then..., no idea why not in conda: /home/gk/node_modules/samsung-tv-control/lib wget https://raw.githubusercontent.com/Toxblh/samsung-tv-control/master/example/index.js -O r.js config: const config = { debug: true, // Default: false ip: \"10.0.0.28\", mac: \"123456789ABC\", nameApp: \"NodeJS-Test\", // Default: NodeJS port: 8002, // Default: 8002 token: \"12345678\", }; node r.js Inspecting what's happening led to a first python api, where I can switch on/off the TV, send keys, send text or open a browser URL: First Working Python \u00a4 Funny that it works now w/o taking care for the token. Hmm... ~/ repos / samsungctl master ! 1 ? 6 \u276f cat g . py import json import ssl import time import websocket import _thread jd = lambda o : json . dumps ( o ) jl = lambda o : json . loads ( o ) pp = lambda s : print ( json . dumps ( s , indent = 4 , sort_keys = True , default = str )) no_token = '12345' class TV : ws = None send = lambda c : TV . ws . send ( jd ( c )) token = no_token apps = None # a list like: # # [ # { # \"appId\": \"111299001912\", # \"app_type\": 2, # \"icon\": \"/opt/share/weba... # \"is_lock\": 0, # \"name\": \"YouTube\" # }, # { # \"appId\": \"11101200001\", class act : def key ( k ): TV . send ( { 'method' : 'ms.remote.control' , 'params' : { 'Cmd' : 'Click' , 'DataOfCmd' : k , 'Option' : 'false' , 'TypeOfRemote' : 'SendRemoteKey' , }, } ) # off or on. Test on by http to :8001/api/v2 or simply ping it power = lambda : act . key ( 'KEY_POWER' ) def find_apps (): TV . send ( { 'method' : 'ms.channel.emit' , 'params' : { 'data' : '' , 'event' : 'ed.installedApp.get' , 'to' : 'host' }, #'token': TV.token, } ) def open_url ( url ): TV . send ( { 'method' : 'ms.channel.emit' , 'params' : { 'event' : 'ed.apps.launch' , 'to' : 'host' , 'data' : { 'appId' : 'org.tizen.browser' , # always, no scanning required 'action_type' : 'NATIVE_LAUNCH' , #'metaTag': 'https://www.youtube.com/watch?v=ah0Nio4Z0zI', 'metaTag' : url , }, }, } ) class WS : def on_message ( ws , message ): msg = jl ( message ) pp ( msg ) ev = msg [ 'event' ] if ev == 'ms.channel.connect' : TV . token = msg [ 'data' ][ 'token' ] elif ev == 'ed.installedApp.get' : TV . apps = msg [ 'data' ][ 'data' ] act . open_url ( 'https://ard.de' ) def on_error ( ws , error ): print ( 'Error' , error ) def on_close ( ws , close_status_code , close_msg ): print ( '### closed ###' ) def on_open ( ws ): def run ( * args ): act . key ( 'KEY_HOME' ) _thread . start_new_thread ( run , ()) if __name__ == '__main__' : # websocket.enableTrace(True) TV . ws = websocket . WebSocketApp ( #'wss://tv.lan:8002/', 'wss://10.0.0.28:8002/api/v2/channels/samsung.remote.control?name=Tm9kZUpTLVRlc3Q=' , # &token=12345678', on_open = WS . on_open , on_message = WS . on_message , on_error = WS . on_error , on_close = WS . on_close , ) TV . ws . run_forever ( sslopt = { 'cert_reqs' : ssl . CERT_NONE }) References \u00a4 https://github.com/Toxblh/samsung-tv-control https://github.com/Ape/samsungctl From there: http://sc0ty.pl/2012/02/samsung-tv-network-remote-control-protocol/ https://gist.github.com/danielfaust/998441 https://github.com/Bntdumas/SamsungIPRemote https://github.com/kyleaa/homebridge-samsungtv2016 typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Devices"},{"location":"ll/devices/tv_q8/#remote-controlling-my-samsung-q8","text":"Tizen OS Platform (from api/v2 below)","title":"Remote Controlling My Samsung Q8"},{"location":"ll/devices/tv_q8/#api-explore","text":"There is contact. Main problem with python default samsungctl is the ms.event.unauthorized I'm getting with this series for any use case. update: Regarding auth read this: https://github.com/Ape/samsungctl/issues/114 . Note that python code below works w/o token ! info\" \"API Explore This works w/o auth: From here : ~ \u276f http http://tv.lan:8001/api/v2/ HTTP/1.1 200 OK content-length: 1218 content-type: application/json; charset=utf-8 { \"device\": { \"FrameTVSupport\": \"false\", \"GamePadSupport\": \"true\", \"ImeSyncedSupport\": \"true\", \"OS\": \"Tizen\", \"TokenAuthSupport\": \"true\", \"VoiceSupport\": \"true\", \"countryCode\": \"DE\", \"description\": \"Samsung DTV RCR\", \"developerIP\": \"0.0.0.0\", \"developerMode\": \"0\", \"duid\": \"uuid:85aa4d83-1bb6-410f-843a-658d51bc7270\", \"firmwareVersion\": \"Unknown\", \"id\": \"uuid:85aa4d83-1bb6-410f-843a-658d51bc7270\", \"ip\": \"10.0.0.28\", \"model\": \"18_KANTM2_QTV\", \"modelName\": \"QE55Q8FNA\", \"name\": \"[TV] Samsung Q8 Series (55)\", \"networkType\": \"wireless\", \"resolution\": \"3840x2160\", \"smartHubAgreement\": \"true\", \"ssid\": \"c0:25:06:ab:46:11\", \"type\": \"Samsung SmartTV\", \"udn\": \"uuid:85aa4d83-1bb6-410f-843a-658d51bc7270\", \"wifiMac\": \"CC:6E:A4:E3:A4:FC\" }, \"id\": \"uuid:85aa4d83-1bb6-410f-843a-658d51bc7270\", \"isSupport\": \"{\\\"DMP_DRM_PLAYREADY\\\":\\\"false\\\",\\\"DMP_DRM_WIDEVINE\\\":\\\"false\\\",\\\"DMP_available\\\":\\\"true\\\",\\\"EDEN_available\\\":\\\"true\\\",\\\"FrameTVSupport\\\":\\\"false\\\",\\\"ImeSyncedSupport\\\":\\\"true\\\",\\\"TokenAuthSupport\\\":\\\"true\\\",\\\"remote_available\\\":\\\"true\\\",\\\"remote_fourDirections\\\":\\\"true\\\",\\\"remote_touchPad\\\":\\\"true\\\",\\\"remote_voiceControl\\\":\\\"true\\\"}\\n\", \"name\": \"[TV] Samsung Q8 Series (55)\", \"remote\": \"1.0\", \"type\": \"Samsung SmartTV\", \"uri\": \"http://tv.lan:8001/api/v2/\", \"version\": \"2.0.25\" } But: ~/repos/samsungctl master !1 ?4 \u276f samsungctl --host tv.lan --port 8001 -v --method websocket --timeout 2 KEY_HOME \ue73c samsungctl Traceback (most recent call last): File \"/home/gk/repos/samsungctl/bin/samsungctl\", line 33, in <module> sys.exit(load_entry_point('samsungctl==0.7.0+1', 'console_scripts', 'sam File \"/home/gk/repos/samsungctl/lib64/python3.9/site-packages/samsungctl-0.7.0+1-py3.9.egg/samsungctl/remote_websocket.py\", line 76, in _read_response (...) samsungctl.exceptions.UnhandledResponse: {'event': 'ms.channel.unauthorized'} ~/repos/samsungctl master !1 ?4 \u276f samsungctl --host tv.lan --port 8002 -v --method websocket --timeout 2 KEY_HOME \ue73c samsungctl Traceback (most recent call last): File \"/home/gk/repos/samsungctl/bin/samsungctl\", line 33, in <module> sys.exit(load_entry_point('samsungctl==0.7.0+1', 'console_scripts', 'samsungctl')()) File \"/home/gk/repos/samsungctl/lib64/python3.9/site-packages/samsungctl-0.7.0+1-py3.9.egg/samsungctl/__main__.py\", line 112, in main (...) File \"/home/gk/repos/samsungctl/lib64/python3.9/site-packages/websocket/_socket.py\", line 125, in recv raise WebSocketConnectionClosedException( websocket._exceptions.WebSocketConnectionClosedException: Connection to remote host was lost. ~/repos/samsungctl master !1 ?4 \u276f","title":"API Explore"},{"location":"ll/devices/tv_q8/#detour-to-js","text":"This has even NodeRED: https://github.com/Toxblh/samsung-tv-control Install Example First Run conda install nodejs npm install samsung-tv-control --save node modules in $HOME then..., no idea why not in conda: /home/gk/node_modules/samsung-tv-control/lib wget https://raw.githubusercontent.com/Toxblh/samsung-tv-control/master/example/index.js -O r.js config: const config = { debug: true, // Default: false ip: \"10.0.0.28\", mac: \"123456789ABC\", nameApp: \"NodeJS-Test\", // Default: NodeJS port: 8002, // Default: 8002 token: \"12345678\", }; node r.js Inspecting what's happening led to a first python api, where I can switch on/off the TV, send keys, send text or open a browser URL:","title":"Detour to JS"},{"location":"ll/devices/tv_q8/#first-working-python","text":"Funny that it works now w/o taking care for the token. Hmm... ~/ repos / samsungctl master ! 1 ? 6 \u276f cat g . py import json import ssl import time import websocket import _thread jd = lambda o : json . dumps ( o ) jl = lambda o : json . loads ( o ) pp = lambda s : print ( json . dumps ( s , indent = 4 , sort_keys = True , default = str )) no_token = '12345' class TV : ws = None send = lambda c : TV . ws . send ( jd ( c )) token = no_token apps = None # a list like: # # [ # { # \"appId\": \"111299001912\", # \"app_type\": 2, # \"icon\": \"/opt/share/weba... # \"is_lock\": 0, # \"name\": \"YouTube\" # }, # { # \"appId\": \"11101200001\", class act : def key ( k ): TV . send ( { 'method' : 'ms.remote.control' , 'params' : { 'Cmd' : 'Click' , 'DataOfCmd' : k , 'Option' : 'false' , 'TypeOfRemote' : 'SendRemoteKey' , }, } ) # off or on. Test on by http to :8001/api/v2 or simply ping it power = lambda : act . key ( 'KEY_POWER' ) def find_apps (): TV . send ( { 'method' : 'ms.channel.emit' , 'params' : { 'data' : '' , 'event' : 'ed.installedApp.get' , 'to' : 'host' }, #'token': TV.token, } ) def open_url ( url ): TV . send ( { 'method' : 'ms.channel.emit' , 'params' : { 'event' : 'ed.apps.launch' , 'to' : 'host' , 'data' : { 'appId' : 'org.tizen.browser' , # always, no scanning required 'action_type' : 'NATIVE_LAUNCH' , #'metaTag': 'https://www.youtube.com/watch?v=ah0Nio4Z0zI', 'metaTag' : url , }, }, } ) class WS : def on_message ( ws , message ): msg = jl ( message ) pp ( msg ) ev = msg [ 'event' ] if ev == 'ms.channel.connect' : TV . token = msg [ 'data' ][ 'token' ] elif ev == 'ed.installedApp.get' : TV . apps = msg [ 'data' ][ 'data' ] act . open_url ( 'https://ard.de' ) def on_error ( ws , error ): print ( 'Error' , error ) def on_close ( ws , close_status_code , close_msg ): print ( '### closed ###' ) def on_open ( ws ): def run ( * args ): act . key ( 'KEY_HOME' ) _thread . start_new_thread ( run , ()) if __name__ == '__main__' : # websocket.enableTrace(True) TV . ws = websocket . WebSocketApp ( #'wss://tv.lan:8002/', 'wss://10.0.0.28:8002/api/v2/channels/samsung.remote.control?name=Tm9kZUpTLVRlc3Q=' , # &token=12345678', on_open = WS . on_open , on_message = WS . on_message , on_error = WS . on_error , on_close = WS . on_close , ) TV . ws . run_forever ( sslopt = { 'cert_reqs' : ssl . CERT_NONE })","title":"First Working Python"},{"location":"ll/devices/tv_q8/#references","text":"https://github.com/Toxblh/samsung-tv-control https://github.com/Ape/samsungctl From there: http://sc0ty.pl/2012/02/samsung-tv-network-remote-control-protocol/ https://gist.github.com/danielfaust/998441 https://github.com/Bntdumas/SamsungIPRemote https://github.com/kyleaa/homebridge-samsungtv2016 typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"References"},{"location":"ll/electronics/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Interacting with Real World \u00a4 A beginner hitting the wide world of electronics. Channels \u00a4 From electro boom Electronics: \u00a4 GreatScott EEVblog Fran Blanche (\"Over-reliance on micro-controllers.... Build it out of discrete stuff.\" Amen!) Basics: \u00a4 bigclivedotcom Jeremy Fielding Others \u00a4 Cody'sLab AvE CaptainDisillusion TheBackyardScientist The Kinq of Random the Hacksmith Physics Girl SmarterEveryDay Veritasium Vsauce typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Interacting with Real World"},{"location":"ll/electronics/#interacting-with-real-world","text":"A beginner hitting the wide world of electronics.","title":"Interacting with Real World"},{"location":"ll/electronics/#channels","text":"From electro boom","title":"Channels"},{"location":"ll/electronics/#electronics","text":"GreatScott EEVblog Fran Blanche (\"Over-reliance on micro-controllers.... Build it out of discrete stuff.\" Amen!)","title":"Electronics:"},{"location":"ll/electronics/#basics","text":"bigclivedotcom Jeremy Fielding","title":"Basics:"},{"location":"ll/electronics/#others","text":"Cody'sLab AvE CaptainDisillusion TheBackyardScientist The Kinq of Random the Hacksmith Physics Girl SmarterEveryDay Veritasium Vsauce typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Others"},{"location":"ll/electronics/diascanning/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Scanning 1000s of Dias with Linux and Android Phone \u00a4 (The cheap way) Prepare Projector \u00a4 Open it Remove the forward one of the two inner lenses. Leave the heat shielding glas between the two lenses !! Put a litte Plastic inside, to cover the direct light. I cut it out from a yogurt container (see picture). Keep the plastic at distance from the glas, it would melt! Remove the objective and place the mobile phone there, cam pointing to inside, where the Dia is. Remote control cam \u00a4 Put phone to developer mode and activate USB debugging, so that ADB works Install like here: https://www.xda-developers.com/install-adb-windows-macos-linux/ Install scrcpy from snapstore and start like scrcpy --hid-mouse (to get mouse support - release with alt or super) Now you can control the cam from the computer, e.g. take pics Transferring \u00a4 We use jmtpfs to mount the phone via fuse. Then we run this to rename and flip the images into a local folder, then delete on the phone: #!/usr/bin/env python import sys import os import shutil import time now = time . time d_src = '/home/gk/mtp/Interner gemeinsamer Speicher/DCIM/Camera' d_dest = '/home/gk/waldcloud/lois' # plus sys.argv[1] is dest folder def die ( msg = 'error' ): print ( f ' { msg } \\n sorry, bye.' ) sys . exit ( 1 ) def main (): t0 = now () n = sys . argv [ 1 ] d = f ' { d_dest } / { n } ' die ( f 'exists: { d } ' ) if os . path . exists ( d ) else os . makedirs ( d ) print ( f 'copying { d_src } -> { d } ' ) files = sorted ( os . listdir ( d_src )) i = 0 for fn in files : i += 1 j = str ( i ) . zfill ( 3 ) print ( f ' { d_src } / { fn } -> { d } / { n } _ { j } .jpg' ) os . system ( f 'convert \" { d_src } / { fn } \" -flip \" { d } / { n } _ { j } .jpg\"' ) print ( 'removing all sources' ) for fn in files : os . unlink ( f ' { d_src } / { fn } ' ) print ( f 'Done [ { now () - t0 } s].' ) if __name__ == '__main__' : main () typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Scanning 1000s of Dias with Linux and Android Phone"},{"location":"ll/electronics/diascanning/#scanning-1000s-of-dias-with-linux-and-android-phone","text":"(The cheap way)","title":"Scanning 1000s of Dias with Linux and Android Phone"},{"location":"ll/electronics/diascanning/#prepare-projector","text":"Open it Remove the forward one of the two inner lenses. Leave the heat shielding glas between the two lenses !! Put a litte Plastic inside, to cover the direct light. I cut it out from a yogurt container (see picture). Keep the plastic at distance from the glas, it would melt! Remove the objective and place the mobile phone there, cam pointing to inside, where the Dia is.","title":"Prepare Projector"},{"location":"ll/electronics/diascanning/#remote-control-cam","text":"Put phone to developer mode and activate USB debugging, so that ADB works Install like here: https://www.xda-developers.com/install-adb-windows-macos-linux/ Install scrcpy from snapstore and start like scrcpy --hid-mouse (to get mouse support - release with alt or super) Now you can control the cam from the computer, e.g. take pics","title":"Remote control cam"},{"location":"ll/electronics/diascanning/#transferring","text":"We use jmtpfs to mount the phone via fuse. Then we run this to rename and flip the images into a local folder, then delete on the phone: #!/usr/bin/env python import sys import os import shutil import time now = time . time d_src = '/home/gk/mtp/Interner gemeinsamer Speicher/DCIM/Camera' d_dest = '/home/gk/waldcloud/lois' # plus sys.argv[1] is dest folder def die ( msg = 'error' ): print ( f ' { msg } \\n sorry, bye.' ) sys . exit ( 1 ) def main (): t0 = now () n = sys . argv [ 1 ] d = f ' { d_dest } / { n } ' die ( f 'exists: { d } ' ) if os . path . exists ( d ) else os . makedirs ( d ) print ( f 'copying { d_src } -> { d } ' ) files = sorted ( os . listdir ( d_src )) i = 0 for fn in files : i += 1 j = str ( i ) . zfill ( 3 ) print ( f ' { d_src } / { fn } -> { d } / { n } _ { j } .jpg' ) os . system ( f 'convert \" { d_src } / { fn } \" -flip \" { d } / { n } _ { j } .jpg\"' ) print ( 'removing all sources' ) for fn in files : os . unlink ( f ' { d_src } / { fn } ' ) print ( f 'Done [ { now () - t0 } s].' ) if __name__ == '__main__' : main () typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Transferring"},{"location":"ll/electronics/deskcycle/electromagnet/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Electromagent \u00a4 (Control the Magnetic Field Directly) Actually also a variant of: Actively setting the gear. Reminder: F=v B*B b*b / R Make the magnet stationary, so that area b is constant, i.e. F linearly proportional to (controlled) B^2, nothing else. control B, Field Strength We can achieve this via an electro magnet - which creates a magnetic field through the electrical current flowing through the coil. No moving part - that is interesting. Clear downside is the constant electrical current we have to have flowing through the coil. Looking at this it's plausible that the total amount we need to spend to keep it up may be low though: That's a 9v battery - not sure how long it lastet though - also not sure if the spinning wheel feedbacks into the performance of the magnet. Plausibility - Strength \u00a4 In the supermarket they sold these permanent magnets today: Neodym, i.e. brutally strong, that's 2.5Kg, i.e. 25Newton: But holding it close to the wheel: Nearly no effect... a bit harder - but not much. => We need at least 10 times that strength for an e-magnet. Looking at a 80kg magnet: 40Euro, 24V, 0.4A but: Checking back at the store: Unsere Elektromagnete sind der verl\u00e4ssliche Partner wenn es darum geht pr\u00e4zise Haftkr\u00e4fte auf den Punkt zu bringen. Unsere elektronischen Magnete sind nur nach dem Anlegen von elektrischer Spannung magnetisch, danach wirkt ein sicherer Restmagnetismus von ca. 5%. Nimmt man dem Magnet also die Spannung, verliert dieser umgehend wieder seinen Magnetismus. Diese schaltbaren Magnete eignen sich daher speziell f\u00fcr den Maschinenund Vorrichtungsbau, sowie f\u00fcr Transport- und Handlingssysteme. Features: Hohe Lebensdauer durch vergossene Spule max. 120 Sekunden Einschaltdauer Geringe Leistungsaufnahme Anschlussspannung 24V Gleichspannung Unbeachtlicher Restmagnetismus (<5%) Kabell\u00e4nge betr\u00e4gt standarm\u00e4\u00dfig 18cm, kann aber auch individuell f\u00fcr Sie produziert werden! \"Max 120 sec. power on period\" -> No Go. :-( What's this: https://www.maqna.de/elektromagnete/bei-strom-abschaltbar Same: Max. 120 Sec Turn On Time I guess to get to that high field strengths, they must have an immense amount of loops in the coils, i.e. very small wire, for the form factor. Which has a lot of resistance, i.e. heats up... I think electromagnet is dead for now. More realistic is another mechanical, distance controlled (this time by the computer) permanent magnet on the other side of the wheel. Or a generator... typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Electromagent"},{"location":"ll/electronics/deskcycle/electromagnet/#electromagent","text":"(Control the Magnetic Field Directly) Actually also a variant of: Actively setting the gear. Reminder: F=v B*B b*b / R Make the magnet stationary, so that area b is constant, i.e. F linearly proportional to (controlled) B^2, nothing else. control B, Field Strength We can achieve this via an electro magnet - which creates a magnetic field through the electrical current flowing through the coil. No moving part - that is interesting. Clear downside is the constant electrical current we have to have flowing through the coil. Looking at this it's plausible that the total amount we need to spend to keep it up may be low though: That's a 9v battery - not sure how long it lastet though - also not sure if the spinning wheel feedbacks into the performance of the magnet.","title":"Electromagent"},{"location":"ll/electronics/deskcycle/electromagnet/#plausibility-strength","text":"In the supermarket they sold these permanent magnets today: Neodym, i.e. brutally strong, that's 2.5Kg, i.e. 25Newton: But holding it close to the wheel: Nearly no effect... a bit harder - but not much. => We need at least 10 times that strength for an e-magnet. Looking at a 80kg magnet: 40Euro, 24V, 0.4A but: Checking back at the store: Unsere Elektromagnete sind der verl\u00e4ssliche Partner wenn es darum geht pr\u00e4zise Haftkr\u00e4fte auf den Punkt zu bringen. Unsere elektronischen Magnete sind nur nach dem Anlegen von elektrischer Spannung magnetisch, danach wirkt ein sicherer Restmagnetismus von ca. 5%. Nimmt man dem Magnet also die Spannung, verliert dieser umgehend wieder seinen Magnetismus. Diese schaltbaren Magnete eignen sich daher speziell f\u00fcr den Maschinenund Vorrichtungsbau, sowie f\u00fcr Transport- und Handlingssysteme. Features: Hohe Lebensdauer durch vergossene Spule max. 120 Sekunden Einschaltdauer Geringe Leistungsaufnahme Anschlussspannung 24V Gleichspannung Unbeachtlicher Restmagnetismus (<5%) Kabell\u00e4nge betr\u00e4gt standarm\u00e4\u00dfig 18cm, kann aber auch individuell f\u00fcr Sie produziert werden! \"Max 120 sec. power on period\" -> No Go. :-( What's this: https://www.maqna.de/elektromagnete/bei-strom-abschaltbar Same: Max. 120 Sec Turn On Time I guess to get to that high field strengths, they must have an immense amount of loops in the coils, i.e. very small wire, for the form factor. Which has a lot of resistance, i.e. heats up... I think electromagnet is dead for now. More realistic is another mechanical, distance controlled (this time by the computer) permanent magnet on the other side of the wheel. Or a generator... typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Plausibility - Strength"},{"location":"ll/electronics/deskcycle/generator/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Generating Power \u00a4 It's not a totally off Idea, there are devices on the market: Amazon offering First attempts with my neodym magnets and some coils were a bit ... demotivating. Embarrassing Attempt But in YT University I found these - more below: YT Builds \u00a4 The idea is simple: Buy a motor - but use it as a generator. All of the YT builds I found are doing this. Gene's Greenmachine \u00a4 https://genesgreenmachine.com/ Components: See video above, trivial: Everything here: https://genesgreenmachine.com/best-design-diy-bike-trainer-pedal-generator/ Hyprid E-Cycle \u00a4 Here a real freak, which also does it, using a bike motor: https://www.youtube.com/watch?v=7hfClQh3rxM The actual motor for the ebike he built himeself... Scooter Motor Build \u00a4 Parts... 500 Watts Build \u00a4 Bicycle Generators \u00a4 [2022-04-13 11:20] Opening YT - then this is offered: A whole collection about the subject: Incl. website: https://pedalpowergenerator.com/shop-pedal-power/dynamo/ Our Own Build \u00a4 Possibly needed: Shaft Coupler: https://www.amazon.de/dp/B06X9RS6D6?linkCode=gs2&tag=gensgremac05-21&th=1 Motor: The only one available in the household was from an old electric drill: Close match: https://www.amazon.com/RS-550s-18v-Electronic-Controlled-Replacement/dp/B00TE42PME Spec: https://m.media-amazon.com/images/I/81-5JDOeJ8L.pdf 233.725 Watts. No Idea how long, until it burns through though. Such drills can generate a lot of torque, might be comparable to what I can do with my legs. So, maybe it would survive, ampere wise, when I load it with my legs => Lets try it. Positioning / Coupling \u00a4 That's not obvious. I tried a few alternatives: Position One: Wheel 1, Direct \u00a4 Motor axis (7mm dia), directly coupled to first wheel of the drive: At this point I get 4Volts at normal pedal speed: Means: I'm not (yet) Robert, so I guess 100Watts is realistic => 25 Ampere... => That will kill the motor. Ups, actually, maybe not, see spec again, >40 amps at \"stall\" Position Two: Belt \u00a4 The fly wheel is translated to around the double the speed of wheel 1, i.e. I'll get higher rpm here - but I need a drive belt, can not directly couple Trying this point, using black tape as a belt: Result: 8Volt (until the improvised \"belt\" ripped apart) But that is still 12 Amps. at 100W input. Again Spec: Motor stall \u2013 In electric motor understanding for both AC or DC, we will meet torque, where torque is the ability of the motor to maintain its inertia force. Stalling is when the motor stops rotating because the load torque is greater than motor torque or breakdown torque characteristics. In a simple explanation, motor stall means the electric motor is overloaded and the motor can\u2019t produce more torque to keep rotating. Bigger problem yet: The drive belt, required at position 2. Checked the market and I did not find thin enough belts for being able to keep the manually shifted permanent magnet where it is mounted out of the box - at its axis some 3mm away from the flywheel: Position 3: Direct Coupling With Fly Wheel \u00a4 For this one I built a prototype, in order to finally generate some real power with my feet... You can, at this position, not directly couple the 8mm motor axis with the flywheel because of the radius of the motor housing colliding with the first gear wheel. I.e. you loose a lot of RPMs by increasing the motor axis diameter. Was relatively simple to build - only challenging thing was to drill an exact 8mm hole through the plastic furniture roller wheel, so that it is well balanced (thanks Alex ;-) Material is from here . The white soft rubber coating coupling with the flywheel is from kitchen equipment, some sealing. I had to connect it with the black wheel, using double-sided duct tape, so that it remains on the wheel. Findings \u00a4 Good: Runs supermooth. I do not feel it with my feet, while pedalling, no shaking or stuttering whatsoever. Is mechanically stable. I write this after pedalling for an hour, with high cadence. It's not degrading. BUT(!) there is not yet any resistor attached, I'm just turning the motor, w/o load and check the volts. So so: Not sure if the coupler can transmitt the torque at 100 Watts.. Bad: RPM: The wheel is increasing the diameter of the axis from 8mm to 4.5 cm. Means: I loose over 5 times the RPMs (i.e. Voltage). When I pedal es fast as I can I get barely over 4.5 Volts. Normal cadence: 2-3V. I won't be able to power anything w/o ruining the motor, with too high current, at say, 100Watts. \"Will have to check if there are motors which have their best perf at around those RPM.\" Edit: Stupid me - Think about it: How can more Volts at same RPM be done? Yes - geometry. Bigger motor... Wich means: Yet more distance from the flywheel.... And the other solution, more current tolerability through fatter wires inside: Again bigger motor, at same amount of loops. Seems a principal problem at this position 3. It's loud. Awfully loud. No comparison to the zero volume pedalling against the magnet brake. Here is a recording: The needle is at 3.8v - hard to see (why ditch a fully working multimeter, just because of digital ones better in, well, ... anything?) Motor is only having contact with rubber: -> Not much to optimize here. Have to think about that.... Can I reduce that noise?? Here links to the other builds right while pedalling - they all are pretty loud: gene's build (closest to mine, also noise wise) scooter build uh oh.. 500 watts build battery charger build gene different build - the most silent so far retired - also not that loud rubber roller - nice dashboard. But oh, the noise... I keep cycling a few days and see. Electronics: Which Motor is the Best Generator \u00a4 YT finally realized what I'm interested in, getting good suggestions - instead of free energy crap... Great Scott has it all: https://www.youtube.com/watch?v=cJ_vDA7xsGs So there are geared motors, for my position3 problem above: - but lousy efficiency! DC Motors are the worst option (brushes => wearoff) Simple no worries: Stepper motor Complicated but professional: BLDC Motor with a gear box typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Generating Power"},{"location":"ll/electronics/deskcycle/generator/#generating-power","text":"It's not a totally off Idea, there are devices on the market: Amazon offering First attempts with my neodym magnets and some coils were a bit ... demotivating. Embarrassing Attempt But in YT University I found these - more below:","title":"Generating Power"},{"location":"ll/electronics/deskcycle/generator/#yt-builds","text":"The idea is simple: Buy a motor - but use it as a generator. All of the YT builds I found are doing this.","title":"YT Builds"},{"location":"ll/electronics/deskcycle/generator/#genes-greenmachine","text":"https://genesgreenmachine.com/ Components: See video above, trivial: Everything here: https://genesgreenmachine.com/best-design-diy-bike-trainer-pedal-generator/","title":"Gene's Greenmachine"},{"location":"ll/electronics/deskcycle/generator/#hyprid-e-cycle","text":"Here a real freak, which also does it, using a bike motor: https://www.youtube.com/watch?v=7hfClQh3rxM The actual motor for the ebike he built himeself...","title":"Hyprid E-Cycle"},{"location":"ll/electronics/deskcycle/generator/#scooter-motor-build","text":"Parts...","title":"Scooter Motor Build"},{"location":"ll/electronics/deskcycle/generator/#500-watts-build","text":"","title":"500 Watts Build"},{"location":"ll/electronics/deskcycle/generator/#bicycle-generators","text":"[2022-04-13 11:20] Opening YT - then this is offered: A whole collection about the subject: Incl. website: https://pedalpowergenerator.com/shop-pedal-power/dynamo/","title":"Bicycle Generators"},{"location":"ll/electronics/deskcycle/generator/#our-own-build","text":"Possibly needed: Shaft Coupler: https://www.amazon.de/dp/B06X9RS6D6?linkCode=gs2&tag=gensgremac05-21&th=1 Motor: The only one available in the household was from an old electric drill: Close match: https://www.amazon.com/RS-550s-18v-Electronic-Controlled-Replacement/dp/B00TE42PME Spec: https://m.media-amazon.com/images/I/81-5JDOeJ8L.pdf 233.725 Watts. No Idea how long, until it burns through though. Such drills can generate a lot of torque, might be comparable to what I can do with my legs. So, maybe it would survive, ampere wise, when I load it with my legs => Lets try it.","title":"Our Own Build"},{"location":"ll/electronics/deskcycle/generator/#positioning-coupling","text":"That's not obvious. I tried a few alternatives:","title":"Positioning / Coupling"},{"location":"ll/electronics/deskcycle/generator/#position-one-wheel-1-direct","text":"Motor axis (7mm dia), directly coupled to first wheel of the drive: At this point I get 4Volts at normal pedal speed: Means: I'm not (yet) Robert, so I guess 100Watts is realistic => 25 Ampere... => That will kill the motor. Ups, actually, maybe not, see spec again, >40 amps at \"stall\"","title":"Position One: Wheel 1, Direct"},{"location":"ll/electronics/deskcycle/generator/#position-two-belt","text":"The fly wheel is translated to around the double the speed of wheel 1, i.e. I'll get higher rpm here - but I need a drive belt, can not directly couple Trying this point, using black tape as a belt: Result: 8Volt (until the improvised \"belt\" ripped apart) But that is still 12 Amps. at 100W input. Again Spec: Motor stall \u2013 In electric motor understanding for both AC or DC, we will meet torque, where torque is the ability of the motor to maintain its inertia force. Stalling is when the motor stops rotating because the load torque is greater than motor torque or breakdown torque characteristics. In a simple explanation, motor stall means the electric motor is overloaded and the motor can\u2019t produce more torque to keep rotating. Bigger problem yet: The drive belt, required at position 2. Checked the market and I did not find thin enough belts for being able to keep the manually shifted permanent magnet where it is mounted out of the box - at its axis some 3mm away from the flywheel:","title":"Position Two: Belt"},{"location":"ll/electronics/deskcycle/generator/#position-3-direct-coupling-with-fly-wheel","text":"For this one I built a prototype, in order to finally generate some real power with my feet... You can, at this position, not directly couple the 8mm motor axis with the flywheel because of the radius of the motor housing colliding with the first gear wheel. I.e. you loose a lot of RPMs by increasing the motor axis diameter. Was relatively simple to build - only challenging thing was to drill an exact 8mm hole through the plastic furniture roller wheel, so that it is well balanced (thanks Alex ;-) Material is from here . The white soft rubber coating coupling with the flywheel is from kitchen equipment, some sealing. I had to connect it with the black wheel, using double-sided duct tape, so that it remains on the wheel.","title":"Position 3: Direct Coupling With Fly Wheel"},{"location":"ll/electronics/deskcycle/generator/#findings","text":"Good: Runs supermooth. I do not feel it with my feet, while pedalling, no shaking or stuttering whatsoever. Is mechanically stable. I write this after pedalling for an hour, with high cadence. It's not degrading. BUT(!) there is not yet any resistor attached, I'm just turning the motor, w/o load and check the volts. So so: Not sure if the coupler can transmitt the torque at 100 Watts.. Bad: RPM: The wheel is increasing the diameter of the axis from 8mm to 4.5 cm. Means: I loose over 5 times the RPMs (i.e. Voltage). When I pedal es fast as I can I get barely over 4.5 Volts. Normal cadence: 2-3V. I won't be able to power anything w/o ruining the motor, with too high current, at say, 100Watts. \"Will have to check if there are motors which have their best perf at around those RPM.\" Edit: Stupid me - Think about it: How can more Volts at same RPM be done? Yes - geometry. Bigger motor... Wich means: Yet more distance from the flywheel.... And the other solution, more current tolerability through fatter wires inside: Again bigger motor, at same amount of loops. Seems a principal problem at this position 3. It's loud. Awfully loud. No comparison to the zero volume pedalling against the magnet brake. Here is a recording: The needle is at 3.8v - hard to see (why ditch a fully working multimeter, just because of digital ones better in, well, ... anything?) Motor is only having contact with rubber: -> Not much to optimize here. Have to think about that.... Can I reduce that noise?? Here links to the other builds right while pedalling - they all are pretty loud: gene's build (closest to mine, also noise wise) scooter build uh oh.. 500 watts build battery charger build gene different build - the most silent so far retired - also not that loud rubber roller - nice dashboard. But oh, the noise... I keep cycling a few days and see.","title":"Findings"},{"location":"ll/electronics/deskcycle/generator/#electronics-which-motor-is-the-best-generator","text":"YT finally realized what I'm interested in, getting good suggestions - instead of free energy crap... Great Scott has it all: https://www.youtube.com/watch?v=cJ_vDA7xsGs So there are geared motors, for my position3 problem above: - but lousy efficiency! DC Motors are the worst option (brushes => wearoff) Simple no worries: Stepper motor Complicated but professional: BLDC Motor with a gear box typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Electronics: Which Motor is the Best Generator"},{"location":"ll/electronics/deskcycle/intro/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Zwiftifying My DeskCycle \u00a4 The Device \u00a4 My best buy in this century: Bought it since my knee begins to hurt when I don't move it, sitting in front of the monitor all day long - and was willing to pay the price to fix that, i.e. for sure less focus for work when I cycle... But then I got it and I realized: That thing does not at all pull focus - but to the contrary. Heart rate slightly up, body not in this mode of total lethargy, with only the brain working, sooner or later backfiring... Deskcycles in School My sister, who is a teacher, told me that the positive effect on brain activity is well understood and that they introduced them within their school: In the last row already 5 of these, where each pupil may go anytime, during lessons(!) and start cycling away tensions or tiredness. First Mechanical Mods \u00a4 Appearance, Height \u00a4 Ripping off the plastic insult around it, plus adjusting the height (like to have me legs more horizontal when cycling - not so much need for click pedals then, with the inactive foot's weight not on the pedal): Desktop Shifting, While Cycling \u00a4 Next step was to reposition the shifter, which is unreachable from the desk down there and wire it up to the desk - attaching an old Shimano Ultegra Shifter: Material: Old shifting unit for the rear derailleur (any amount of gears is fine) Long gear or break cable Luster terminal (from normal household inventory) to hold the cable - the white thing in the picture (you need to have open end to get the cable through a normal bicycle shifter - the original cable did have 2 closed ends, not feasible here) Shifting Gears - Basic Principle The cable, when shortened by the shifter, pulls the magnet in the picture back from the big rotating metal wheel, reducing the power required to turn it. The spring is actually not necessary, since the magnet is attracted by the wheel. Ok, can shift like a pro now, from the desk, w/o interrupting cycling. Nais! The Problem \u00a4 I want to know what I achieved! With History and stats. Nice to have - comparison with colleagues? Zwift, basically... Zwift \u00a4 Do they offer desk cycle support? No: https://support.zwift.com/en_us/categories/what-you-need-to-ride-BJjM4TyeH https://support.zwift.com/en_us/indoor-bikes-rkRxp7Zgr Their default: Mount normal bikes on a stand, either 'direct drive' style, where the rear wheel is removed and the chain attached to a measurement unit - or a roll trainer, which measures trivially the speed of the wheel. https://www.saris.com/post/blog-smart-trainer-calibration-hot-and-cold Indoor cycles, e.g. Schwinn https://www.indoorcycling.org/schwinn-mpower-echelon-ii-konsole-mit-watt-sensor.html \"Comment: Guessing Watts by distance of magnet...\" Ob drahtlos oder verkabelt, w\u00e4re an dieser Stelle m.E. egal, denn die Konsole wird ja an/mit einem station\u00e4ren Ger\u00e4t betrieben. Dennoch finde das Echelon II maximal mittelm\u00e4ssig. Die Nachvollziehbarkeit der Watt-Anzeige ist nicht gegeben. Hier wird anhand der Einstellung der Magnetbremse die Leistung eher gesch\u00e4tzt als real gemessen . Die Watt-Leistung kann nicht an das K\u00f6rpergewicht angepasst werden, somit ist die berechnete Geschwindigkeit i.d.R. deutlich zu hoch. Vermutlich wird die Geschwindigkeit in der Ebene berechnet und die eingestellte Bremswirkung bezieht sich ehe auf den Gang als auf die Steigung der Strecke. Die Daten k\u00f6nnen ausschlie\u00dflich als csv-Daten auf einen USB-Stick gespeichert werden. Um diese Daten z.B. nach Strava zu \u00fcbernehmen, m\u00fcssen diese in tcx umgewandelt werden. Die Konsole ist besser als Nichts, aber f\u00fcr den Preis erheblich zu teuer. Einer einseitigen Watt-Mess-Kurbel, gekoppelt an eine andere Konsole, w\u00fcrde ich deutlich datentechnisch mehr vertrauen . Zudem schade, dass Echelon keine Bluetooth Schnittstelle besitzt. Ich denke, dies ist ein Auslaufprodukt, f\u00fcr dass es keinen - besseren - Nachfolger geben wird. The Vision: Ideal Solution \u00a4 We want to keep manual shifting. Can't see the benefit of shifting (only) through an app, when I can just grab the shifter and click. Computer knows cadence (RPM) AND current resistance - i.e. can calculate power. Computer can ALSO control resistance - but automatically. Use case: Imagine watching a scenic ride YT vid on mpv, where you can control the playback speed. Now get the gradient data from some cycle routes database, add that to the vid - and the computer could increase the resistance when going uphill automatically - plus adapt the playback speed according to the cadence AND the current gear Means, we need to, via Software: A) Know the manually selected gear B) Control the resistance, additionally to the selected gear Calculated speed would then depend on cadence and gear but on total power, which has to overcome the computer generated resistance as well... Out of the Box Sensor: RPM only \u00a4 They deliver a normal magnetic tacho, to measure RPMs, i.e. cadence - and only that: Apart from the problem that it cannot keep history: The problem is that those RPMs have not much to do with the power needed, to produce them. That power depends on the \"gear\" I select via the selection wheel. Which changes the distance of a magnet to the rotating wheel. There is no mechanical Translation of RPMs into higher speeds of any wheel inside: Even the market leader can NOT do it better, also sensing only RPMs - so you would have to go to their website(!) after each session, or use their app, entering the selection wheel position, to finally get to your power spent and calories burned: Reminder: We are in 2022.... Because it's expensive to measure power. Measuring power could easily add over $200 to the cost of the bike. Yes, power sensors cost well over 200 (see below), if not over 1000 if you want 2 pedals. But those are made for real cycles , i.e. with tons of constraints , which do not hold for desk cycles: ultralight ultra low battery cannot simply use gear info plus rpm (uphill, downhill out there) wireless, apps, and and and... So no - it cannot be that measuring power without those restrictions must be that expensive! Ok - how to do it. A first attempt with our voltmeter , simply measuring the volts on the wheel 1 against the magnet did show that the voltage is simply proportional to the RPMs - but not the power I need to get to those RPMS. We have to dig a bit deeper. Eddy Current Brake \u00a4 German: wirbelstrombremse https://studyflix.de/elektrotechnik/wirbelstrombremse-1644 b^2 * B^2 * v F = ------------- R With: F: Force which acts on the metal wheel, braking it b: Area of the wheel through which the magnetic field goes B: Field strength of magnetic field v: Speed of the wheel R: Electrical resistance of wheel (Ohm) Facts: R is constant. v we know from the RPM sensor B and prbly also b depend on the distance of the magnet, i.e. the current gear. We see three possibilities: A) Buy a power meter B) Know current gear selected - and find the transformation to B and b through measurements C) Keep b constant by NOT changing B mechanically - but use an electro magnet. D) Generate the Watts not into heat but into (measurable) electricity We discuss separately... \"wheel\" we denote the heavy metal wheel where the braking force is acting upon, through the magnet. \u21a9 typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Zwiftifying My DeskCycle"},{"location":"ll/electronics/deskcycle/intro/#zwiftifying-my-deskcycle","text":"","title":"Zwiftifying My DeskCycle"},{"location":"ll/electronics/deskcycle/intro/#the-device","text":"My best buy in this century: Bought it since my knee begins to hurt when I don't move it, sitting in front of the monitor all day long - and was willing to pay the price to fix that, i.e. for sure less focus for work when I cycle... But then I got it and I realized: That thing does not at all pull focus - but to the contrary. Heart rate slightly up, body not in this mode of total lethargy, with only the brain working, sooner or later backfiring... Deskcycles in School My sister, who is a teacher, told me that the positive effect on brain activity is well understood and that they introduced them within their school: In the last row already 5 of these, where each pupil may go anytime, during lessons(!) and start cycling away tensions or tiredness.","title":"The Device"},{"location":"ll/electronics/deskcycle/intro/#first-mechanical-mods","text":"","title":"First Mechanical Mods"},{"location":"ll/electronics/deskcycle/intro/#appearance-height","text":"Ripping off the plastic insult around it, plus adjusting the height (like to have me legs more horizontal when cycling - not so much need for click pedals then, with the inactive foot's weight not on the pedal):","title":"Appearance, Height"},{"location":"ll/electronics/deskcycle/intro/#desktop-shifting-while-cycling","text":"Next step was to reposition the shifter, which is unreachable from the desk down there and wire it up to the desk - attaching an old Shimano Ultegra Shifter: Material: Old shifting unit for the rear derailleur (any amount of gears is fine) Long gear or break cable Luster terminal (from normal household inventory) to hold the cable - the white thing in the picture (you need to have open end to get the cable through a normal bicycle shifter - the original cable did have 2 closed ends, not feasible here) Shifting Gears - Basic Principle The cable, when shortened by the shifter, pulls the magnet in the picture back from the big rotating metal wheel, reducing the power required to turn it. The spring is actually not necessary, since the magnet is attracted by the wheel. Ok, can shift like a pro now, from the desk, w/o interrupting cycling. Nais!","title":"Desktop Shifting, While Cycling"},{"location":"ll/electronics/deskcycle/intro/#the-problem","text":"I want to know what I achieved! With History and stats. Nice to have - comparison with colleagues? Zwift, basically...","title":"The Problem"},{"location":"ll/electronics/deskcycle/intro/#zwift","text":"Do they offer desk cycle support? No: https://support.zwift.com/en_us/categories/what-you-need-to-ride-BJjM4TyeH https://support.zwift.com/en_us/indoor-bikes-rkRxp7Zgr Their default: Mount normal bikes on a stand, either 'direct drive' style, where the rear wheel is removed and the chain attached to a measurement unit - or a roll trainer, which measures trivially the speed of the wheel. https://www.saris.com/post/blog-smart-trainer-calibration-hot-and-cold Indoor cycles, e.g. Schwinn https://www.indoorcycling.org/schwinn-mpower-echelon-ii-konsole-mit-watt-sensor.html \"Comment: Guessing Watts by distance of magnet...\" Ob drahtlos oder verkabelt, w\u00e4re an dieser Stelle m.E. egal, denn die Konsole wird ja an/mit einem station\u00e4ren Ger\u00e4t betrieben. Dennoch finde das Echelon II maximal mittelm\u00e4ssig. Die Nachvollziehbarkeit der Watt-Anzeige ist nicht gegeben. Hier wird anhand der Einstellung der Magnetbremse die Leistung eher gesch\u00e4tzt als real gemessen . Die Watt-Leistung kann nicht an das K\u00f6rpergewicht angepasst werden, somit ist die berechnete Geschwindigkeit i.d.R. deutlich zu hoch. Vermutlich wird die Geschwindigkeit in der Ebene berechnet und die eingestellte Bremswirkung bezieht sich ehe auf den Gang als auf die Steigung der Strecke. Die Daten k\u00f6nnen ausschlie\u00dflich als csv-Daten auf einen USB-Stick gespeichert werden. Um diese Daten z.B. nach Strava zu \u00fcbernehmen, m\u00fcssen diese in tcx umgewandelt werden. Die Konsole ist besser als Nichts, aber f\u00fcr den Preis erheblich zu teuer. Einer einseitigen Watt-Mess-Kurbel, gekoppelt an eine andere Konsole, w\u00fcrde ich deutlich datentechnisch mehr vertrauen . Zudem schade, dass Echelon keine Bluetooth Schnittstelle besitzt. Ich denke, dies ist ein Auslaufprodukt, f\u00fcr dass es keinen - besseren - Nachfolger geben wird.","title":"Zwift"},{"location":"ll/electronics/deskcycle/intro/#the-vision-ideal-solution","text":"We want to keep manual shifting. Can't see the benefit of shifting (only) through an app, when I can just grab the shifter and click. Computer knows cadence (RPM) AND current resistance - i.e. can calculate power. Computer can ALSO control resistance - but automatically. Use case: Imagine watching a scenic ride YT vid on mpv, where you can control the playback speed. Now get the gradient data from some cycle routes database, add that to the vid - and the computer could increase the resistance when going uphill automatically - plus adapt the playback speed according to the cadence AND the current gear Means, we need to, via Software: A) Know the manually selected gear B) Control the resistance, additionally to the selected gear Calculated speed would then depend on cadence and gear but on total power, which has to overcome the computer generated resistance as well...","title":"The Vision: Ideal Solution"},{"location":"ll/electronics/deskcycle/intro/#out-of-the-box-sensor-rpm-only","text":"They deliver a normal magnetic tacho, to measure RPMs, i.e. cadence - and only that: Apart from the problem that it cannot keep history: The problem is that those RPMs have not much to do with the power needed, to produce them. That power depends on the \"gear\" I select via the selection wheel. Which changes the distance of a magnet to the rotating wheel. There is no mechanical Translation of RPMs into higher speeds of any wheel inside: Even the market leader can NOT do it better, also sensing only RPMs - so you would have to go to their website(!) after each session, or use their app, entering the selection wheel position, to finally get to your power spent and calories burned: Reminder: We are in 2022.... Because it's expensive to measure power. Measuring power could easily add over $200 to the cost of the bike. Yes, power sensors cost well over 200 (see below), if not over 1000 if you want 2 pedals. But those are made for real cycles , i.e. with tons of constraints , which do not hold for desk cycles: ultralight ultra low battery cannot simply use gear info plus rpm (uphill, downhill out there) wireless, apps, and and and... So no - it cannot be that measuring power without those restrictions must be that expensive! Ok - how to do it. A first attempt with our voltmeter , simply measuring the volts on the wheel 1 against the magnet did show that the voltage is simply proportional to the RPMs - but not the power I need to get to those RPMS. We have to dig a bit deeper.","title":"Out of the Box Sensor: RPM only"},{"location":"ll/electronics/deskcycle/intro/#eddy-current-brake","text":"German: wirbelstrombremse https://studyflix.de/elektrotechnik/wirbelstrombremse-1644 b^2 * B^2 * v F = ------------- R With: F: Force which acts on the metal wheel, braking it b: Area of the wheel through which the magnetic field goes B: Field strength of magnetic field v: Speed of the wheel R: Electrical resistance of wheel (Ohm) Facts: R is constant. v we know from the RPM sensor B and prbly also b depend on the distance of the magnet, i.e. the current gear. We see three possibilities: A) Buy a power meter B) Know current gear selected - and find the transformation to B and b through measurements C) Keep b constant by NOT changing B mechanically - but use an electro magnet. D) Generate the Watts not into heat but into (measurable) electricity We discuss separately... \"wheel\" we denote the heavy metal wheel where the braking force is acting upon, through the magnet. \u21a9 typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Eddy Current Brake"},{"location":"ll/electronics/deskcycle/mechanical/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Know the Gear Position \u00a4 Know by passively measuring it\" \u00a4 2 Euro sensor for arduino, measuing the strength of the magnetic field, i.e. derive \"gear\" from it? No. Can only measure on or off. Even if we can measure the different steps, e.g. by measuring the extension of a simple mechanical spring: We can then never automatically change it (which would be cool to later build little apps for recycling scenic routes with hills and stuff) Know because we actively set it \u00a4 (mechanically through a motor) Someone basically rebuilt Shimano's DI2 electronic shifter: Self Made DI2 We would have to find the best electrical motor for the job (tons of options) and build a \"simple\" control circuit. There should be arduino layouts for such a thing. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Know the Gear Position"},{"location":"ll/electronics/deskcycle/mechanical/#know-the-gear-position","text":"","title":"Know the Gear Position"},{"location":"ll/electronics/deskcycle/mechanical/#know-by-passively-measuring-it","text":"2 Euro sensor for arduino, measuing the strength of the magnetic field, i.e. derive \"gear\" from it? No. Can only measure on or off. Even if we can measure the different steps, e.g. by measuring the extension of a simple mechanical spring: We can then never automatically change it (which would be cool to later build little apps for recycling scenic routes with hills and stuff)","title":"Know by passively measuring it\""},{"location":"ll/electronics/deskcycle/mechanical/#know-because-we-actively-set-it","text":"(mechanically through a motor) Someone basically rebuilt Shimano's DI2 electronic shifter: Self Made DI2 We would have to find the best electrical motor for the job (tons of options) and build a \"simple\" control circuit. There should be arduino layouts for such a thing. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Know because we actively set it"},{"location":"ll/electronics/deskcycle/powermeter/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Power Meters \u00a4 Problem 1: Those guys are freaking expensive. 4iiii seems to be the cheapest with 250$ upwards.... \u00a4 These are so expensive because of the constraints they have for real cycles: ultralight wireless energy efficient (battery) mobile apps on head units, e.g. garmin All these are of no concern on a desccycle and so I have a problem spending the money. Also: They typically come as replacement cranks - but the deskcycle cranks are shorter. Also: On a deskcyle there are not hills, there is no headwind. Only factor between cadence and power is the current gear. But clear: Should this all turn out into a success, i.e. we can measure sth. meaningful, we'll prbly. organize such a thing, in order to calibrate and compare. Problem 2: We can never change the resistance through them. \u00a4 typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Power Meters"},{"location":"ll/electronics/deskcycle/powermeter/#power-meters","text":"","title":"Power Meters"},{"location":"ll/electronics/deskcycle/powermeter/#problem-1-those-guys-are-freaking-expensive-4iiii-seems-to-be-the-cheapest-with-250-upwards","text":"These are so expensive because of the constraints they have for real cycles: ultralight wireless energy efficient (battery) mobile apps on head units, e.g. garmin All these are of no concern on a desccycle and so I have a problem spending the money. Also: They typically come as replacement cranks - but the deskcycle cranks are shorter. Also: On a deskcyle there are not hills, there is no headwind. Only factor between cadence and power is the current gear. But clear: Should this all turn out into a success, i.e. we can measure sth. meaningful, we'll prbly. organize such a thing, in order to calibrate and compare.","title":"Problem 1: Those guys are freaking expensive. 4iiii seems to be the cheapest with 250$ upwards...."},{"location":"ll/electronics/deskcycle/powermeter/#problem-2-we-can-never-change-the-resistance-through-them","text":"typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Problem 2: We can never change the resistance through them."},{"location":"ll/emacs/emacs/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Emacs \u00a4 Just a few findings - mainly for org mode Spelling \u00a4 pm -S aspell aspell-de aspell-en ispell-change-dictionary -> select e.g. en flyspell-mode (toggle on) -> all wrong words underlined now. Note: Could not change dictionary within the doc the second try, had to change like this: config.el 70:(defvar ispell-dictionary) 72:(setq ispell-dictionary \"en_US\") jj - Exit Insert Mode \u00a4 Doom already defines jk to exit insert mode, but we want also jj . (base) [root@axgk .doom.d]# vi -- +bindings.el And there: (defun my-jj () (interactive) (let* ((initial-key ?j) (final-key ?j) (timeout 0.5) (event (read-event nil nil timeout))) (if event ;; timeout met (if (and (characterp event) (= event final-key)) (evil-normal-state) (insert initial-key) (push event unread-command-events)) ;; timeout exceeded (insert initial-key)))) (define-key evil-insert-state-map (kbd \"j\") 'my-jj) Kroki - on demand \u00a4 Best way for plots - NOT eval at any export, for too slow, but rather on demand. #+begin_src sh :results raw :exports results ~/docs/latex/plot img/cred1.png <<eof actor subscriber as u1 (...) note over cpe: provisioned, locked eof #+end_src with plot a python file, executed when hitting enter on the first line: ( base ) [ root @ 95 f00130b0e0 latex ] # cat plot #!/usr/bin/env python import sys , os import base64 import zlib KROKI_ENDPOINT = 'https://kroki.io' # or axc2... class argv : typ = 'plantuml' fmt = 'svg' fn = None def die ( msg ): msg = log ( msg ) print ( msg ) sys . exit ( 0 ) # otherwise org wont' show results def log ( msg ): msg = ' ' . join ( msg ) if isinstance ( msg , ( list , tuple )) else msg os . system ( 'notify-send \" %s \"' % msg ) with open ( '/tmp/plotlog' , 'a' ) as fd : fd . write ( msg + ' \\n ' ) return msg mydir = lambda : os . path . dirname ( os . path . abspath ( __file__ )) def add_plant_style ( spec ): spec = 'skinparam backgroundcolor transparent \\n ' + spec fn = mydir () + '/plantuml_style' if os . path . exists ( fn ): with open ( fn ) as fd : spec = fd . read () + ' \\n ' + spec return spec def read_argv (): log ( sys . argv ) if not len ( sys . argv ) > 1 : die ( 'require filename of chart as first arg' ) argv . fn = f = sys . argv [ 1 ] if f . endswith ( '.png' ): argv . fmt = 'png' def main (): read_argv () spec = sys . stdin . read () if argv . typ == 'plantuml' : spec = add_plant_style ( spec ) spec = spec . encode ( 'utf-8' ) pth = base64 . urlsafe_b64encode ( zlib . compress ( spec )) . decode ( 'utf-8' ) url = '/' . join ([ KROKI_ENDPOINT , argv . typ , argv . fmt ]) log ([ 'fetching' , url ]) # pngs need binary: cmd = 'wget \" %s / %s \" -O \" %s \"' % ( url , pth , argv . fn ) cmd = ( 'mkdir -p \" %s \"; ' % os . path . dirname ( argv . fn )) + cmd os . system ( cmd ) f = argv . fn if not f [ 0 ] in ( '.' , '/' ): f = './' + f res = '[[ %s ]]' % f return res if __name__ == '__main__' : print ( main ()) typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Emacs"},{"location":"ll/emacs/emacs/#emacs","text":"Just a few findings - mainly for org mode","title":"Emacs"},{"location":"ll/emacs/emacs/#spelling","text":"pm -S aspell aspell-de aspell-en ispell-change-dictionary -> select e.g. en flyspell-mode (toggle on) -> all wrong words underlined now. Note: Could not change dictionary within the doc the second try, had to change like this: config.el 70:(defvar ispell-dictionary) 72:(setq ispell-dictionary \"en_US\")","title":"Spelling"},{"location":"ll/emacs/emacs/#jj-exit-insert-mode","text":"Doom already defines jk to exit insert mode, but we want also jj . (base) [root@axgk .doom.d]# vi -- +bindings.el And there: (defun my-jj () (interactive) (let* ((initial-key ?j) (final-key ?j) (timeout 0.5) (event (read-event nil nil timeout))) (if event ;; timeout met (if (and (characterp event) (= event final-key)) (evil-normal-state) (insert initial-key) (push event unread-command-events)) ;; timeout exceeded (insert initial-key)))) (define-key evil-insert-state-map (kbd \"j\") 'my-jj)","title":"jj - Exit Insert Mode"},{"location":"ll/emacs/emacs/#kroki-on-demand","text":"Best way for plots - NOT eval at any export, for too slow, but rather on demand. #+begin_src sh :results raw :exports results ~/docs/latex/plot img/cred1.png <<eof actor subscriber as u1 (...) note over cpe: provisioned, locked eof #+end_src with plot a python file, executed when hitting enter on the first line: ( base ) [ root @ 95 f00130b0e0 latex ] # cat plot #!/usr/bin/env python import sys , os import base64 import zlib KROKI_ENDPOINT = 'https://kroki.io' # or axc2... class argv : typ = 'plantuml' fmt = 'svg' fn = None def die ( msg ): msg = log ( msg ) print ( msg ) sys . exit ( 0 ) # otherwise org wont' show results def log ( msg ): msg = ' ' . join ( msg ) if isinstance ( msg , ( list , tuple )) else msg os . system ( 'notify-send \" %s \"' % msg ) with open ( '/tmp/plotlog' , 'a' ) as fd : fd . write ( msg + ' \\n ' ) return msg mydir = lambda : os . path . dirname ( os . path . abspath ( __file__ )) def add_plant_style ( spec ): spec = 'skinparam backgroundcolor transparent \\n ' + spec fn = mydir () + '/plantuml_style' if os . path . exists ( fn ): with open ( fn ) as fd : spec = fd . read () + ' \\n ' + spec return spec def read_argv (): log ( sys . argv ) if not len ( sys . argv ) > 1 : die ( 'require filename of chart as first arg' ) argv . fn = f = sys . argv [ 1 ] if f . endswith ( '.png' ): argv . fmt = 'png' def main (): read_argv () spec = sys . stdin . read () if argv . typ == 'plantuml' : spec = add_plant_style ( spec ) spec = spec . encode ( 'utf-8' ) pth = base64 . urlsafe_b64encode ( zlib . compress ( spec )) . decode ( 'utf-8' ) url = '/' . join ([ KROKI_ENDPOINT , argv . typ , argv . fmt ]) log ([ 'fetching' , url ]) # pngs need binary: cmd = 'wget \" %s / %s \" -O \" %s \"' % ( url , pth , argv . fn ) cmd = ( 'mkdir -p \" %s \"; ' % os . path . dirname ( argv . fn )) + cmd os . system ( cmd ) f = argv . fn if not f [ 0 ] in ( '.' , '/' ): f = './' + f res = '[[ %s ]]' % f return res if __name__ == '__main__' : print ( main ()) typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Kroki - on demand"},{"location":"ll/fun/einstein/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } A Famous Riddle & Amazing Prolog \u00a4 [2021-10-16 00;44] The Einstein puzzle (also called zebra puzzle) is the most famous logic puzzle / logical ever. Albert Einstein [1879-1955] is sometimes mentioned as the author. He allegedly stated that only 2% of the population was able to solve it. It can actually be solved by logical conclusions \u2013 even if that's not easy. Have fun! The Riddle: 5 Houses... \u00a4 Five houses stand next to each other. They are home to people of five different nationalities who drink five different drinks, smoke five different brands of cigarettes and have five different pets.\u200e The Englishman lives in the red house. The Spaniard has a dog. The Ukrainian likes to drink tea. The green house is (directly) to the left of the White House. Coffee is drunk in the green house. The person who smokes Old-Gold has a snail. The occupant of the middle house drinks milk. The occupant of the yellow house smokes Kools. The Norwegian lives in the first house. The Chesterfields smoker lives next to the person with the fox. The man with the horse lives next to the person who smokes Kools. The Lucky Strike smoker drinks orange juice. The Norwegian lives next to the blue house. The Japanese smoke Parliaments. The Chesterfields smoker has a neighbor who drinks water. Find out who owns the zebra! In Software \u00a4 As good software engineers we clearly rather hack a program than to even think about solving it using brains and stuff - even if it takes double the time :-/ The Problem \u00a4 Problem was obvious after the first attempt: Brute forcing it is too much, at least in python: There are 25 billion combinations to consider. 5 categories with 5 values each means: 120 (5 * 4 * 3 * 2 * 1) combinations per category, i.e. 120 ** 5 solution candidates, passing into the 15 constraints checker. Simple and Hard Constraints: \u00a4 So we had to group the information into 2 classes, 'easy' ones which directly lead to fast filtering of candidates. And only passing the filtered ones into the validation for the hard ones, involving neighbor-based constraints. Here is my program - not exactly elegant but with good intentions. Sorry for the German constraints, took them from elsewhere: # fmt:off from pprint import pprint # Categories (all indizes from 0): zigs , nation , drink , animal , color = range ( 5 ) # Attributes: oldgold , parliaments , luckies , chester , kools = range ( 5 ) england , spain , ukraine , norway , japan = range ( 5 ) tea , coffee , water , milk , orange = range ( 5 ) dog , horse , fox , zebra , snail = range ( 5 ) red , green , white , yellow , blue = range ( 5 ) # A 5x5x5x5x5 matrix: r = range ( 5 ); M = [[ a , b , c , d , e ] for a in r for b in r for c in r for d in r for e in r ] # fmt:on # any attrib just once: S = { 0 , 1 , 2 , 3 , 4 } # All 120 combis of an attr (5 * 4 * 3 * 2 * 1) = 120: Combis = [ i for i in M if set ( i ) == S ] def house ( H , key , val ): \"\"\"return house and position of a certain key value pair\"\"\" for p in range ( 5 ): if H [ p ][ key ] == val : return H [ p ], p def validate ( H , house = house ): \"\"\"Checking the given constraints. H a valid config. Edit: The easy ones already done via filters, commented out. Too slow otherwise. \"\"\" # Der Engl\u00e4nder lebt im roten Haus. # assert house(H, nati, england)[0][colo] == red # Der Ukrainer trinkt gern Tee. # assert house(H, nati, ukraine)[0][drnk] == tea # Der Spanier hat einen Hund. assert house ( H , nation , spain )[ 0 ][ animal ] == dog , 1 # Das gr\u00fcne Haus ist (direkt) links vom wei\u00dfen Haus. p = house ( H , color , green )[ 1 ] assert p < 4 and H [ p + 1 ][ color ] == white , 2 # Im gr\u00fcnen Haus wird Kaffee getrunken. # assert house(H, colo, green)[0][drnk] == coffee # Die Person, die Old-Gold raucht, hat eine Schnecke. assert house ( H , zigs , oldgold )[ 0 ][ animal ] == snail , 3 # Der Bewohner des mittleren Hauses trinkt Milch. # assert H[2][drnk] == milk # Der Bewohner des gelben Hauses raucht Kools. # assert house(H, colo, yellow)[0][zigs] == kools # Der Norweger wohnt im ersten Haus. # assert H[0][nati] == norway # Der Chesterfields-Raucher wohnt neben der Person mit der Fuchs. p = house ( H , zigs , chester )[ 1 ] assert ( p > 0 and H [ p - 1 ][ animal ] == fox ) or ( p < 4 and H [ p + 1 ][ animal ] == fox ), 4 # Der Lucky-Strike-Raucher trinkt Orangensaft. # assert house(H, zigs, luckies)[0][drnk] == orange # Der Norweger wohnt neben dem blauen Haus. # p = house(H, nati, norway)[1] # assert (p > 0 and H[p - 1][colo] == blue) or (p < 4 and H[p + 1][colo] == blue) # Der Japaner raucht Parliaments. # h = house(H, nati, japan)[0] # assert h[zigs] == parliaments # Der Chesterfields-Raucher hat einen Nachbarn, der Wasser trinkt. p = house ( H , zigs , chester )[ 1 ] assert ( p > 0 and H [ p - 1 ][ drink ] == water ) or ( p < 4 and H [ p + 1 ][ drink ] == water ), 6 # Der Mann mit dem Pferd lebt neben der Person, die Kools raucht. p = house ( H , animal , horse )[ 1 ] assert ( p > 0 and H [ p - 1 ][ zigs ] == kools ) or ( p < 4 and H [ p + 1 ][ zigs ] == kools ), 7 def main (): for nation in Combis : if not nation [ 0 ] == norway : continue for cig in Combis : if not cig [ nation . index ( japan )] == parliaments : continue for drink in Combis : # mittleres haus = milk if not drink [ 2 ] == milk : continue if not drink [ nation . index ( ukraine )] == tea : continue # Der Lucky-Strike-Raucher trinkt Orangensaft. if not drink [ cig . index ( luckies )] == orange : continue for color in Combis : # norweger (at 0) neben blauem haus: if not color [ 1 ] == blue : continue # gelbes house: kools if not cig [ color . index ( yellow )] == kools : continue # englaender in rotem: if not color [ nation . index ( england )] == red : continue # Im gr\u00fcnen Haus wird Kaffee getrunken. if not drink [ color . index ( green )] == coffee : continue for animal in Combis : candidate = [ [ cig [ i ], nation [ i ], drink [ i ], animal [ i ], color [ i ],] for i in range ( 5 ) ] try : validate ( candidate ) return candidate except AssertionError : pass if __name__ == '__main__' : h = main () print ( 'Attribs (all indices from 0):' ) c = open ( __file__ ) . read () . split ( ' \\n ' , 3 )[ 3 ] . split ( '# A ' , 1 )[ 0 ] print ( c . replace ( '= range(5)' , '' )) print ( 'Solution:' ) pprint ( h ) print ( 'Zebra at: ' , house ( h , animal , zebra )) Runtime now is pretty fast: ~/Dow/pypy3.8-v7.3.6-linux64 \u276f time bin/pypy3 einstein.py Attribs ( all indices from 0 ) : zigs, nation, drink, animal, color # Attributes: oldgold , parliaments , luckies , chester , kools england , spain , ukraine , norway , japan tea , coffee , water , milk , orange dog , horse , fox , zebra , snail red , green , white , yellow , blue Solution: [[ 4 , 3 , 2 , 2 , 3 ] , [ 3 , 2 , 0 , 1 , 4 ] , [ 0 , 0 , 3 , 4 , 0 ] , [ 1 , 4 , 1 , 3 , 1 ] , [ 2 , 1 , 4 , 0 , 2 ]] Zebra at: ([ 1 , 4 , 1 , 3 , 1 ] , 3 ) bin/pypy3 einstein.py 0 .13s user 0 .02s system 99 % cpu 0 .156 total In CPython: 0.58s, matching pypy's claimed 4 times speed up on average. => The Japanese (nation=4) has the zebra, in the 4.th house (idx=3). Fascinating Prolog \u00a4 The riddle actually is a fantastic candidate for declarative programming. Look at this implementation, in admiration: % A steht links neben B leftof ( A , B , [ A , B | _ ]). leftof ( A , B , [ _ | R ]) :- leftof ( A , B , R ). % A steht neben B nextto ( A , B , H ) :- leftof ( A , B , H ); leftof ( B , A , H ). % A ist das erste Haus first ( A , [ A | _ ]). % A steht in der Mitte inthemiddle ( A , [ _ , _ , A , _ , _ ]). % Das Raetsel einstein :- % 5 Haeuser stehen nebeneinander. H = [ _ , _ , _ , _ , _ ], % Der Englaender lebt im roten Haus. member ([ englaender , rot , _ , _ , _ ], H ), % Der Spanier hat einen Hund. member ([ spanier , _ , hund , _ , _ ], H ), % Der Ukrainer trinkt gern Tee. member ([ ukrainer , _ , _ , tee , _ ], H ), % Das gruene Haus ist (direkt) links vom weissen Haus. leftof ([ _ , gruen , _ , _ , _ ], [ _ , weiss , _ , _ , _ ], H ), % Im gruenen Haus wird Kaffee getrunken. member ([ _ , gruen , _ , kaffee , _ ], H ), % Die Person, die Old-Gold raucht, hat eine Schnecke. member ([ _ , _ , schnecke , _ , oldgold ], H ), % Der Bewohner des mittleren Hauses trinkt Milch. inthemiddle ([ _ , _ , _ , milch , _ ], H ), % Der Bewohner des gelben Hauses raucht Kools. member ([ _ , gelb , _ , _ , kools ], H ), % Der Norweger wohnt im ersten Haus. first ([ norweger , _ , _ , _ , _ ], H ), % Der Chesterfields-Raucher wohnt neben der Person mit % der Fuchs. nextto ([ _ , _ , _ , _ , chesterfields ], [ _ , _ , fuchs , _ , _ ], H ), % Der Mann mit dem Pferd lebt neben der Person, die % Kools raucht. nextto ([ _ , _ , pferd , _ , _ ], [ _ , _ , _ , _ , kools ], H ), % Der Lucky-Strike-Raucher trinkt Orangensaft. member ([ _ , _ , _ , orangensaft , luckystrike ], H ), % Der Norweger wohnt neben dem blauen Haus. nextto ([ norweger , _ , _ , _ , _ ], [ _ , blau , _ , _ , _ ], H ), % Der Japaner raucht Parliaments. member ([ japaner , _ , _ , _ , parliaments ], H ), % Der Chesterfields-Raucher hat einen Nachbarn, der Wasser % trinkt. nextto ([ _ , _ , _ , _ , chesterfields ], [ _ , _ , _ , wasser , _ ], H ), % Wem gehoert das Zebra? member ([ N , _ , zebra , _ , _ ], H ), write ( 'Der ' ), write ( N ), write ( '\\n' ), write ( H ), write ( ' haelt das Zebra.' ), !. That's it. Amazing! typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Einstein"},{"location":"ll/fun/einstein/#a-famous-riddle-amazing-prolog","text":"[2021-10-16 00;44] The Einstein puzzle (also called zebra puzzle) is the most famous logic puzzle / logical ever. Albert Einstein [1879-1955] is sometimes mentioned as the author. He allegedly stated that only 2% of the population was able to solve it. It can actually be solved by logical conclusions \u2013 even if that's not easy. Have fun!","title":"A Famous Riddle &amp; Amazing Prolog"},{"location":"ll/fun/einstein/#the-riddle-5-houses","text":"Five houses stand next to each other. They are home to people of five different nationalities who drink five different drinks, smoke five different brands of cigarettes and have five different pets.\u200e The Englishman lives in the red house. The Spaniard has a dog. The Ukrainian likes to drink tea. The green house is (directly) to the left of the White House. Coffee is drunk in the green house. The person who smokes Old-Gold has a snail. The occupant of the middle house drinks milk. The occupant of the yellow house smokes Kools. The Norwegian lives in the first house. The Chesterfields smoker lives next to the person with the fox. The man with the horse lives next to the person who smokes Kools. The Lucky Strike smoker drinks orange juice. The Norwegian lives next to the blue house. The Japanese smoke Parliaments. The Chesterfields smoker has a neighbor who drinks water. Find out who owns the zebra!","title":"The Riddle: 5 Houses..."},{"location":"ll/fun/einstein/#in-software","text":"As good software engineers we clearly rather hack a program than to even think about solving it using brains and stuff - even if it takes double the time :-/","title":"In Software"},{"location":"ll/fun/einstein/#the-problem","text":"Problem was obvious after the first attempt: Brute forcing it is too much, at least in python: There are 25 billion combinations to consider. 5 categories with 5 values each means: 120 (5 * 4 * 3 * 2 * 1) combinations per category, i.e. 120 ** 5 solution candidates, passing into the 15 constraints checker.","title":"The Problem"},{"location":"ll/fun/einstein/#simple-and-hard-constraints","text":"So we had to group the information into 2 classes, 'easy' ones which directly lead to fast filtering of candidates. And only passing the filtered ones into the validation for the hard ones, involving neighbor-based constraints. Here is my program - not exactly elegant but with good intentions. Sorry for the German constraints, took them from elsewhere: # fmt:off from pprint import pprint # Categories (all indizes from 0): zigs , nation , drink , animal , color = range ( 5 ) # Attributes: oldgold , parliaments , luckies , chester , kools = range ( 5 ) england , spain , ukraine , norway , japan = range ( 5 ) tea , coffee , water , milk , orange = range ( 5 ) dog , horse , fox , zebra , snail = range ( 5 ) red , green , white , yellow , blue = range ( 5 ) # A 5x5x5x5x5 matrix: r = range ( 5 ); M = [[ a , b , c , d , e ] for a in r for b in r for c in r for d in r for e in r ] # fmt:on # any attrib just once: S = { 0 , 1 , 2 , 3 , 4 } # All 120 combis of an attr (5 * 4 * 3 * 2 * 1) = 120: Combis = [ i for i in M if set ( i ) == S ] def house ( H , key , val ): \"\"\"return house and position of a certain key value pair\"\"\" for p in range ( 5 ): if H [ p ][ key ] == val : return H [ p ], p def validate ( H , house = house ): \"\"\"Checking the given constraints. H a valid config. Edit: The easy ones already done via filters, commented out. Too slow otherwise. \"\"\" # Der Engl\u00e4nder lebt im roten Haus. # assert house(H, nati, england)[0][colo] == red # Der Ukrainer trinkt gern Tee. # assert house(H, nati, ukraine)[0][drnk] == tea # Der Spanier hat einen Hund. assert house ( H , nation , spain )[ 0 ][ animal ] == dog , 1 # Das gr\u00fcne Haus ist (direkt) links vom wei\u00dfen Haus. p = house ( H , color , green )[ 1 ] assert p < 4 and H [ p + 1 ][ color ] == white , 2 # Im gr\u00fcnen Haus wird Kaffee getrunken. # assert house(H, colo, green)[0][drnk] == coffee # Die Person, die Old-Gold raucht, hat eine Schnecke. assert house ( H , zigs , oldgold )[ 0 ][ animal ] == snail , 3 # Der Bewohner des mittleren Hauses trinkt Milch. # assert H[2][drnk] == milk # Der Bewohner des gelben Hauses raucht Kools. # assert house(H, colo, yellow)[0][zigs] == kools # Der Norweger wohnt im ersten Haus. # assert H[0][nati] == norway # Der Chesterfields-Raucher wohnt neben der Person mit der Fuchs. p = house ( H , zigs , chester )[ 1 ] assert ( p > 0 and H [ p - 1 ][ animal ] == fox ) or ( p < 4 and H [ p + 1 ][ animal ] == fox ), 4 # Der Lucky-Strike-Raucher trinkt Orangensaft. # assert house(H, zigs, luckies)[0][drnk] == orange # Der Norweger wohnt neben dem blauen Haus. # p = house(H, nati, norway)[1] # assert (p > 0 and H[p - 1][colo] == blue) or (p < 4 and H[p + 1][colo] == blue) # Der Japaner raucht Parliaments. # h = house(H, nati, japan)[0] # assert h[zigs] == parliaments # Der Chesterfields-Raucher hat einen Nachbarn, der Wasser trinkt. p = house ( H , zigs , chester )[ 1 ] assert ( p > 0 and H [ p - 1 ][ drink ] == water ) or ( p < 4 and H [ p + 1 ][ drink ] == water ), 6 # Der Mann mit dem Pferd lebt neben der Person, die Kools raucht. p = house ( H , animal , horse )[ 1 ] assert ( p > 0 and H [ p - 1 ][ zigs ] == kools ) or ( p < 4 and H [ p + 1 ][ zigs ] == kools ), 7 def main (): for nation in Combis : if not nation [ 0 ] == norway : continue for cig in Combis : if not cig [ nation . index ( japan )] == parliaments : continue for drink in Combis : # mittleres haus = milk if not drink [ 2 ] == milk : continue if not drink [ nation . index ( ukraine )] == tea : continue # Der Lucky-Strike-Raucher trinkt Orangensaft. if not drink [ cig . index ( luckies )] == orange : continue for color in Combis : # norweger (at 0) neben blauem haus: if not color [ 1 ] == blue : continue # gelbes house: kools if not cig [ color . index ( yellow )] == kools : continue # englaender in rotem: if not color [ nation . index ( england )] == red : continue # Im gr\u00fcnen Haus wird Kaffee getrunken. if not drink [ color . index ( green )] == coffee : continue for animal in Combis : candidate = [ [ cig [ i ], nation [ i ], drink [ i ], animal [ i ], color [ i ],] for i in range ( 5 ) ] try : validate ( candidate ) return candidate except AssertionError : pass if __name__ == '__main__' : h = main () print ( 'Attribs (all indices from 0):' ) c = open ( __file__ ) . read () . split ( ' \\n ' , 3 )[ 3 ] . split ( '# A ' , 1 )[ 0 ] print ( c . replace ( '= range(5)' , '' )) print ( 'Solution:' ) pprint ( h ) print ( 'Zebra at: ' , house ( h , animal , zebra )) Runtime now is pretty fast: ~/Dow/pypy3.8-v7.3.6-linux64 \u276f time bin/pypy3 einstein.py Attribs ( all indices from 0 ) : zigs, nation, drink, animal, color # Attributes: oldgold , parliaments , luckies , chester , kools england , spain , ukraine , norway , japan tea , coffee , water , milk , orange dog , horse , fox , zebra , snail red , green , white , yellow , blue Solution: [[ 4 , 3 , 2 , 2 , 3 ] , [ 3 , 2 , 0 , 1 , 4 ] , [ 0 , 0 , 3 , 4 , 0 ] , [ 1 , 4 , 1 , 3 , 1 ] , [ 2 , 1 , 4 , 0 , 2 ]] Zebra at: ([ 1 , 4 , 1 , 3 , 1 ] , 3 ) bin/pypy3 einstein.py 0 .13s user 0 .02s system 99 % cpu 0 .156 total In CPython: 0.58s, matching pypy's claimed 4 times speed up on average. => The Japanese (nation=4) has the zebra, in the 4.th house (idx=3).","title":"Simple and Hard Constraints:"},{"location":"ll/fun/einstein/#fascinating-prolog","text":"The riddle actually is a fantastic candidate for declarative programming. Look at this implementation, in admiration: % A steht links neben B leftof ( A , B , [ A , B | _ ]). leftof ( A , B , [ _ | R ]) :- leftof ( A , B , R ). % A steht neben B nextto ( A , B , H ) :- leftof ( A , B , H ); leftof ( B , A , H ). % A ist das erste Haus first ( A , [ A | _ ]). % A steht in der Mitte inthemiddle ( A , [ _ , _ , A , _ , _ ]). % Das Raetsel einstein :- % 5 Haeuser stehen nebeneinander. H = [ _ , _ , _ , _ , _ ], % Der Englaender lebt im roten Haus. member ([ englaender , rot , _ , _ , _ ], H ), % Der Spanier hat einen Hund. member ([ spanier , _ , hund , _ , _ ], H ), % Der Ukrainer trinkt gern Tee. member ([ ukrainer , _ , _ , tee , _ ], H ), % Das gruene Haus ist (direkt) links vom weissen Haus. leftof ([ _ , gruen , _ , _ , _ ], [ _ , weiss , _ , _ , _ ], H ), % Im gruenen Haus wird Kaffee getrunken. member ([ _ , gruen , _ , kaffee , _ ], H ), % Die Person, die Old-Gold raucht, hat eine Schnecke. member ([ _ , _ , schnecke , _ , oldgold ], H ), % Der Bewohner des mittleren Hauses trinkt Milch. inthemiddle ([ _ , _ , _ , milch , _ ], H ), % Der Bewohner des gelben Hauses raucht Kools. member ([ _ , gelb , _ , _ , kools ], H ), % Der Norweger wohnt im ersten Haus. first ([ norweger , _ , _ , _ , _ ], H ), % Der Chesterfields-Raucher wohnt neben der Person mit % der Fuchs. nextto ([ _ , _ , _ , _ , chesterfields ], [ _ , _ , fuchs , _ , _ ], H ), % Der Mann mit dem Pferd lebt neben der Person, die % Kools raucht. nextto ([ _ , _ , pferd , _ , _ ], [ _ , _ , _ , _ , kools ], H ), % Der Lucky-Strike-Raucher trinkt Orangensaft. member ([ _ , _ , _ , orangensaft , luckystrike ], H ), % Der Norweger wohnt neben dem blauen Haus. nextto ([ norweger , _ , _ , _ , _ ], [ _ , blau , _ , _ , _ ], H ), % Der Japaner raucht Parliaments. member ([ japaner , _ , _ , _ , parliaments ], H ), % Der Chesterfields-Raucher hat einen Nachbarn, der Wasser % trinkt. nextto ([ _ , _ , _ , _ , chesterfields ], [ _ , _ , _ , wasser , _ ], H ), % Wem gehoert das Zebra? member ([ N , _ , zebra , _ , _ ], H ), write ( 'Der ' ), write ( N ), write ( '\\n' ), write ( H ), write ( ' haelt das Zebra.' ), !. That's it. Amazing! typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Fascinating Prolog"},{"location":"ll/fun/unblockme/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } UnblockMe or: Depth First vs. Breadth First \u00a4 [2021-12-14 11:01] During a longer period of illness, which bound me to my bed for a few weeks, gaming on the mobile phone became the preferred time killer. Besides chess (which required a bit too much energy, given my state), I became a big fan of this game: It can get surprisingly hard in export mode and you may well spend a day in finding a solution for single puzzle (e.g.: try 605) - you often can't imagine how it could even be possible. Also having solved one, will in no way guarantee you could do it again... Variations are e.g. this game: When I somewhat recovered physically, I was looking into solver algorithms for the game. It will be a bit more tedious than this one ;-) import random input ( \"Rock, paper, scissors? - r p s: \" ) print ( random . choice ([ \"You win\" , \"You loose\" , \"It's a draw\" ])) Source Code \u00a4 Here all the programs we discuss below: UnblockMe, DFS is here UnblockMe, BFS, single cell moves is here UnblockMe, BFS, multi cell moves is here Klotski DFS is here Klotski BFS is here All the files can be run standalone (make them executable) and require no libs. They have to be edited in their config section, in order to configure new initial board states. Example: # save the file locally, then run: ~/repos/blog/docs/ll/fun/unblockme\u276f ./unblockme.py Start State: 23444 23 56 21156 778 6 899 aabb next move: 1 breadth is: 1 next move: 2 breadth is: 5 next move: 3 breadth is: 14 ( ... ) Solved in 32 moves ( producing 3288 States ) . Took 4 .68sec. Initial Read \u00a4 Check this for the principal difference between a dept first (DFS) and breadth first (BFS) approach, when solving such kinds of problems. Depth First (DFS) Approach \u00a4 Not knowing how intense it will be on resources I tried first a depth first algo, since it is a low memory approach: Looking at a certain board state, pick the first possible move, which results in a new board state Play it, i.e. move the piece Go to 1 Backtracking: When there are NO possible moves which result in a new board state, undo the move, which led to position at 1. Solution: Every NEW board state we check if it is the solution, i.e. if there is nothing between the red piece and the exit. Example: Say the solution is to do the 3rd possible, then the second possible move we might end at having tried these: Nr 12 would be the solution in the example, where we stop, having backtracked 2 times back to the initial config. What do we need for such an approach: Ingredients \u00a4 Config \u00a4 We need a way to tell the computer the initial state. Straightforwardly we picked a 2-D Matrix, and simply number the pieces from 1- piece count , where 1 must be the red piece to be freed. From that we then can instantiate a Piece dataclass, for every piece found on the board: Example: Board Config Parsed Pieces board_605 = [ [ 2 , 3 , 4 , 4 , 4 , 0 ] , [ 2 , 3 , 0 , 5 , 6 , 0 ] , [ 2 , 1 , 1 , 5 , 6 , 0 ] , [ 7 , 7 , 8 , 0 , 6 , 0 ] , [ 0 , 0 , 8 , 9 , 9 , 0 ] , [ 0 , 10 , 10 , 11 , 11 , 0 ] , ] ( Pdb ) pp pieces { 1 : Piece ( nr = 1 , row = 2 , col = 3 , len = 2 , dir = 'h' ), 2 : Piece ( nr = 2 , row = 0 , col = 0 , len = 2 , dir = 'h' ), 3 : Piece ( nr = 3 , row = 0 , col = 2 , len = 3 , dir = 'v' ), 4 : Piece ( nr = 4 , row = 0 , col = 4 , len = 2 , dir = 'v' ), 5 : Piece ( nr = 5 , row = 0 , col = 5 , len = 3 , dir = 'v' ), 6 : Piece ( nr = 6 , row = 3 , col = 4 , len = 2 , dir = 'h' ), 7 : Piece ( nr = 7 , row = 3 , col = 3 , len = 3 , dir = 'v' ), 8 : Piece ( nr = 8 , row = 4 , col = 1 , len = 2 , dir = 'h' ), 9 : Piece ( nr = 9 , row = 3 , col = 0 , len = 2 , dir = 'v' )} Main Loop \u00a4 Code print ( 'Start State:' ) print_board () register_pieces () have_new_state () # indexes the initial state while True : check_solved () if not next_move (): # when this is False we have x, -x as the last 2 moves (indicating taking # back the last move did not lead to new states) -> we then remove those 2, # so we take back the last but one move - until we have new state again: while not take_last_move_back (): moves . pop () moves . pop () https://github.com/AXGKl/blog/blob/master/docs/ll/fun/unblockme/unblockme_deep.py#L355 where next_move is like: Code def next_move (): for nr in range ( 1 , len ( pieces ) + 1 ): p = pieces [ nr ] # print(p) if p . go_left_if_new_state () or p . go_right_if_new_state (): return True https://github.com/AXGKl/blog/blob/master/docs/ll/fun/unblockme/unblockme_deep.py#L323 State Indexing \u00a4 The algo depends on knowing if a board state had been reached before, i.e. all reached states have to be kept in a set in memory, in a comparable form. We simply concat the top left position of the pieces into a string: Code def calc_state (): \"\"\"get a unique id per board(=pieces) state\"\"\" s = '' for nr in range ( 1 , len ( pieces ) + 1 ): p = pieces [ nr ] row , col = p . row , p . col s += f ' { nr }{ row }{ col } :' # if nr == 5 and row == 2: breakpoint() # FIXME BREAKPOINT return s def have_new_state (): s = calc_state () if not s in states : states . add ( s ) return True https://github.com/AXGKl/blog/blob/master/docs/ll/fun/unblockme/unblockme_deep.py#L286 which produces states like these: ( Pdb ) pp states { '121:200:301:402:513:614:730:832:943:1051:1153:' , '121:200:301:402:523:614:730:832:943:1051:1153:' , '121:200:301:403:513:614:730:832:943:1051:1153:' , '121:200:301:403:523:614:730:832:943:1051:1153:' , ... Tree Traversal Path \u00a4 Also, in order to backtrack , we have to remember the moves we did up to a certain state: This we do efficiently only by putting the moved piece into an array, e.g. ( Pdb ) pp moves [ 4 , 5 , - 4 , 9 , 4 ] where -4 means we moved piece nr 4 left or up (dependend on if it is a horizontal or vertical piece), while +4 means right or down. In the example (which is from the above shown board 605) we moved piece nr 4 one right then 5 one down then 4 one left then 9 one right then 4 one right (you might already anticipate the major problem with this DFS approach) When we have to backtrack (undo), we simply move the piece into the opposite direction, switching off the state comparison part in dev move , via a global undo_mode boolean. Note Any move is just moving a piece one cell in the matrix. Printing the Board, Showing the Move \u00a4 Using some ansi colors, and turning two digit piece numbers into letters (a=10, b=11, ...) we can nicely visualize the board and the move (background color dark purple then): Here the example from above: Runtime Behaviour \u00a4 Output \u00a4 Discussion \u00a4 Good: The solution is found by this algorithm. It is very fast Nearly no memory required (solely the moves array increases by an integer, per move, plus all indexed states) Bad: Way too many (unnecessary) moves: Note Here the backtracking moves are already eliminated, i.e. every single one of this 1745 moves produced a unique (but often unnecessary) state. Breadth First: Attempt 1 \u00a4 To find a solution with a minimum number of moves, DFS cannot work. We would have to try every single possible path. So we changed to algo to BFS: From a given state, try every possible move, which produces new state For any of these, go back to 1 (checking if solved after each move). No backtracking involved here. Sounds simple, is harder. New Ingredients \u00a4 Main Loop \u00a4 Code def all_states_one_move_deeper (): global board last_states = tree [ - 1 ] print ( 'next move: ' , len ( tree )) print ( 'breadth is: ' , len ( last_states )) next_states = [] for s in last_states : ns = s [ 'next_states' ] for state in ns : state = state [ 'board' ] possbl_mov = [] for nr in range ( 1 , len ( pieces ) + 1 ): board = clone_state ( state ) register_pieces () p = pieces [ nr ] r = p . go_left_if_new_state () if r : possbl_mov . append ({ 'board' : clone_state ( board ), 'nr' : nr }) check_solved ( state ) board = clone_state ( state ) register_pieces () p = pieces [ nr ] r = p . go_right_if_new_state () if r : possbl_mov . append ({ 'board' : clone_state ( board ), 'nr' : nr }) check_solved ( state ) if possbl_mov : next_states . append ({ 'next_states' : possbl_mov , 'prev' : state }) if next_states : tree . append ( next_states ) else : print ( 'no solution' ) sys . exit ( 1 ) def main (): print ( 'Start State:' ) print_board () register_pieces () tree . append ([{ 'prev' : None , 'next_states' : [{ 'board' : board , 'nr' : 0 }]}]) while True : all_states_one_move_deeper () https://github.com/AXGKl/blog/blob/master/docs/ll/fun/unblockme/unblockme_breadth_first_single_moves.py#L341 Printing the Solution \u00a4 Since BFS should find the ideal solution we can print all moves to it at the end: Code def print_solution ( prev , sec ): move_nr = len ( tree ) + 1 old_piece = - 1 nr_moves = len ( tree ) while tree : move_nr -= 1 moves = tree . pop () try : for move in moves : ns = move [ 'next_states' ] for state in ns : if state [ 'board' ] == prev : piece = state [ 'nr' ] if piece == old_piece : # a piece is moved over > 1 cells, this counts as ONE move: # adding 1 will result in us reporting one move less then: move_nr += 1 print ( 'move ' , move_nr , piece ) print_board ( prev , piece ) prev = move [ 'prev' ] old_piece = piece raise print ( 'No solution found' ) sys . exit ( 1 ) except : pass lmoves = nr_moves - move_nr lstates = len ( states ) print ( f 'Solved in { lmoves } moves (producing { lstates } States). Took { sec } sec.' ) https://github.com/AXGKl/blog/blob/master/docs/ll/fun/unblockme/unblockme_breadth_first_single_moves.py#L307 This walks the tree (with last entry the solution) like this: pop the last move print the one, which state is referred to as prev state from the previously printed I.e. it will print the solution moves, bottom up, starting from the solution. Also, since in the real game, a move over TWO cells counts as ONE move (while we have only single cell moves), we detect those multiple moves with one piece in that print out routine, adding 1 to the move number - in the example this results in 11 eliminated multiple moves with one piece. Runtime Behaviour \u00a4 Output \u00a4 Discussion \u00a4 Good: FAR less moves than DFS (38 instead of 1745). Bad: Far bigger solving time (3.6 sec vs 0.17 for DFS) Far more memory required, since we have to now keep all the board configs in memory: Until the solution found, we do not know which path will be the successful one... It is still not perfect \u00a4 Trying the solution within the real game, we got only 2 stars - well done but not the perfect one found - which is 32 and not 38 moves. Why. Well, looking at the first moves we see the answer. It moves piece 5 down one cell then 9 right one cell then, with 9 removed from the column of 5, 5 again down one cell which is 3 moves to a certain state in the successful path. while moving first 9 right, then 5 down 2 cells would be only 2 moves to the same state. Why did it not find that, what prevented it. Answer (after debugging) - check the terminal output of the solution shown above: In move 1 it did also register the move 9 right Then in move 2 it started with the board in state after 5 down one (and 9 in orig place), found 9 right and remembered the state Then in move 2 it tried new moves after 9 right first, found 5 down one - and stopped. Since that state was already indexed. 5 down 2 cells was therefore not even tried. So: Our single cell approach is the problem. We cannot, in the main loop, move only single cells and then eliminate double moves only at solution printout. We must cover multi cell moves already in the main loop. Breadth First: Attempt 2 \u00a4 This is the right approach: Code def all_states_one_move_deeper (): global board last_states = tree [ - 1 ] print ( 'next move: ' , len ( tree )) print ( 'breadth is: ' , sum ([ len ( k [ 'next_states' ]) for k in last_states ])) next_states = [] for s in last_states : ns = s [ 'next_states' ] for state in ns : state = state [ 'board' ] possbl_mov = [] for nr in range ( 1 , len ( pieces ) + 1 ): # if not nr in (12,): continue for dir in 'go_left_if_new_state' , 'go_right_if_new_state' : count = 0 while True : board = clone_state ( state ) register_pieces () p = pieces [ nr ] count += 1 mv = getattr ( p , dir ) r = mv ( count ) if r == None : break if r == False : continue check_solved ( state , nr ) possbl_mov . append ( { 'board' : clone_state ( board ), 'nr' : nr , 'count' : count } ) if possbl_mov : next_states . append ({ 'next_states' : possbl_mov , 'prev' : state }) if next_states : tree . append ( next_states ) else : print ( 'no solution' ) sys . exit ( 1 ) def main (): print ( 'Start State:' ) print_board () register_pieces () have_new_state () # register initial state tree . append ([{ 'prev' : None , 'next_states' : [{ 'board' : board , 'nr' : 0 }]}]) while True : all_states_one_move_deeper () https://github.com/AXGKl/blog/blob/master/docs/ll/fun/unblockme/unblockme.py#L366 Here, we try move to a certain direction not just one cell but as many cells as possible, on the board, for a given overall move number. Means: This increases the width of every move yet more: E.g. in our example, for the second move, based upon first (previous) number 9 right one cell, we have nr 5 down one AND 5 down two cells as possible single move continuations now. Runtime Behaviour \u00a4 Output \u00a4 (9 right is now first move, 5 completely down only in move 5) Discussion \u00a4 Good: Finds the perfect solution, confirmed by replaying the solution in the real game. Bad: Yet more CPU, we are at 4.8 sec vs 0.17 DFS) and yet more memory (breadth is even higher) Klotski \u00a4 Normal Version \u00a4 Having the basic algo in place, we tried it on a variant of the game (actually it seems the original): Big difference to UnblockMe: Pieces can now be moved into any direction: So the main loop basically identical to unblockme's optimal solution bfs: Code def all_states_one_move_deeper (): global board last_states = tree [ - 1 ] print ( 'next move: ' , len ( tree )) print ( 'breadth is: ' , sum ([ len ( k [ 'next_states' ]) for k in last_states ])) print ( 'board states: ' , len ( states )) next_states = [] for s in last_states : ns = s [ 'next_states' ] for state in ns : state = state [ 'board' ] possbl_mov = [] for nr in range ( 1 , len ( pieces ) + 1 ): # try any direction: for dir in ( 1 , 0 ), ( - 1 , 0 ), ( 0 , 1 ), ( 0 , - 1 ): count = 0 while True : board = clone_state ( state ) register_pieces () p = pieces [ nr ] count += 1 r = p . move ( dir [ 0 ], dir [ 1 ], count ) if r == None : break if r == False : continue check_solved ( state , nr ) possbl_mov . append ( { 'board' : clone_state ( board ), 'nr' : nr , 'count' : count } ) if possbl_mov : next_states . append ({ 'next_states' : possbl_mov , 'prev' : state }) if next_states : tree . append ( next_states ) else : print ( 'no solution' ) sys . exit ( 1 ) def main (): print ( 'Start State:' ) print_board () register_pieces () have_new_state () # register initial state tree . append ([{ 'prev' : None , 'next_states' : [{ 'board' : board , 'nr' : 0 }]}]) while True : all_states_one_move_deeper () https://github.com/AXGKl/blog/blob/master/docs/ll/fun/unblockme/klotski.py#L299 Challenges \u00a4 But the run time got huge, with a crazy high breadth. We tackled that by using another indexing method, where a state is considered identical to another if pieces with only the same dimensions reside on the same places - not necessarily with their piece number matching: [[ 2 , 3 , 0 ], [ 1 , 1 , 0 ]] # is considered ident to [[ 3 , 2 , 0 ], [ 1 , 1 , 0 ]] The solution to this problem requires 91 moves(!): Klotski - Hard Version \u00a4 If this wasn't hard enough, there is also an expert version of the game: Initial board setup varies, had also e.g. this: board_hard1 = [ [ 2 , 1 , 1 , 3 , 4 , 4 ], [ 2 , 1 , 1 , 5 , 6 , 6 ], [ 7 , 8 , 10 , 11 , 12 , 13 ], [ 7 , 9 , 10 , 14 , 15 , 16 ], [ 17 , 17 , 18 , 19 , 20 , 16 ], [ 24 , 24 , 25 , 19 , 21 , 22 ], [ 24 , 24 , 0 , 0 , 23 , 22 ], ] Challenges: BFS not feasible \u00a4 The bfs code code in general did not need any changes, except an adjustment of solved_row , solved_col . Problem: Computing time was not tolerable. With so many pieces on the board, possibilities to move them around, i.e. breadth, exploded: (...) next move: 12 breadth is: 1893 board states: 4987 time 45.87 sec next move: 13 breadth is: 2901 board states: 7888 time 74.44 sec next move: 14 breadth is: 4482 board states: 12370 time 117.52 sec next move: 15 breadth is: 7062 board states: 19432 time 184.78 sec (...) We did not profile and the code is rater inefficient, grown from the pretty fast DFS algo into BFS. But an optimization would need orders of magnitude improvement, which I did not go into. I assume I would need to change programming language for finding that in bearable time. Rather I tried DFS with this, in order to see if it also performs. And it did: Result: 0.4 seconds - unexpectedly fast, after having to interrupt the bfs version for resource problems. Over 8000 moves is, I assume, an order of magnitude too high, compared to the (unknown) perfect solution (remember: the normal version had 91 for perfect, here we'll have at least 5-10 times as many). Important In klotzki expert mode, BFS was not even feasible, while DFS found a solution in less then half a second. Summary \u00a4 For the given class of problems DFS is: easier to program light on resources, i.e. super fast finds a solution guaranteed. But that solution will be FAR from the optimal one BFS is pretty resource intense (CPU and memory) - but will find the perfect solution, given we consider really every possible move, for a certain step (e.g. not just single cell moves in UnblockMe). typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"UnblockMe"},{"location":"ll/fun/unblockme/#unblockme-or-depth-first-vs-breadth-first","text":"[2021-12-14 11:01] During a longer period of illness, which bound me to my bed for a few weeks, gaming on the mobile phone became the preferred time killer. Besides chess (which required a bit too much energy, given my state), I became a big fan of this game: It can get surprisingly hard in export mode and you may well spend a day in finding a solution for single puzzle (e.g.: try 605) - you often can't imagine how it could even be possible. Also having solved one, will in no way guarantee you could do it again... Variations are e.g. this game: When I somewhat recovered physically, I was looking into solver algorithms for the game. It will be a bit more tedious than this one ;-) import random input ( \"Rock, paper, scissors? - r p s: \" ) print ( random . choice ([ \"You win\" , \"You loose\" , \"It's a draw\" ]))","title":"UnblockMe or: Depth First vs. Breadth First"},{"location":"ll/fun/unblockme/#source-code","text":"Here all the programs we discuss below: UnblockMe, DFS is here UnblockMe, BFS, single cell moves is here UnblockMe, BFS, multi cell moves is here Klotski DFS is here Klotski BFS is here All the files can be run standalone (make them executable) and require no libs. They have to be edited in their config section, in order to configure new initial board states. Example: # save the file locally, then run: ~/repos/blog/docs/ll/fun/unblockme\u276f ./unblockme.py Start State: 23444 23 56 21156 778 6 899 aabb next move: 1 breadth is: 1 next move: 2 breadth is: 5 next move: 3 breadth is: 14 ( ... ) Solved in 32 moves ( producing 3288 States ) . Took 4 .68sec.","title":"Source Code"},{"location":"ll/fun/unblockme/#initial-read","text":"Check this for the principal difference between a dept first (DFS) and breadth first (BFS) approach, when solving such kinds of problems.","title":"Initial Read"},{"location":"ll/fun/unblockme/#depth-first-dfs-approach","text":"Not knowing how intense it will be on resources I tried first a depth first algo, since it is a low memory approach: Looking at a certain board state, pick the first possible move, which results in a new board state Play it, i.e. move the piece Go to 1 Backtracking: When there are NO possible moves which result in a new board state, undo the move, which led to position at 1. Solution: Every NEW board state we check if it is the solution, i.e. if there is nothing between the red piece and the exit. Example: Say the solution is to do the 3rd possible, then the second possible move we might end at having tried these: Nr 12 would be the solution in the example, where we stop, having backtracked 2 times back to the initial config. What do we need for such an approach:","title":"Depth First (DFS) Approach"},{"location":"ll/fun/unblockme/#ingredients","text":"","title":"Ingredients"},{"location":"ll/fun/unblockme/#config","text":"We need a way to tell the computer the initial state. Straightforwardly we picked a 2-D Matrix, and simply number the pieces from 1- piece count , where 1 must be the red piece to be freed. From that we then can instantiate a Piece dataclass, for every piece found on the board: Example: Board Config Parsed Pieces board_605 = [ [ 2 , 3 , 4 , 4 , 4 , 0 ] , [ 2 , 3 , 0 , 5 , 6 , 0 ] , [ 2 , 1 , 1 , 5 , 6 , 0 ] , [ 7 , 7 , 8 , 0 , 6 , 0 ] , [ 0 , 0 , 8 , 9 , 9 , 0 ] , [ 0 , 10 , 10 , 11 , 11 , 0 ] , ] ( Pdb ) pp pieces { 1 : Piece ( nr = 1 , row = 2 , col = 3 , len = 2 , dir = 'h' ), 2 : Piece ( nr = 2 , row = 0 , col = 0 , len = 2 , dir = 'h' ), 3 : Piece ( nr = 3 , row = 0 , col = 2 , len = 3 , dir = 'v' ), 4 : Piece ( nr = 4 , row = 0 , col = 4 , len = 2 , dir = 'v' ), 5 : Piece ( nr = 5 , row = 0 , col = 5 , len = 3 , dir = 'v' ), 6 : Piece ( nr = 6 , row = 3 , col = 4 , len = 2 , dir = 'h' ), 7 : Piece ( nr = 7 , row = 3 , col = 3 , len = 3 , dir = 'v' ), 8 : Piece ( nr = 8 , row = 4 , col = 1 , len = 2 , dir = 'h' ), 9 : Piece ( nr = 9 , row = 3 , col = 0 , len = 2 , dir = 'v' )}","title":"Config"},{"location":"ll/fun/unblockme/#main-loop","text":"Code print ( 'Start State:' ) print_board () register_pieces () have_new_state () # indexes the initial state while True : check_solved () if not next_move (): # when this is False we have x, -x as the last 2 moves (indicating taking # back the last move did not lead to new states) -> we then remove those 2, # so we take back the last but one move - until we have new state again: while not take_last_move_back (): moves . pop () moves . pop () https://github.com/AXGKl/blog/blob/master/docs/ll/fun/unblockme/unblockme_deep.py#L355 where next_move is like: Code def next_move (): for nr in range ( 1 , len ( pieces ) + 1 ): p = pieces [ nr ] # print(p) if p . go_left_if_new_state () or p . go_right_if_new_state (): return True https://github.com/AXGKl/blog/blob/master/docs/ll/fun/unblockme/unblockme_deep.py#L323","title":"Main Loop"},{"location":"ll/fun/unblockme/#state-indexing","text":"The algo depends on knowing if a board state had been reached before, i.e. all reached states have to be kept in a set in memory, in a comparable form. We simply concat the top left position of the pieces into a string: Code def calc_state (): \"\"\"get a unique id per board(=pieces) state\"\"\" s = '' for nr in range ( 1 , len ( pieces ) + 1 ): p = pieces [ nr ] row , col = p . row , p . col s += f ' { nr }{ row }{ col } :' # if nr == 5 and row == 2: breakpoint() # FIXME BREAKPOINT return s def have_new_state (): s = calc_state () if not s in states : states . add ( s ) return True https://github.com/AXGKl/blog/blob/master/docs/ll/fun/unblockme/unblockme_deep.py#L286 which produces states like these: ( Pdb ) pp states { '121:200:301:402:513:614:730:832:943:1051:1153:' , '121:200:301:402:523:614:730:832:943:1051:1153:' , '121:200:301:403:513:614:730:832:943:1051:1153:' , '121:200:301:403:523:614:730:832:943:1051:1153:' , ...","title":"State Indexing"},{"location":"ll/fun/unblockme/#tree-traversal-path","text":"Also, in order to backtrack , we have to remember the moves we did up to a certain state: This we do efficiently only by putting the moved piece into an array, e.g. ( Pdb ) pp moves [ 4 , 5 , - 4 , 9 , 4 ] where -4 means we moved piece nr 4 left or up (dependend on if it is a horizontal or vertical piece), while +4 means right or down. In the example (which is from the above shown board 605) we moved piece nr 4 one right then 5 one down then 4 one left then 9 one right then 4 one right (you might already anticipate the major problem with this DFS approach) When we have to backtrack (undo), we simply move the piece into the opposite direction, switching off the state comparison part in dev move , via a global undo_mode boolean. Note Any move is just moving a piece one cell in the matrix.","title":"Tree Traversal Path"},{"location":"ll/fun/unblockme/#printing-the-board-showing-the-move","text":"Using some ansi colors, and turning two digit piece numbers into letters (a=10, b=11, ...) we can nicely visualize the board and the move (background color dark purple then): Here the example from above:","title":"Printing the Board, Showing the Move"},{"location":"ll/fun/unblockme/#runtime-behaviour","text":"","title":"Runtime Behaviour"},{"location":"ll/fun/unblockme/#output","text":"","title":"Output"},{"location":"ll/fun/unblockme/#discussion","text":"Good: The solution is found by this algorithm. It is very fast Nearly no memory required (solely the moves array increases by an integer, per move, plus all indexed states) Bad: Way too many (unnecessary) moves: Note Here the backtracking moves are already eliminated, i.e. every single one of this 1745 moves produced a unique (but often unnecessary) state.","title":"Discussion"},{"location":"ll/fun/unblockme/#breadth-first-attempt-1","text":"To find a solution with a minimum number of moves, DFS cannot work. We would have to try every single possible path. So we changed to algo to BFS: From a given state, try every possible move, which produces new state For any of these, go back to 1 (checking if solved after each move). No backtracking involved here. Sounds simple, is harder.","title":"Breadth First: Attempt 1"},{"location":"ll/fun/unblockme/#new-ingredients","text":"","title":"New Ingredients"},{"location":"ll/fun/unblockme/#main-loop_1","text":"Code def all_states_one_move_deeper (): global board last_states = tree [ - 1 ] print ( 'next move: ' , len ( tree )) print ( 'breadth is: ' , len ( last_states )) next_states = [] for s in last_states : ns = s [ 'next_states' ] for state in ns : state = state [ 'board' ] possbl_mov = [] for nr in range ( 1 , len ( pieces ) + 1 ): board = clone_state ( state ) register_pieces () p = pieces [ nr ] r = p . go_left_if_new_state () if r : possbl_mov . append ({ 'board' : clone_state ( board ), 'nr' : nr }) check_solved ( state ) board = clone_state ( state ) register_pieces () p = pieces [ nr ] r = p . go_right_if_new_state () if r : possbl_mov . append ({ 'board' : clone_state ( board ), 'nr' : nr }) check_solved ( state ) if possbl_mov : next_states . append ({ 'next_states' : possbl_mov , 'prev' : state }) if next_states : tree . append ( next_states ) else : print ( 'no solution' ) sys . exit ( 1 ) def main (): print ( 'Start State:' ) print_board () register_pieces () tree . append ([{ 'prev' : None , 'next_states' : [{ 'board' : board , 'nr' : 0 }]}]) while True : all_states_one_move_deeper () https://github.com/AXGKl/blog/blob/master/docs/ll/fun/unblockme/unblockme_breadth_first_single_moves.py#L341","title":"Main Loop"},{"location":"ll/fun/unblockme/#printing-the-solution","text":"Since BFS should find the ideal solution we can print all moves to it at the end: Code def print_solution ( prev , sec ): move_nr = len ( tree ) + 1 old_piece = - 1 nr_moves = len ( tree ) while tree : move_nr -= 1 moves = tree . pop () try : for move in moves : ns = move [ 'next_states' ] for state in ns : if state [ 'board' ] == prev : piece = state [ 'nr' ] if piece == old_piece : # a piece is moved over > 1 cells, this counts as ONE move: # adding 1 will result in us reporting one move less then: move_nr += 1 print ( 'move ' , move_nr , piece ) print_board ( prev , piece ) prev = move [ 'prev' ] old_piece = piece raise print ( 'No solution found' ) sys . exit ( 1 ) except : pass lmoves = nr_moves - move_nr lstates = len ( states ) print ( f 'Solved in { lmoves } moves (producing { lstates } States). Took { sec } sec.' ) https://github.com/AXGKl/blog/blob/master/docs/ll/fun/unblockme/unblockme_breadth_first_single_moves.py#L307 This walks the tree (with last entry the solution) like this: pop the last move print the one, which state is referred to as prev state from the previously printed I.e. it will print the solution moves, bottom up, starting from the solution. Also, since in the real game, a move over TWO cells counts as ONE move (while we have only single cell moves), we detect those multiple moves with one piece in that print out routine, adding 1 to the move number - in the example this results in 11 eliminated multiple moves with one piece.","title":"Printing the Solution"},{"location":"ll/fun/unblockme/#runtime-behaviour_1","text":"","title":"Runtime Behaviour"},{"location":"ll/fun/unblockme/#output_1","text":"","title":"Output"},{"location":"ll/fun/unblockme/#discussion_1","text":"Good: FAR less moves than DFS (38 instead of 1745). Bad: Far bigger solving time (3.6 sec vs 0.17 for DFS) Far more memory required, since we have to now keep all the board configs in memory: Until the solution found, we do not know which path will be the successful one...","title":"Discussion"},{"location":"ll/fun/unblockme/#it-is-still-not-perfect","text":"Trying the solution within the real game, we got only 2 stars - well done but not the perfect one found - which is 32 and not 38 moves. Why. Well, looking at the first moves we see the answer. It moves piece 5 down one cell then 9 right one cell then, with 9 removed from the column of 5, 5 again down one cell which is 3 moves to a certain state in the successful path. while moving first 9 right, then 5 down 2 cells would be only 2 moves to the same state. Why did it not find that, what prevented it. Answer (after debugging) - check the terminal output of the solution shown above: In move 1 it did also register the move 9 right Then in move 2 it started with the board in state after 5 down one (and 9 in orig place), found 9 right and remembered the state Then in move 2 it tried new moves after 9 right first, found 5 down one - and stopped. Since that state was already indexed. 5 down 2 cells was therefore not even tried. So: Our single cell approach is the problem. We cannot, in the main loop, move only single cells and then eliminate double moves only at solution printout. We must cover multi cell moves already in the main loop.","title":"It is still not perfect"},{"location":"ll/fun/unblockme/#breadth-first-attempt-2","text":"This is the right approach: Code def all_states_one_move_deeper (): global board last_states = tree [ - 1 ] print ( 'next move: ' , len ( tree )) print ( 'breadth is: ' , sum ([ len ( k [ 'next_states' ]) for k in last_states ])) next_states = [] for s in last_states : ns = s [ 'next_states' ] for state in ns : state = state [ 'board' ] possbl_mov = [] for nr in range ( 1 , len ( pieces ) + 1 ): # if not nr in (12,): continue for dir in 'go_left_if_new_state' , 'go_right_if_new_state' : count = 0 while True : board = clone_state ( state ) register_pieces () p = pieces [ nr ] count += 1 mv = getattr ( p , dir ) r = mv ( count ) if r == None : break if r == False : continue check_solved ( state , nr ) possbl_mov . append ( { 'board' : clone_state ( board ), 'nr' : nr , 'count' : count } ) if possbl_mov : next_states . append ({ 'next_states' : possbl_mov , 'prev' : state }) if next_states : tree . append ( next_states ) else : print ( 'no solution' ) sys . exit ( 1 ) def main (): print ( 'Start State:' ) print_board () register_pieces () have_new_state () # register initial state tree . append ([{ 'prev' : None , 'next_states' : [{ 'board' : board , 'nr' : 0 }]}]) while True : all_states_one_move_deeper () https://github.com/AXGKl/blog/blob/master/docs/ll/fun/unblockme/unblockme.py#L366 Here, we try move to a certain direction not just one cell but as many cells as possible, on the board, for a given overall move number. Means: This increases the width of every move yet more: E.g. in our example, for the second move, based upon first (previous) number 9 right one cell, we have nr 5 down one AND 5 down two cells as possible single move continuations now.","title":"Breadth First: Attempt 2"},{"location":"ll/fun/unblockme/#runtime-behaviour_2","text":"","title":"Runtime Behaviour"},{"location":"ll/fun/unblockme/#output_2","text":"(9 right is now first move, 5 completely down only in move 5)","title":"Output"},{"location":"ll/fun/unblockme/#discussion_2","text":"Good: Finds the perfect solution, confirmed by replaying the solution in the real game. Bad: Yet more CPU, we are at 4.8 sec vs 0.17 DFS) and yet more memory (breadth is even higher)","title":"Discussion"},{"location":"ll/fun/unblockme/#klotski","text":"","title":"Klotski"},{"location":"ll/fun/unblockme/#normal-version","text":"Having the basic algo in place, we tried it on a variant of the game (actually it seems the original): Big difference to UnblockMe: Pieces can now be moved into any direction: So the main loop basically identical to unblockme's optimal solution bfs: Code def all_states_one_move_deeper (): global board last_states = tree [ - 1 ] print ( 'next move: ' , len ( tree )) print ( 'breadth is: ' , sum ([ len ( k [ 'next_states' ]) for k in last_states ])) print ( 'board states: ' , len ( states )) next_states = [] for s in last_states : ns = s [ 'next_states' ] for state in ns : state = state [ 'board' ] possbl_mov = [] for nr in range ( 1 , len ( pieces ) + 1 ): # try any direction: for dir in ( 1 , 0 ), ( - 1 , 0 ), ( 0 , 1 ), ( 0 , - 1 ): count = 0 while True : board = clone_state ( state ) register_pieces () p = pieces [ nr ] count += 1 r = p . move ( dir [ 0 ], dir [ 1 ], count ) if r == None : break if r == False : continue check_solved ( state , nr ) possbl_mov . append ( { 'board' : clone_state ( board ), 'nr' : nr , 'count' : count } ) if possbl_mov : next_states . append ({ 'next_states' : possbl_mov , 'prev' : state }) if next_states : tree . append ( next_states ) else : print ( 'no solution' ) sys . exit ( 1 ) def main (): print ( 'Start State:' ) print_board () register_pieces () have_new_state () # register initial state tree . append ([{ 'prev' : None , 'next_states' : [{ 'board' : board , 'nr' : 0 }]}]) while True : all_states_one_move_deeper () https://github.com/AXGKl/blog/blob/master/docs/ll/fun/unblockme/klotski.py#L299","title":"Normal Version"},{"location":"ll/fun/unblockme/#challenges","text":"But the run time got huge, with a crazy high breadth. We tackled that by using another indexing method, where a state is considered identical to another if pieces with only the same dimensions reside on the same places - not necessarily with their piece number matching: [[ 2 , 3 , 0 ], [ 1 , 1 , 0 ]] # is considered ident to [[ 3 , 2 , 0 ], [ 1 , 1 , 0 ]] The solution to this problem requires 91 moves(!):","title":"Challenges"},{"location":"ll/fun/unblockme/#klotski-hard-version","text":"If this wasn't hard enough, there is also an expert version of the game: Initial board setup varies, had also e.g. this: board_hard1 = [ [ 2 , 1 , 1 , 3 , 4 , 4 ], [ 2 , 1 , 1 , 5 , 6 , 6 ], [ 7 , 8 , 10 , 11 , 12 , 13 ], [ 7 , 9 , 10 , 14 , 15 , 16 ], [ 17 , 17 , 18 , 19 , 20 , 16 ], [ 24 , 24 , 25 , 19 , 21 , 22 ], [ 24 , 24 , 0 , 0 , 23 , 22 ], ]","title":"Klotski - Hard Version"},{"location":"ll/fun/unblockme/#challenges-bfs-not-feasible","text":"The bfs code code in general did not need any changes, except an adjustment of solved_row , solved_col . Problem: Computing time was not tolerable. With so many pieces on the board, possibilities to move them around, i.e. breadth, exploded: (...) next move: 12 breadth is: 1893 board states: 4987 time 45.87 sec next move: 13 breadth is: 2901 board states: 7888 time 74.44 sec next move: 14 breadth is: 4482 board states: 12370 time 117.52 sec next move: 15 breadth is: 7062 board states: 19432 time 184.78 sec (...) We did not profile and the code is rater inefficient, grown from the pretty fast DFS algo into BFS. But an optimization would need orders of magnitude improvement, which I did not go into. I assume I would need to change programming language for finding that in bearable time. Rather I tried DFS with this, in order to see if it also performs. And it did: Result: 0.4 seconds - unexpectedly fast, after having to interrupt the bfs version for resource problems. Over 8000 moves is, I assume, an order of magnitude too high, compared to the (unknown) perfect solution (remember: the normal version had 91 for perfect, here we'll have at least 5-10 times as many). Important In klotzki expert mode, BFS was not even feasible, while DFS found a solution in less then half a second.","title":"Challenges: BFS not feasible"},{"location":"ll/fun/unblockme/#summary","text":"For the given class of problems DFS is: easier to program light on resources, i.e. super fast finds a solution guaranteed. But that solution will be FAR from the optimal one BFS is pretty resource intense (CPU and memory) - but will find the perfect solution, given we consider really every possible move, for a certain step (e.g. not just single cell moves in UnblockMe). typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Summary"},{"location":"ll/gimp/gimp/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Gimp Basics \u00a4 Every second month or so I need to do sth with it and that dt is unfortunately too big, to have the knowledge not constantly swapped out. So lets begin writing some basics. Alpha: Transparent Backgrounds \u00a4 On OSX I loved Keynote's Instant Alpha Feature to get rid of Background colors. With gimp its actually really simple as well: Open Image right click -> Choose \"Colors\" in context menu -> \"Color to Alpha\" Save as png (hit \"Save gamma\", uncheck \"Save background color\" Pixelperfect Editted PDFs \u00a4 When you need to edit pdfs, libreoffice draw is a super tool. But for complex pdfs, it often screws some formatting of the original. When the intended editing is not to change but to add stuff, like signatures or form data then gimp can help: Open the pdf in gimp, choose resolution from 100.000 to 200.000 Export to pdf, check: \"export layers as pages\" Open in libreoffice draw - the formatting is now as in the original since its a set of images now, no text. Filessize will explode though, clear, but that would be the case with a print -> sign -> fill out / scan cycle as well. Layer Merging \u00a4 Alt-i (Image) -> l (Merge Layers) -> confirm. Do this after copy - paste in place Changing Text on a Scanned PDF \u00a4 Needed to change an address but the pdf was just an image. You have to cut and paste the letters and re-assemble them for the new text - but its fast: Rectangle select -> copy (ctrl-c) -> paste in place, move the letter to destination. Then merge layers (alt-i, l, confirm) typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Gimp"},{"location":"ll/gimp/gimp/#gimp-basics","text":"Every second month or so I need to do sth with it and that dt is unfortunately too big, to have the knowledge not constantly swapped out. So lets begin writing some basics.","title":"Gimp Basics"},{"location":"ll/gimp/gimp/#alpha-transparent-backgrounds","text":"On OSX I loved Keynote's Instant Alpha Feature to get rid of Background colors. With gimp its actually really simple as well: Open Image right click -> Choose \"Colors\" in context menu -> \"Color to Alpha\" Save as png (hit \"Save gamma\", uncheck \"Save background color\"","title":"Alpha: Transparent Backgrounds"},{"location":"ll/gimp/gimp/#pixelperfect-editted-pdfs","text":"When you need to edit pdfs, libreoffice draw is a super tool. But for complex pdfs, it often screws some formatting of the original. When the intended editing is not to change but to add stuff, like signatures or form data then gimp can help: Open the pdf in gimp, choose resolution from 100.000 to 200.000 Export to pdf, check: \"export layers as pages\" Open in libreoffice draw - the formatting is now as in the original since its a set of images now, no text. Filessize will explode though, clear, but that would be the case with a print -> sign -> fill out / scan cycle as well.","title":"Pixelperfect Editted PDFs"},{"location":"ll/gimp/gimp/#layer-merging","text":"Alt-i (Image) -> l (Merge Layers) -> confirm. Do this after copy - paste in place","title":"Layer Merging"},{"location":"ll/gimp/gimp/#changing-text-on-a-scanned-pdf","text":"Needed to change an address but the pdf was just an image. You have to cut and paste the letters and re-assemble them for the new text - but its fast: Rectangle select -> copy (ctrl-c) -> paste in place, move the letter to destination. Then merge layers (alt-i, l, confirm) typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Changing Text on a Scanned PDF"},{"location":"ll/hw/input/corne/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } My Corne Keyboard \u00a4 Environment \u00a4 Install the environment and create the firmware like in the newbs guide: https://docs.qmk.fm/#/newbs_getting_started I forked and cloned like explained here: https://docs.qmk.fm/#/getting_started_github 10025 cd qmk_firmware 10032 qmk json2c btk-corne 10033 qmk json2c btk-corne.json 10035 qmk json2c btk-corne.json > keymap.c 10038 qmk compile btk-corne.c 10040 qmk compile btk-corne.json 10045 qmk setup AXGKl/qmk_firmware 10046 cd qmk_firmware 10047 qmk compile -kb crkbd/rev1/legacy -km default 10048 qmk config user.keyboard = crkbd/rev1/legacy 10049 qmk config user.keymap = AXGKl 10052 vi /home/gk/.config/qmk/qmk.ini 10053 qmk config user.keyboard = crkbd/rev1/legacy 10056 qmk new-keymap 10057 qmk config user.keymap = AXGKl 10058 qmk new-keymap 10059 vi /home/gk/inst/qmk_firmware/keyboards/crkbd/keymaps/AXGKl/keymap.c 10060 qmk compile Flashing \u00a4 You have to do this as root. So we transfer the qmk install for root: systemctl stop ModemManager # (not sure if needed, I stopped it) ~/bin \u276f cat /usr/local/bin/qmkflash \ue73c tools #!/usr/bin/env bash test $( whoami ) ! = 'root' && { echo \"run me with sudo\" ; exit 1 ; } source /ho source /home/gk/miniconda3/etc/profile.d/conda.sh conda activate /home/gk/miniconda3/envs/tools/ export PYTHONPATH = /home/gk/.local/lib/python3.8/site-packages /home/gk/.local/bin/qmk flash Then qmk flash works (had to do 2 times, sides were reversed once. Worked after usb cable left, then right then left again, always flashing. Reset button (over the sides connector cable) press/release then flashing worked. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Corne"},{"location":"ll/hw/input/corne/#my-corne-keyboard","text":"","title":"My Corne Keyboard"},{"location":"ll/hw/input/corne/#environment","text":"Install the environment and create the firmware like in the newbs guide: https://docs.qmk.fm/#/newbs_getting_started I forked and cloned like explained here: https://docs.qmk.fm/#/getting_started_github 10025 cd qmk_firmware 10032 qmk json2c btk-corne 10033 qmk json2c btk-corne.json 10035 qmk json2c btk-corne.json > keymap.c 10038 qmk compile btk-corne.c 10040 qmk compile btk-corne.json 10045 qmk setup AXGKl/qmk_firmware 10046 cd qmk_firmware 10047 qmk compile -kb crkbd/rev1/legacy -km default 10048 qmk config user.keyboard = crkbd/rev1/legacy 10049 qmk config user.keymap = AXGKl 10052 vi /home/gk/.config/qmk/qmk.ini 10053 qmk config user.keyboard = crkbd/rev1/legacy 10056 qmk new-keymap 10057 qmk config user.keymap = AXGKl 10058 qmk new-keymap 10059 vi /home/gk/inst/qmk_firmware/keyboards/crkbd/keymaps/AXGKl/keymap.c 10060 qmk compile","title":"Environment"},{"location":"ll/hw/input/corne/#flashing","text":"You have to do this as root. So we transfer the qmk install for root: systemctl stop ModemManager # (not sure if needed, I stopped it) ~/bin \u276f cat /usr/local/bin/qmkflash \ue73c tools #!/usr/bin/env bash test $( whoami ) ! = 'root' && { echo \"run me with sudo\" ; exit 1 ; } source /ho source /home/gk/miniconda3/etc/profile.d/conda.sh conda activate /home/gk/miniconda3/envs/tools/ export PYTHONPATH = /home/gk/.local/lib/python3.8/site-packages /home/gk/.local/bin/qmk flash Then qmk flash works (had to do 2 times, sides were reversed once. Worked after usb cable left, then right then left again, always flashing. Reset button (over the sides connector cable) press/release then flashing worked. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Flashing"},{"location":"ll/hw/input/hp/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } HP Dragonfly \u00a4 [2022-04-29 08:34] After spilling coffee over my beloved 2015 MBPro I bought a non Mac, since on Linux anyway. The HP Dragonfly convinced me because of super small and light but also the best keyboard in the store. \"Capslock -> Esc: Drastic Changes Require Drastic Measures\" \u00a4 Finally realised the escape key relocation to Capslock - u need it all the time in vim an this is even easier (and more universal, e.g. for fzf) than jj or jk bindings. So: setxkbmap -option \"caps:swapescape\" . Done. Nope. Simply mapping the escape key was not sufficient to retrain 30years of muscle memory - my pinky continued to hit that escape key all the time. So: I physically removed the escape key => pinky finger got shocked every time it hit that hole! With this, me and my left pinky finger immediately (about one day) learned the new position. Can actually re-insert the keycap again :-) \"Alt-Gr -> Up: Required Low Level Approach ( xkbcomp )\" \u00a4 Then a problem was the up arrow key: It is physically super small and hard to reach in \"vim position\" - so I remapped it to the key next to space, which I can reach with the thumb: Alt_Gr That was easy: xev to find keycode (108) for Alt_Gr and then remap to Up via: xmodmap -e \"keycode 108 = Up\" But then this bit me: A bug in a rust lib. showkey -a did reveal, at Alt_GR presses, in alacritty different output than in st or kitty - and no up arrow was processed. xkbcomp to the rescue : Here we modify the state of the X11 Server itself, regarding the layout and functioning of the physical keyboard. Export the current state: $ xkbcomp $DISPLAY output.xkb # cleartext file - but complex Modify (see below) then upload again: $ xkbcomp modified.xkb $DISPLAY Modifications: In the file we have in the beginning all keycodes (like 111) and their \"functional name\" (like \"UP\") within that file: <RALT> = 108; <LNFD> = 109; <HOME> = 110; <UP> = 111; But simply saying <UP> = 108 did not work - the RALT functional name is referenced in many places, we need it mapped to a keycode. Swapping 108 and 111 in the file and uploading was accepted by the server, but then we lost the real Up arrow key, was now really Right Alt. So we did this: Picked an unused keysym ( XF86RFKill - which was at Key with functional name, keycode 255 <I255> ) Swapped it with 108 (our physical Alt_GR) and then Then use xmodmap to define a keysym for this one to Up: /tmp \u276f diff orig.xkb input.xkb # our changes 103c103 < <RALT> = 108; --- > <I255> = 108; 250c250 < <I255> = 255; --- > <RALT> = 255; /tmp \u276f xkbcomp input.xkb $DISPLAY # upload /tmp \u276f xmodmap -e 'keysym XF86RFKill = Up' # remap to Up Done. Up Arrow AND Alt_GR now behaving equal :-) Refs: https://wiki.archlinux.org/title/X_keyboard_extension typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"HP"},{"location":"ll/hw/input/hp/#hp-dragonfly","text":"[2022-04-29 08:34] After spilling coffee over my beloved 2015 MBPro I bought a non Mac, since on Linux anyway. The HP Dragonfly convinced me because of super small and light but also the best keyboard in the store.","title":"HP Dragonfly"},{"location":"ll/hw/input/hp/#capslock-esc-drastic-changes-require-drastic-measures","text":"Finally realised the escape key relocation to Capslock - u need it all the time in vim an this is even easier (and more universal, e.g. for fzf) than jj or jk bindings. So: setxkbmap -option \"caps:swapescape\" . Done. Nope. Simply mapping the escape key was not sufficient to retrain 30years of muscle memory - my pinky continued to hit that escape key all the time. So: I physically removed the escape key => pinky finger got shocked every time it hit that hole! With this, me and my left pinky finger immediately (about one day) learned the new position. Can actually re-insert the keycap again :-)","title":"\"Capslock -&gt; Esc: Drastic Changes Require Drastic Measures\""},{"location":"ll/hw/input/hp/#alt-gr-up-required-low-level-approach-xkbcomp","text":"Then a problem was the up arrow key: It is physically super small and hard to reach in \"vim position\" - so I remapped it to the key next to space, which I can reach with the thumb: Alt_Gr That was easy: xev to find keycode (108) for Alt_Gr and then remap to Up via: xmodmap -e \"keycode 108 = Up\" But then this bit me: A bug in a rust lib. showkey -a did reveal, at Alt_GR presses, in alacritty different output than in st or kitty - and no up arrow was processed. xkbcomp to the rescue : Here we modify the state of the X11 Server itself, regarding the layout and functioning of the physical keyboard. Export the current state: $ xkbcomp $DISPLAY output.xkb # cleartext file - but complex Modify (see below) then upload again: $ xkbcomp modified.xkb $DISPLAY Modifications: In the file we have in the beginning all keycodes (like 111) and their \"functional name\" (like \"UP\") within that file: <RALT> = 108; <LNFD> = 109; <HOME> = 110; <UP> = 111; But simply saying <UP> = 108 did not work - the RALT functional name is referenced in many places, we need it mapped to a keycode. Swapping 108 and 111 in the file and uploading was accepted by the server, but then we lost the real Up arrow key, was now really Right Alt. So we did this: Picked an unused keysym ( XF86RFKill - which was at Key with functional name, keycode 255 <I255> ) Swapped it with 108 (our physical Alt_GR) and then Then use xmodmap to define a keysym for this one to Up: /tmp \u276f diff orig.xkb input.xkb # our changes 103c103 < <RALT> = 108; --- > <I255> = 108; 250c250 < <I255> = 255; --- > <RALT> = 255; /tmp \u276f xkbcomp input.xkb $DISPLAY # upload /tmp \u276f xmodmap -e 'keysym XF86RFKill = Up' # remap to Up Done. Up Arrow AND Alt_GR now behaving equal :-) Refs: https://wiki.archlinux.org/title/X_keyboard_extension typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"\"Alt-Gr -&gt; Up: Required Low Level Approach (xkbcomp)\""},{"location":"ll/hw/input/k860/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Logitech K860 Keyboard , evtest plus some reality distortion... \u00a4 General Notes \u00a4 Upsides \u00a4 Fits my hands very good, got a little bit of strain recently on my laptop. Membrane actually, but really stiff ones, feels more like I imagine a 60g mechanical keyboard (never typed on one. Yet. See outlook below..). Got it for 60 (after officially confirming to the clerk that I'll professionally dispose off all evil killer viruses from it back home, with him, in this age of crazy, not being allowed to sell the last remaining piece of the store - the one on display) After a while with it, my laptop keyboard felt like a kids toy. Which is good sign, I guess...(?). You feel more like a construction worker with this, hacking into it, while on the small laptop it was more the watchmaker feeling... usb dongle worked right away, so connectivity is given. has a SYSRQ key (labelled 'Drucken') on my German version. You only see it in evtest , not in xev , see below After a week I already type a bit faster than on the old one, guess the 100wpm is doable with it. Note Many say fast typing is not required for good programmers. But, if you live, like me, by the motto: Weeks of programming can save you hours of planning , it is kinda important... Downsides \u00a4 Linux support is zero Loud like hell, their marketing pictures with the colleagues in the big office excited about the guys' new keyboard will NOT happen. All colleagues within 20m radius will hate you. Big. Not sth for the backpack. I don't need the right 35% (right of enter) of it at all, since my hands completely rest and never move (except for mouse, see below). But yeah, I actually just need a 65% keyboard... I miss the arrow keys close to my fingers NO trackpad: In the shop, excited about the typing experience, I totally forgot to think about the trackpad . There is no f... trackpad, allthough there would be perfect space for it between left and right keyblocks!! . Was looking already for something like ...a flexible trackpad foil, which I could glue into that area - but such a thing does not exist (yet). With such a huge keyboard your hands will move a kilometer each day grabbing an external mouse, no joke.... Being (still, after all these years ) a positively thinking human being, I try to make a feature out of that: Really eradicating the mouse next to completely, from everything, except mouse driven apps like gimp, where a real mouse is anyway better than the TP. vimium-c's excellent f` (follow) feature is key for this in the browser: It works 99% of the time, even for JS generated links, like hitting like buttons. The rest is pretty much anyway under my fingers, in the terminal. Left Ctrl veeery far left, have to bend my thumb a lot to get it and that key is the most important hotkey. The idea to map left space to it had me start this chapter actually.... See below... Switching F-Keys \u00a4 Done by hitting Fn Esc Modifier Setyp \u00a4 Old guy -> still using xmodmap: xset r rate 250 45 # middle button click scroll: xinput set-prop 10 \"libinput Scroll Method Enabled\" 0 , 0 , 1 # arch #xinput set-prop 13 307 1 # tab to click xinput set-prop 20 307 1 # tab to click # https://gist.github.com/jatcwang/ae3b7019f219b8cdc6798329108c9aee #setxkbmap -option ctrl:swap_lwin_lctl -option caps:escape #setxkbmap -option ctrl:swap_lalt_lctl -option caps:escape # hp keyboard with super like: ctrl-super-tab # external keyboard with super next to space: #setxkbmap -option ctrl:swap_lwin_lctl -option caps:escape setxkbmap -option ctrl:swap_lalt_lctl_lwin #-option caps:alt _ () { xmodmap -e \" $1 \" ; } _ \"keycode 94 = grave asciitilde\" # left of right shift (grave is `) _ \"keycode 66 = Alt_L\" # capslock is now alt (for vim splits) _ \"clear Lock\" # \"remove shift = Shift_R\" # \"keycode 162 = Up\" # shift right: up # \"remove mod4 = Super_R\" #_ \"keycode 64 = XF86AudioRaiseVolume\" #_ \"keycode 133 = XF86AudioLowerVolume\" # \"keycode 169 = BackSpace\" # better to find on the HP than arrow up: _ \"keycode 108 = Up\" # command on shell only right thumb # _ \"keycode 108 = Left\" # _ \"keycode 113 = Down\" # _ \"keycode 111 = Right\" # _ \"keycode 116 = Right\" } The /dev/input Streams \u00a4 Below we analyse a bit whats there. First find out which stream: cat /proc/bus/input/devices (...) I: Bus=0003 Vendor=046d Product=4088 Version=0111 N: Name=\"Logitech ERGO K860\" P: Phys=usb-0000:00:14.0-1/input2:1 S: Sysfs=/devices/pci0000:00/0000:00:14.0/usb1/1-1/1-1:1.2/0003:046D:C52B.0003/0003:046D:4088.000B/input/input39 U: Uniq=4088-14-3e-f8-ba H: Handlers=sysrq kbd leds mouse0 event6 B: PROP=0 B: EV=12001f B: KEY=3f000303ff 0 0 483ffff17aff32d bfd4444600000000 ffff0001 130ff38b17c007 ffff7bfad941dfff ffbeffdfffefffff fffffffffffffffe B: REL=1943 B: ABS=100000000 B: MSC=10 B: LED=1f Ok, event6. So: import struct f = open ( \"/dev/input/event4\" , \"rb\" ); # Open the file in the read-binary mode while 1 : data = f . read ( 24 ) print ( struct . unpack ( '4IHHI' , data )) ###### PRINT FORMAL = ( Time Stamp_INT , 0 , Time Stamp_DEC , 0 , ###### type , code ( key pressed ) , value (press/release) ) Spits out all the coordinate numbers when we move the mouse. Now keyboard: Uups, lets stop this - there is something better: evtest : Meet evtest \u00a4 Good companion to xev. Actually better for my day to day event analysing It keeps logging while you are in other windows, and the keys remain activeley passed into the system. Basically the above python program with nicer formatting. Terminal only, does not start an X window Is actually not X11 at all, works on console, i.e. all the handling of dwm or sxhkd is not active then. Works better with grep, more condensed output Outputs the SYSRQ key (xev not, guess my kernel has it not enabled). Downside: Needs sudo root. [ root@axgk gk ] # evtest No device specified, trying to scan all of /dev/input/event* Available devices: /dev/input/event0: Sleep Button /dev/input/event1: Lid Switch /dev/input/event2: Power Button /dev/input/event3: Power Button /dev/input/event4: AT Translated Set 2 keyboard /dev/input/event5: Video Bus /dev/input/event6: Logitech ERGO K860 /dev/input/event7: HP Wireless hotkeys /dev/input/event8: Intel HID events /dev/input/event9: SYNA30A1:00 06CB:CD74 Mouse /dev/input/event10: SYNA30A1:00 06CB:CD74 Touchpad /dev/input/event11: Wacom HID 4924 Pen /dev/input/event12: Wacom HID 4924 Finger /dev/input/event13: HID 0461 :4d03 /dev/input/event14: SynPS/2 Synaptics TouchPad /dev/input/event15: Intel HID 5 button array /dev/input/event16: PC Speaker /dev/input/event17: HP WMI hotkeys /dev/input/event18: HP HD Camera: HP HD Camera /dev/input/event19: HP HD Camera: HP IR Camera /dev/input/event20: sof-hda-dsp Mic /dev/input/event21: sof-hda-dsp Headphone /dev/input/event22: sof-hda-dsp HDMI/DP,pcm = 3 /dev/input/event23: sof-hda-dsp HDMI/DP,pcm = 4 /dev/input/event24: sof-hda-dsp HDMI/DP,pcm = 5 /dev/input/event25: Intel HID switches Select the device event number [ 0 -25 ] : Nice! All the keys \u00a4 Startup sequence shows what we have [root@axgk gk]# evtest /dev/input/event6 Input driver version is 1.0.1 Input device ID: bus 0x3 vendor 0x46d product 0x4088 version 0x111 Input device name: \"Logitech ERGO K860\" Supported events: Event type 0 (EV_SYN) Event type 1 (EV_KEY) Event code 1 (KEY_ESC) Event code 2 (KEY_1) Event code 3 (KEY_2) Event code 4 (KEY_3) Event code 5 (KEY_4) Event code 6 (KEY_5) Event code 7 (KEY_6) Event code 8 (KEY_7) Event code 9 (KEY_8) Event code 10 (KEY_9) Event code 11 (KEY_0) Event code 12 (KEY_MINUS) Event code 13 (KEY_EQUAL) Event code 14 (KEY_BACKSPACE) Event code 15 (KEY_TAB) Event code 16 (KEY_Q) Event code 17 (KEY_W) Event code 18 (KEY_E) Event code 19 (KEY_R) Event code 20 (KEY_T) Event code 21 (KEY_Y) Event code 22 (KEY_U) Event code 23 (KEY_I) Event code 24 (KEY_O) Event code 25 (KEY_P) Event code 26 (KEY_LEFTBRACE) Event code 27 (KEY_RIGHTBRACE) Event code 28 (KEY_ENTER) Event code 29 (KEY_LEFTCTRL) Event code 30 (KEY_A) Event code 31 (KEY_S) Event code 32 (KEY_D) Event code 33 (KEY_F) Event code 34 (KEY_G) Event code 35 (KEY_H) Event code 36 (KEY_J) Event code 37 (KEY_K) Event code 38 (KEY_L) Event code 39 (KEY_SEMICOLON) Event code 40 (KEY_APOSTROPHE) Event code 41 (KEY_GRAVE) Event code 42 (KEY_LEFTSHIFT) Event code 43 (KEY_BACKSLASH) Event code 44 (KEY_Z) Event code 45 (KEY_X) Event code 46 (KEY_C) Event code 47 (KEY_V) Event code 48 (KEY_B) Event code 49 (KEY_N) Event code 50 (KEY_M) Event code 51 (KEY_COMMA) Event code 52 (KEY_DOT) Event code 53 (KEY_SLASH) Event code 54 (KEY_RIGHTSHIFT) Event code 55 (KEY_KPASTERISK) Event code 56 (KEY_LEFTALT) Event code 57 (KEY_SPACE) Event code 58 (KEY_CAPSLOCK) Event code 59 (KEY_F1) Event code 60 (KEY_F2) Event code 61 (KEY_F3) Event code 62 (KEY_F4) Event code 63 (KEY_F5) Event code 64 (KEY_F6) Event code 65 (KEY_F7) Event code 66 (KEY_F8) Event code 67 (KEY_F9) Event code 68 (KEY_F10) Event code 69 (KEY_NUMLOCK) Event code 70 (KEY_SCROLLLOCK) Event code 71 (KEY_KP7) Event code 72 (KEY_KP8) Event code 73 (KEY_KP9) Event code 74 (KEY_KPMINUS) Event code 75 (KEY_KP4) Event code 76 (KEY_KP5) Event code 77 (KEY_KP6) Event code 78 (KEY_KPPLUS) Event code 79 (KEY_KP1) Event code 80 (KEY_KP2) Event code 81 (KEY_KP3) Event code 82 (KEY_KP0) Event code 83 (KEY_KPDOT) Event code 85 (KEY_ZENKAKUHANKAKU) Event code 86 (KEY_102ND) Event code 87 (KEY_F11) Event code 88 (KEY_F12) Event code 89 (KEY_RO) Event code 90 (KEY_KATAKANA) Event code 91 (KEY_HIRAGANA) Event code 92 (KEY_HENKAN) Event code 93 (KEY_KATAKANAHIRAGANA) Event code 94 (KEY_MUHENKAN) Event code 95 (KEY_KPJPCOMMA) Event code 96 (KEY_KPENTER) Event code 97 (KEY_RIGHTCTRL) Event code 98 (KEY_KPSLASH) Event code 99 (KEY_SYSRQ) Event code 100 (KEY_RIGHTALT) Event code 102 (KEY_HOME) Event code 103 (KEY_UP) Event code 104 (KEY_PAGEUP) Event code 105 (KEY_LEFT) Event code 106 (KEY_RIGHT) Event code 107 (KEY_END) Event code 108 (KEY_DOWN) Event code 109 (KEY_PAGEDOWN) Event code 110 (KEY_INSERT) Event code 111 (KEY_DELETE) Event code 113 (KEY_MUTE) Event code 114 (KEY_VOLUMEDOWN) Event code 115 (KEY_VOLUMEUP) Event code 116 (KEY_POWER) Event code 117 (KEY_KPEQUAL) Event code 119 (KEY_PAUSE) Event code 120 (KEY_SCALE) Event code 121 (KEY_KPCOMMA) Event code 122 (KEY_HANGUEL) Event code 123 (KEY_HANJA) Event code 124 (KEY_YEN) Event code 125 (KEY_LEFTMETA) Event code 126 (KEY_RIGHTMETA) Event code 127 (KEY_COMPOSE) Event code 128 (KEY_STOP) Event code 129 (KEY_AGAIN) Event code 130 (KEY_PROPS) Event code 131 (KEY_UNDO) Event code 132 (KEY_FRONT) Event code 133 (KEY_COPY) Event code 134 (KEY_OPEN) Event code 135 (KEY_PASTE) Event code 136 (KEY_FIND) Event code 137 (KEY_CUT) Event code 138 (KEY_HELP) Event code 139 (KEY_MENU) Event code 140 (KEY_CALC) Event code 142 (KEY_SLEEP) Event code 143 (KEY_WAKEUP) Event code 144 (KEY_FILE) Event code 150 (KEY_WWW) Event code 152 (KEY_SCREENLOCK) Event code 155 (KEY_MAIL) Event code 156 (KEY_BOOKMARKS) Event code 158 (KEY_BACK) Event code 159 (KEY_FORWARD) Event code 161 (KEY_EJECTCD) Event code 163 (KEY_NEXTSONG) Event code 164 (KEY_PLAYPAUSE) Event code 165 (KEY_PREVIOUSSONG) Event code 166 (KEY_STOPCD) Event code 167 (KEY_RECORD) Event code 168 (KEY_REWIND) Event code 169 (KEY_PHONE) Event code 171 (KEY_CONFIG) Event code 172 (KEY_HOMEPAGE) Event code 173 (KEY_REFRESH) Event code 174 (KEY_EXIT) Event code 176 (KEY_EDIT) Event code 177 (KEY_SCROLLUP) Event code 178 (KEY_SCROLLDOWN) Event code 179 (KEY_KPLEFTPAREN) Event code 180 (KEY_KPRIGHTPAREN) Event code 181 (KEY_NEW) Event code 182 (KEY_REDO) Event code 183 (KEY_F13) Event code 184 (KEY_F14) Event code 185 (KEY_F15) Event code 186 (KEY_F16) Event code 187 (KEY_F17) Event code 188 (KEY_F18) Event code 189 (KEY_F19) Event code 190 (KEY_F20) Event code 191 (KEY_F21) Event code 192 (KEY_F22) Event code 193 (KEY_F23) Event code 194 (KEY_F24) Event code 206 (KEY_CLOSE) Event code 207 (KEY_PLAY) Event code 208 (KEY_FASTFORWARD) Event code 209 (KEY_BASSBOOST) Event code 210 (KEY_PRINT) Event code 212 (KEY_CAMERA) Event code 216 (KEY_CHAT) Event code 217 (KEY_SEARCH) Event code 219 (KEY_FINANCE) Event code 223 (KEY_CANCEL) Event code 224 (KEY_BRIGHTNESSDOWN) Event code 225 (KEY_BRIGHTNESSUP) Event code 228 (KEY_KBDILLUMTOGGLE) Event code 229 (KEY_KBDILLUMDOWN) Event code 230 (KEY_KBDILLUMUP) Event code 231 (KEY_SEND) Event code 232 (KEY_REPLY) Event code 233 (KEY_FORWARDMAIL) Event code 234 (KEY_SAVE) Event code 235 (KEY_DOCUMENTS) Event code 240 (KEY_UNKNOWN) Event code 241 (KEY_VIDEO_NEXT) Event code 244 (KEY_BRIGHTNESS_ZERO) Event code 256 (BTN_0) Event code 272 (BTN_LEFT) Event code 273 (BTN_RIGHT) Event code 274 (BTN_MIDDLE) Event code 275 (BTN_SIDE) Event code 276 (BTN_EXTRA) Event code 277 (BTN_FORWARD) Event code 278 (BTN_BACK) Event code 279 (BTN_TASK) Event code 280 (?) Event code 281 (?) Event code 282 (?) Event code 283 (?) Event code 284 (?) Event code 285 (?) Event code 286 (?) Event code 287 (?) Event code 353 (KEY_SELECT) Event code 354 (KEY_GOTO) Event code 358 (KEY_INFO) Event code 362 (KEY_PROGRAM) Event code 366 (KEY_PVR) Event code 370 (KEY_SUBTITLE) Event code 372 (KEY_ZOOM) Event code 374 (KEY_KEYBOARD) Event code 375 (KEY_SCREEN) Event code 376 (KEY_PC) Event code 377 (KEY_TV) Event code 378 (KEY_TV2) Event code 379 (KEY_VCR) Event code 380 (KEY_VCR2) Event code 381 (KEY_SAT) Event code 383 (KEY_CD) Event code 384 (KEY_TAPE) Event code 386 (KEY_TUNER) Event code 387 (KEY_PLAYER) Event code 389 (KEY_DVD) Event code 392 (KEY_AUDIO) Event code 393 (KEY_VIDEO) Event code 396 (KEY_MEMO) Event code 397 (KEY_CALENDAR) Event code 398 (KEY_RED) Event code 399 (KEY_GREEN) Event code 400 (KEY_YELLOW) Event code 401 (KEY_BLUE) Event code 402 (KEY_CHANNELUP) Event code 403 (KEY_CHANNELDOWN) Event code 405 (KEY_LAST) Event code 407 (KEY_NEXT) Event code 408 (KEY_RESTART) Event code 409 (KEY_SLOW) Event code 410 (KEY_SHUFFLE) Event code 412 (KEY_PREVIOUS) Event code 416 (KEY_VIDEOPHONE) Event code 417 (KEY_GAMES) Event code 418 (KEY_ZOOMIN) Event code 419 (KEY_ZOOMOUT) Event code 420 (KEY_ZOOMRESET) Event code 421 (KEY_WORDPROCESSOR) Event code 422 (KEY_EDITOR) Event code 423 (KEY_SPREADSHEET) Event code 424 (KEY_GRAPHICSEDITOR) Event code 425 (KEY_PRESENTATION) Event code 426 (KEY_DATABASE) Event code 427 (KEY_NEWS) Event code 428 (KEY_VOICEMAIL) Event code 429 (KEY_ADDRESSBOOK) Event code 430 (KEY_MESSENGER) Event code 431 (KEY_DISPLAYTOGGLE) Event code 432 (KEY_SPELLCHECK) Event code 433 (KEY_LOGOFF) Event code 439 (KEY_MEDIA_REPEAT) Event code 442 (KEY_IMAGES) Event code 576 (KEY_BUTTONCONFIG) Event code 577 (KEY_TASKMANAGER) Event code 578 (KEY_JOURNAL) Event code 579 (KEY_CONTROLPANEL) Event code 580 (KEY_APPSELECT) Event code 581 (KEY_SCREENSAVER) Event code 582 (KEY_VOICECOMMAND) Event code 583 (KEY_ASSISTANT) Event code 584 (?) Event code 585 (?) Event code 592 (KEY_BRIGHTNESS_MIN) Event code 593 (KEY_BRIGHTNESS_MAX) Event code 608 (KEY_KBDINPUTASSIST_PREV) Event code 609 (KEY_KBDINPUTASSIST_NEXT) Event code 610 (KEY_KBDINPUTASSIST_PREVGROUP) Event code 611 (KEY_KBDINPUTASSIST_NEXTGROUP) Event code 612 (KEY_KBDINPUTASSIST_ACCEPT) Event code 613 (KEY_KBDINPUTASSIST_CANCEL) Event type 2 (EV_REL) Event code 0 (REL_X) Event code 1 (REL_Y) Event code 6 (REL_HWHEEL) Event code 8 (REL_WHEEL) Event code 11 (REL_WHEEL_HI_RES) Event code 12 (REL_HWHEEL_HI_RES) Event type 3 (EV_ABS) Event code 32 (ABS_VOLUME) Value 0 Min 1 Max 767 Event type 4 (EV_MSC) Event code 4 (MSC_SCAN) Event type 17 (EV_LED) Event code 0 (LED_NUML) state 0 Event code 1 (LED_CAPSL) state 0 Event code 2 (LED_SCROLLL) state 0 Event code 3 (LED_COMPOSE) state 0 Event code 4 (LED_KANA) state 0 Key repeat handling: Repeat type 20 (EV_REP) Repeat code 0 (REP_DELAY) Value 250 Repeat code 1 (REP_PERIOD) Value 33 Properties: Testing ... (interrupt to exit) Event: time 1629535373.850302, type 4 (EV_MSC), code 4 (MSC_SCAN), value 70028 So we see what we have on this keyboard. Analysing Keys with evtest \u00a4 # evtest /dev/input/event6 (...) # hit `a` key and release: Event: time 1629534855.673060, type 4 (EV_MSC), code 4 (MSC_SCAN), value 70004 Event: time 1629534855.673060, type 1 (EV_KEY), code 30 (KEY_A), value 1 Event: time 1629534855.673060, -------------- SYN_REPORT ------------ aEvent: time 1629534855.732866, type 4 (EV_MSC), code 4 (MSC_SCAN), value 70004 Event: time 1629534855.732866, type 1 (EV_KEY), code 30 (KEY_A), value 0 Event: time 1629534855.732866, -------------- SYN_REPORT ------------ Ok - same information than with xev. Seems I cannot get lower level than xev, at least in user space. Function Keys \u00a4 Difference of F1 with and w/o mapping via Fn Esc : Event: time 1629537329.711790, type 4 (EV_MSC), code 4 (MSC_SCAN), value c0070 Event: time 1629537329.711790, type 1 (EV_KEY), code 224 (KEY_BRIGHTNESSDOWN), value 1 Event: time 1629537329.711790, -------------- SYN_REPORT ------------ Event: time 1629537329.793754, type 4 (EV_MSC), code 4 (MSC_SCAN), value c0070 Event: time 1629537329.793754, type 1 (EV_KEY), code 224 (KEY_BRIGHTNESSDOWN), value 0 Event: time 1629537329.793754, -------------- SYN_REPORT ------------ Event: time 1629537365.448250, type 4 (EV_MSC), code 4 (MSC_SCAN), value 7003a Event: time 1629537365.448250, type 1 (EV_KEY), code 59 (KEY_F1), value 1 Event: time 1629537365.448250, -------------- SYN_REPORT ------------ ^[OPEvent: time 1629537365.507912, type 4 (EV_MSC), code 4 (MSC_SCAN), value 7003a Event: time 1629537365.507912, type 1 (EV_KEY), code 59 (KEY_F1), value 0 Event: time 1629537365.507912, -------------- SYN_REPORT ------------ Whole top row (except Esc ): As F keys: [root@axgk gk]# evtest /dev/input/event6 2>/dev/stdout | grep 'value 1' Event: time 1629537819.065829, type 1 (EV_KEY), code 59 (KEY_F1), value 1 Event: time 1629537820.117328, type 1 (EV_KEY), code 60 (KEY_F2), value 1 Event: time 1629537822.113826, type 1 (EV_KEY), code 61 (KEY_F3), value 1 Event: time 1629537823.607815, type 1 (EV_KEY), code 62 (KEY_F4), value 1 Event: time 1629537824.677735, type 1 (EV_KEY), code 63 (KEY_F5), value 1 Event: time 1629537825.083824, type 1 (EV_KEY), code 64 (KEY_F6), value 1 Event: time 1629537825.739721, type 1 (EV_KEY), code 65 (KEY_F7), value 1 Event: time 1629537826.149820, type 1 (EV_KEY), code 66 (KEY_F8), value 1 Event: time 1629537826.539719, type 1 (EV_KEY), code 67 (KEY_F9), value 1 Event: time 1629537826.953821, type 1 (EV_KEY), code 68 (KEY_F10), value 1 Event: time 1629537827.423323, type 1 (EV_KEY), code 87 (KEY_F11), value 1 Event: time 1629537828.475800, type 1 (EV_KEY), code 88 (KEY_F12), value 1 Event: time 1629537830.907825, type 1 (EV_KEY), code 99 (KEY_SYSRQ), value 1 Event: time 1629537835.157371, type 1 (EV_KEY), code 14 (KEY_BACKSPACE), value 1 As HW keys: Event: time 1629538347.650795, type 1 (EV_KEY), code 224 (KEY_BRIGHTNESSDOWN), value 1 Event: time 1629538349.570790, type 1 (EV_KEY), code 225 (KEY_BRIGHTNESSUP), value 1 Event: time 1629538350.412467, type 1 (EV_KEY), code 125 (KEY_LEFTMETA), value 1 Event: time 1629538350.432337, type 1 (EV_KEY), code 15 (KEY_TAB), value 1 Event: time 1629538351.120662, type 1 (EV_KEY), code 56 (KEY_LEFTALT), value 1 Event: time 1629538351.142333, type 1 (EV_KEY), code 15 (KEY_TAB), value 1 Event: time 1629538352.616769, type 1 (EV_KEY), code 125 (KEY_LEFTMETA), value 1 Event: time 1629538352.636569, type 1 (EV_KEY), code 32 (KEY_D), value 1 Event: time 1629538359.010758, type 1 (EV_KEY), code 56 (KEY_LEFTALT), value 1 Event: time 1629538359.030545, type 1 (EV_KEY), code 15 (KEY_TAB), value 1 Event: time 1629538362.328761, type 1 (EV_KEY), code 125 (KEY_LEFTMETA), value 1 Event: time 1629538362.348518, type 1 (EV_KEY), code 15 (KEY_TAB), value 1 Event: time 1629538363.394770, type 1 (EV_KEY), code 28 (KEY_ENTER), value 1 Event: time 1629538366.286312, type 1 (EV_KEY), code 125 (KEY_LEFTMETA), value 1 Event: time 1629538366.306539, type 1 (EV_KEY), code 15 (KEY_TAB), value 1 Event: time 1629538373.300251, type 1 (EV_KEY), code 225 (KEY_BRIGHTNESSUP), value 1 Event: time 1629538380.390755, type 1 (EV_KEY), code 125 (KEY_LEFTMETA), value 1 Event: time 1629538380.410556, type 1 (EV_KEY), code 15 (KEY_TAB), value 1 Event: time 1629538398.492733, type 1 (EV_KEY), code 56 (KEY_LEFTALT), value 1 Event: time 1629538398.512522, type 1 (EV_KEY), code 15 (KEY_TAB), value 1 Event: time 1629538404.368718, type 1 (EV_KEY), code 125 (KEY_LEFTMETA), value 1 Event: time 1629538404.388443, type 1 (EV_KEY), code 32 (KEY_D), value 1 Event: time 1629538419.146689, type 1 (EV_KEY), code 217 (KEY_SEARCH), value 1 Event: time 1629538422.486386, type 1 (EV_KEY), code 165 (KEY_PREVIOUSSONG), value 1 Event: time 1629538425.354181, type 1 (EV_KEY), code 164 (KEY_PLAYPAUSE), value 1 Event: time 1629538426.758626, type 1 (EV_KEY), code 163 (KEY_NEXTSONG), value 1 Event: time 1629538428.122631, type 1 (EV_KEY), code 113 (KEY_MUTE), value 1 Event: time 1629538429.874379, type 1 (EV_KEY), code 114 (KEY_VOLUMEDOWN), value 1 Event: time 1629538431.502425, type 1 (EV_KEY), code 115 (KEY_VOLUMEUP), value 1 Event: time 1629538434.682160, type 1 (EV_KEY), code 99 (KEY_SYSRQ), value 1 [root@axgk gk]# Strange that it sends double keystrokes for certain hw keys, e.g. Alt D when hitting F5 . I guess I stay with the F keys as default ;-) Space Left vs Right \u00a4 Space keys seem not distingishable - at least in user space, no difference between left and right: Space left - release - space right - release: Event: time 1629535046.403063, type 4 (EV_MSC), code 4 (MSC_SCAN), value 7002c Event: time 1629535046.403063, type 1 (EV_KEY), code 57 (KEY_SPACE), value 1 Event: time 1629535046.403063, -------------- SYN_REPORT ------------ Event: time 1629535051.341160, type 4 (EV_MSC), code 4 (MSC_SCAN), value 7002c Event: time 1629535051.341160, type 1 (EV_KEY), code 57 (KEY_SPACE), value 1 Event: time 1629535051.341160, -------------- SYN_REPORT ------------ guess I have to find sth else for better ctrl reach. I have to go to the physical layer: Hacking Real World \u00a4 Me and my inability to accept reality constraints made me hack the solution for the ctrl key on layer 0: Disturbing Pictures Ahead Note This is NOT German Engineering! I'm a theoretical phycisist by eductione, no engineer Well, we did not stop there... Hitting a Ctrl key combi by just lowering the left hand is fun, that's the lego branch of that little innovation. So yeah. It works well for my big hands. Plus, sliding from my new thumbrest a bit to the right I even have a left spacekey . And hey, maybe I'll invest into some black color for the optics, some day. Lastly: No. I did not (yet) ruin that new keyboard - was just using (strong) adhesive tape on that ctrl key, could remove. If you think this is borderline insanity, then check out this guy... Or this: Outlook \u00a4 THIS After 30 years on laptop keyboards, checking out a \"real\" one seriously got me intrigued a little into the matter. Next time in the city I might visit a retail store with mechanical keyboards, plus I'm really interested into trying ortholinear ones. The ergodox split keyboard really seems to be something you have to try... See also this overview of the different keyboards out there . Spoiler: Yes, pretty much everybody of these freaks seems to consolidate on a 40% ortholinear keyboard, often split. And often with staggered columns. Quote Move the keys to your fingers(using layers) - not your fingers to the keys. Quote That (heavily customized) keyboard becomes more a part of you, than of the machine. Really want to try one, I understand more and more how wrong classic keyboard layout actually is. A Week Later: That Space Bar... \u00a4 Looking at those huge spacebar(s): It is a joke, and I understand now that this is not a must-accept. The thumbs could do so much more than just hitting one huge space bar. It seems to me having a lot of thumb activated layer modifiers in place would be super ergonomic. Example: Left Thumb down -> arrow keys on hjkl, instead of leaving home row all the time => big win, e.g. for fzf , where selection must be bound to arrrows due to filtering active at the same time. I tried to mock layers, by xmodset-ing the keyboard layout when I hit e.g. capslock - but it is all hacks. For example you can never have the arrow keys on hjkl while a modifier is still pressed. While on those programmable ones, it's all IN the keyboard - and would work with any computer. See https://ergodox-ez.com/pages/customize-planck regarding the most accessible way of \"programming\" them and what you can do: Layer2 activated on modifier press, while pressed, or single shot... Not possible with software in the OS. It is even possible to have upper case when the letter is pressed longer than x milliseconds - erradicating the need for a shift key... - again, not possible (without mega hacks) via the OS. Horizontal Staggering \u00a4 The row staggering, total joke , actually, its stupid and only there because in the past the hammers could not move when the keys where not offset from each other, horizontally... avoided jamming. Btw: The arrangement of the number pad actually says it all, they did that when we were in computer age. Grid . Simple and easy. Resources \u00a4 Guides \u00a4 how to look into /dev/input This guy's journey towards flat split column staggered: Typing \u00a4 Best typing speed tester (for me): https://monkeytype.com Building \u00a4 Programming \u00a4 QMK Configurator (to create the firmware) Guide Shops, Lists \u00a4 Here a list of split keyboards . Best Shop: boardsource Alternative: https://splitkb.com/ Corne: https://reallifeprogramming.com/corne-mx-3-0-keyboard-build-guide-9b5c7eff4178 typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"K860"},{"location":"ll/hw/input/k860/#logitech-k860-keyboard-evtest-plus-some-reality-distortion","text":"","title":"Logitech K860 Keyboard, evtest plus some reality distortion..."},{"location":"ll/hw/input/k860/#general-notes","text":"","title":"General Notes"},{"location":"ll/hw/input/k860/#upsides","text":"Fits my hands very good, got a little bit of strain recently on my laptop. Membrane actually, but really stiff ones, feels more like I imagine a 60g mechanical keyboard (never typed on one. Yet. See outlook below..). Got it for 60 (after officially confirming to the clerk that I'll professionally dispose off all evil killer viruses from it back home, with him, in this age of crazy, not being allowed to sell the last remaining piece of the store - the one on display) After a while with it, my laptop keyboard felt like a kids toy. Which is good sign, I guess...(?). You feel more like a construction worker with this, hacking into it, while on the small laptop it was more the watchmaker feeling... usb dongle worked right away, so connectivity is given. has a SYSRQ key (labelled 'Drucken') on my German version. You only see it in evtest , not in xev , see below After a week I already type a bit faster than on the old one, guess the 100wpm is doable with it. Note Many say fast typing is not required for good programmers. But, if you live, like me, by the motto: Weeks of programming can save you hours of planning , it is kinda important...","title":"Upsides"},{"location":"ll/hw/input/k860/#downsides","text":"Linux support is zero Loud like hell, their marketing pictures with the colleagues in the big office excited about the guys' new keyboard will NOT happen. All colleagues within 20m radius will hate you. Big. Not sth for the backpack. I don't need the right 35% (right of enter) of it at all, since my hands completely rest and never move (except for mouse, see below). But yeah, I actually just need a 65% keyboard... I miss the arrow keys close to my fingers NO trackpad: In the shop, excited about the typing experience, I totally forgot to think about the trackpad . There is no f... trackpad, allthough there would be perfect space for it between left and right keyblocks!! . Was looking already for something like ...a flexible trackpad foil, which I could glue into that area - but such a thing does not exist (yet). With such a huge keyboard your hands will move a kilometer each day grabbing an external mouse, no joke.... Being (still, after all these years ) a positively thinking human being, I try to make a feature out of that: Really eradicating the mouse next to completely, from everything, except mouse driven apps like gimp, where a real mouse is anyway better than the TP. vimium-c's excellent f` (follow) feature is key for this in the browser: It works 99% of the time, even for JS generated links, like hitting like buttons. The rest is pretty much anyway under my fingers, in the terminal. Left Ctrl veeery far left, have to bend my thumb a lot to get it and that key is the most important hotkey. The idea to map left space to it had me start this chapter actually.... See below...","title":"Downsides"},{"location":"ll/hw/input/k860/#switching-f-keys","text":"Done by hitting Fn Esc","title":"Switching F-Keys"},{"location":"ll/hw/input/k860/#modifier-setyp","text":"Old guy -> still using xmodmap: xset r rate 250 45 # middle button click scroll: xinput set-prop 10 \"libinput Scroll Method Enabled\" 0 , 0 , 1 # arch #xinput set-prop 13 307 1 # tab to click xinput set-prop 20 307 1 # tab to click # https://gist.github.com/jatcwang/ae3b7019f219b8cdc6798329108c9aee #setxkbmap -option ctrl:swap_lwin_lctl -option caps:escape #setxkbmap -option ctrl:swap_lalt_lctl -option caps:escape # hp keyboard with super like: ctrl-super-tab # external keyboard with super next to space: #setxkbmap -option ctrl:swap_lwin_lctl -option caps:escape setxkbmap -option ctrl:swap_lalt_lctl_lwin #-option caps:alt _ () { xmodmap -e \" $1 \" ; } _ \"keycode 94 = grave asciitilde\" # left of right shift (grave is `) _ \"keycode 66 = Alt_L\" # capslock is now alt (for vim splits) _ \"clear Lock\" # \"remove shift = Shift_R\" # \"keycode 162 = Up\" # shift right: up # \"remove mod4 = Super_R\" #_ \"keycode 64 = XF86AudioRaiseVolume\" #_ \"keycode 133 = XF86AudioLowerVolume\" # \"keycode 169 = BackSpace\" # better to find on the HP than arrow up: _ \"keycode 108 = Up\" # command on shell only right thumb # _ \"keycode 108 = Left\" # _ \"keycode 113 = Down\" # _ \"keycode 111 = Right\" # _ \"keycode 116 = Right\" }","title":"Modifier Setyp"},{"location":"ll/hw/input/k860/#the-devinput-streams","text":"Below we analyse a bit whats there. First find out which stream: cat /proc/bus/input/devices (...) I: Bus=0003 Vendor=046d Product=4088 Version=0111 N: Name=\"Logitech ERGO K860\" P: Phys=usb-0000:00:14.0-1/input2:1 S: Sysfs=/devices/pci0000:00/0000:00:14.0/usb1/1-1/1-1:1.2/0003:046D:C52B.0003/0003:046D:4088.000B/input/input39 U: Uniq=4088-14-3e-f8-ba H: Handlers=sysrq kbd leds mouse0 event6 B: PROP=0 B: EV=12001f B: KEY=3f000303ff 0 0 483ffff17aff32d bfd4444600000000 ffff0001 130ff38b17c007 ffff7bfad941dfff ffbeffdfffefffff fffffffffffffffe B: REL=1943 B: ABS=100000000 B: MSC=10 B: LED=1f Ok, event6. So: import struct f = open ( \"/dev/input/event4\" , \"rb\" ); # Open the file in the read-binary mode while 1 : data = f . read ( 24 ) print ( struct . unpack ( '4IHHI' , data )) ###### PRINT FORMAL = ( Time Stamp_INT , 0 , Time Stamp_DEC , 0 , ###### type , code ( key pressed ) , value (press/release) ) Spits out all the coordinate numbers when we move the mouse. Now keyboard: Uups, lets stop this - there is something better: evtest :","title":"The /dev/input Streams"},{"location":"ll/hw/input/k860/#meet-evtest","text":"Good companion to xev. Actually better for my day to day event analysing It keeps logging while you are in other windows, and the keys remain activeley passed into the system. Basically the above python program with nicer formatting. Terminal only, does not start an X window Is actually not X11 at all, works on console, i.e. all the handling of dwm or sxhkd is not active then. Works better with grep, more condensed output Outputs the SYSRQ key (xev not, guess my kernel has it not enabled). Downside: Needs sudo root. [ root@axgk gk ] # evtest No device specified, trying to scan all of /dev/input/event* Available devices: /dev/input/event0: Sleep Button /dev/input/event1: Lid Switch /dev/input/event2: Power Button /dev/input/event3: Power Button /dev/input/event4: AT Translated Set 2 keyboard /dev/input/event5: Video Bus /dev/input/event6: Logitech ERGO K860 /dev/input/event7: HP Wireless hotkeys /dev/input/event8: Intel HID events /dev/input/event9: SYNA30A1:00 06CB:CD74 Mouse /dev/input/event10: SYNA30A1:00 06CB:CD74 Touchpad /dev/input/event11: Wacom HID 4924 Pen /dev/input/event12: Wacom HID 4924 Finger /dev/input/event13: HID 0461 :4d03 /dev/input/event14: SynPS/2 Synaptics TouchPad /dev/input/event15: Intel HID 5 button array /dev/input/event16: PC Speaker /dev/input/event17: HP WMI hotkeys /dev/input/event18: HP HD Camera: HP HD Camera /dev/input/event19: HP HD Camera: HP IR Camera /dev/input/event20: sof-hda-dsp Mic /dev/input/event21: sof-hda-dsp Headphone /dev/input/event22: sof-hda-dsp HDMI/DP,pcm = 3 /dev/input/event23: sof-hda-dsp HDMI/DP,pcm = 4 /dev/input/event24: sof-hda-dsp HDMI/DP,pcm = 5 /dev/input/event25: Intel HID switches Select the device event number [ 0 -25 ] : Nice!","title":"Meet evtest"},{"location":"ll/hw/input/k860/#all-the-keys","text":"Startup sequence shows what we have [root@axgk gk]# evtest /dev/input/event6 Input driver version is 1.0.1 Input device ID: bus 0x3 vendor 0x46d product 0x4088 version 0x111 Input device name: \"Logitech ERGO K860\" Supported events: Event type 0 (EV_SYN) Event type 1 (EV_KEY) Event code 1 (KEY_ESC) Event code 2 (KEY_1) Event code 3 (KEY_2) Event code 4 (KEY_3) Event code 5 (KEY_4) Event code 6 (KEY_5) Event code 7 (KEY_6) Event code 8 (KEY_7) Event code 9 (KEY_8) Event code 10 (KEY_9) Event code 11 (KEY_0) Event code 12 (KEY_MINUS) Event code 13 (KEY_EQUAL) Event code 14 (KEY_BACKSPACE) Event code 15 (KEY_TAB) Event code 16 (KEY_Q) Event code 17 (KEY_W) Event code 18 (KEY_E) Event code 19 (KEY_R) Event code 20 (KEY_T) Event code 21 (KEY_Y) Event code 22 (KEY_U) Event code 23 (KEY_I) Event code 24 (KEY_O) Event code 25 (KEY_P) Event code 26 (KEY_LEFTBRACE) Event code 27 (KEY_RIGHTBRACE) Event code 28 (KEY_ENTER) Event code 29 (KEY_LEFTCTRL) Event code 30 (KEY_A) Event code 31 (KEY_S) Event code 32 (KEY_D) Event code 33 (KEY_F) Event code 34 (KEY_G) Event code 35 (KEY_H) Event code 36 (KEY_J) Event code 37 (KEY_K) Event code 38 (KEY_L) Event code 39 (KEY_SEMICOLON) Event code 40 (KEY_APOSTROPHE) Event code 41 (KEY_GRAVE) Event code 42 (KEY_LEFTSHIFT) Event code 43 (KEY_BACKSLASH) Event code 44 (KEY_Z) Event code 45 (KEY_X) Event code 46 (KEY_C) Event code 47 (KEY_V) Event code 48 (KEY_B) Event code 49 (KEY_N) Event code 50 (KEY_M) Event code 51 (KEY_COMMA) Event code 52 (KEY_DOT) Event code 53 (KEY_SLASH) Event code 54 (KEY_RIGHTSHIFT) Event code 55 (KEY_KPASTERISK) Event code 56 (KEY_LEFTALT) Event code 57 (KEY_SPACE) Event code 58 (KEY_CAPSLOCK) Event code 59 (KEY_F1) Event code 60 (KEY_F2) Event code 61 (KEY_F3) Event code 62 (KEY_F4) Event code 63 (KEY_F5) Event code 64 (KEY_F6) Event code 65 (KEY_F7) Event code 66 (KEY_F8) Event code 67 (KEY_F9) Event code 68 (KEY_F10) Event code 69 (KEY_NUMLOCK) Event code 70 (KEY_SCROLLLOCK) Event code 71 (KEY_KP7) Event code 72 (KEY_KP8) Event code 73 (KEY_KP9) Event code 74 (KEY_KPMINUS) Event code 75 (KEY_KP4) Event code 76 (KEY_KP5) Event code 77 (KEY_KP6) Event code 78 (KEY_KPPLUS) Event code 79 (KEY_KP1) Event code 80 (KEY_KP2) Event code 81 (KEY_KP3) Event code 82 (KEY_KP0) Event code 83 (KEY_KPDOT) Event code 85 (KEY_ZENKAKUHANKAKU) Event code 86 (KEY_102ND) Event code 87 (KEY_F11) Event code 88 (KEY_F12) Event code 89 (KEY_RO) Event code 90 (KEY_KATAKANA) Event code 91 (KEY_HIRAGANA) Event code 92 (KEY_HENKAN) Event code 93 (KEY_KATAKANAHIRAGANA) Event code 94 (KEY_MUHENKAN) Event code 95 (KEY_KPJPCOMMA) Event code 96 (KEY_KPENTER) Event code 97 (KEY_RIGHTCTRL) Event code 98 (KEY_KPSLASH) Event code 99 (KEY_SYSRQ) Event code 100 (KEY_RIGHTALT) Event code 102 (KEY_HOME) Event code 103 (KEY_UP) Event code 104 (KEY_PAGEUP) Event code 105 (KEY_LEFT) Event code 106 (KEY_RIGHT) Event code 107 (KEY_END) Event code 108 (KEY_DOWN) Event code 109 (KEY_PAGEDOWN) Event code 110 (KEY_INSERT) Event code 111 (KEY_DELETE) Event code 113 (KEY_MUTE) Event code 114 (KEY_VOLUMEDOWN) Event code 115 (KEY_VOLUMEUP) Event code 116 (KEY_POWER) Event code 117 (KEY_KPEQUAL) Event code 119 (KEY_PAUSE) Event code 120 (KEY_SCALE) Event code 121 (KEY_KPCOMMA) Event code 122 (KEY_HANGUEL) Event code 123 (KEY_HANJA) Event code 124 (KEY_YEN) Event code 125 (KEY_LEFTMETA) Event code 126 (KEY_RIGHTMETA) Event code 127 (KEY_COMPOSE) Event code 128 (KEY_STOP) Event code 129 (KEY_AGAIN) Event code 130 (KEY_PROPS) Event code 131 (KEY_UNDO) Event code 132 (KEY_FRONT) Event code 133 (KEY_COPY) Event code 134 (KEY_OPEN) Event code 135 (KEY_PASTE) Event code 136 (KEY_FIND) Event code 137 (KEY_CUT) Event code 138 (KEY_HELP) Event code 139 (KEY_MENU) Event code 140 (KEY_CALC) Event code 142 (KEY_SLEEP) Event code 143 (KEY_WAKEUP) Event code 144 (KEY_FILE) Event code 150 (KEY_WWW) Event code 152 (KEY_SCREENLOCK) Event code 155 (KEY_MAIL) Event code 156 (KEY_BOOKMARKS) Event code 158 (KEY_BACK) Event code 159 (KEY_FORWARD) Event code 161 (KEY_EJECTCD) Event code 163 (KEY_NEXTSONG) Event code 164 (KEY_PLAYPAUSE) Event code 165 (KEY_PREVIOUSSONG) Event code 166 (KEY_STOPCD) Event code 167 (KEY_RECORD) Event code 168 (KEY_REWIND) Event code 169 (KEY_PHONE) Event code 171 (KEY_CONFIG) Event code 172 (KEY_HOMEPAGE) Event code 173 (KEY_REFRESH) Event code 174 (KEY_EXIT) Event code 176 (KEY_EDIT) Event code 177 (KEY_SCROLLUP) Event code 178 (KEY_SCROLLDOWN) Event code 179 (KEY_KPLEFTPAREN) Event code 180 (KEY_KPRIGHTPAREN) Event code 181 (KEY_NEW) Event code 182 (KEY_REDO) Event code 183 (KEY_F13) Event code 184 (KEY_F14) Event code 185 (KEY_F15) Event code 186 (KEY_F16) Event code 187 (KEY_F17) Event code 188 (KEY_F18) Event code 189 (KEY_F19) Event code 190 (KEY_F20) Event code 191 (KEY_F21) Event code 192 (KEY_F22) Event code 193 (KEY_F23) Event code 194 (KEY_F24) Event code 206 (KEY_CLOSE) Event code 207 (KEY_PLAY) Event code 208 (KEY_FASTFORWARD) Event code 209 (KEY_BASSBOOST) Event code 210 (KEY_PRINT) Event code 212 (KEY_CAMERA) Event code 216 (KEY_CHAT) Event code 217 (KEY_SEARCH) Event code 219 (KEY_FINANCE) Event code 223 (KEY_CANCEL) Event code 224 (KEY_BRIGHTNESSDOWN) Event code 225 (KEY_BRIGHTNESSUP) Event code 228 (KEY_KBDILLUMTOGGLE) Event code 229 (KEY_KBDILLUMDOWN) Event code 230 (KEY_KBDILLUMUP) Event code 231 (KEY_SEND) Event code 232 (KEY_REPLY) Event code 233 (KEY_FORWARDMAIL) Event code 234 (KEY_SAVE) Event code 235 (KEY_DOCUMENTS) Event code 240 (KEY_UNKNOWN) Event code 241 (KEY_VIDEO_NEXT) Event code 244 (KEY_BRIGHTNESS_ZERO) Event code 256 (BTN_0) Event code 272 (BTN_LEFT) Event code 273 (BTN_RIGHT) Event code 274 (BTN_MIDDLE) Event code 275 (BTN_SIDE) Event code 276 (BTN_EXTRA) Event code 277 (BTN_FORWARD) Event code 278 (BTN_BACK) Event code 279 (BTN_TASK) Event code 280 (?) Event code 281 (?) Event code 282 (?) Event code 283 (?) Event code 284 (?) Event code 285 (?) Event code 286 (?) Event code 287 (?) Event code 353 (KEY_SELECT) Event code 354 (KEY_GOTO) Event code 358 (KEY_INFO) Event code 362 (KEY_PROGRAM) Event code 366 (KEY_PVR) Event code 370 (KEY_SUBTITLE) Event code 372 (KEY_ZOOM) Event code 374 (KEY_KEYBOARD) Event code 375 (KEY_SCREEN) Event code 376 (KEY_PC) Event code 377 (KEY_TV) Event code 378 (KEY_TV2) Event code 379 (KEY_VCR) Event code 380 (KEY_VCR2) Event code 381 (KEY_SAT) Event code 383 (KEY_CD) Event code 384 (KEY_TAPE) Event code 386 (KEY_TUNER) Event code 387 (KEY_PLAYER) Event code 389 (KEY_DVD) Event code 392 (KEY_AUDIO) Event code 393 (KEY_VIDEO) Event code 396 (KEY_MEMO) Event code 397 (KEY_CALENDAR) Event code 398 (KEY_RED) Event code 399 (KEY_GREEN) Event code 400 (KEY_YELLOW) Event code 401 (KEY_BLUE) Event code 402 (KEY_CHANNELUP) Event code 403 (KEY_CHANNELDOWN) Event code 405 (KEY_LAST) Event code 407 (KEY_NEXT) Event code 408 (KEY_RESTART) Event code 409 (KEY_SLOW) Event code 410 (KEY_SHUFFLE) Event code 412 (KEY_PREVIOUS) Event code 416 (KEY_VIDEOPHONE) Event code 417 (KEY_GAMES) Event code 418 (KEY_ZOOMIN) Event code 419 (KEY_ZOOMOUT) Event code 420 (KEY_ZOOMRESET) Event code 421 (KEY_WORDPROCESSOR) Event code 422 (KEY_EDITOR) Event code 423 (KEY_SPREADSHEET) Event code 424 (KEY_GRAPHICSEDITOR) Event code 425 (KEY_PRESENTATION) Event code 426 (KEY_DATABASE) Event code 427 (KEY_NEWS) Event code 428 (KEY_VOICEMAIL) Event code 429 (KEY_ADDRESSBOOK) Event code 430 (KEY_MESSENGER) Event code 431 (KEY_DISPLAYTOGGLE) Event code 432 (KEY_SPELLCHECK) Event code 433 (KEY_LOGOFF) Event code 439 (KEY_MEDIA_REPEAT) Event code 442 (KEY_IMAGES) Event code 576 (KEY_BUTTONCONFIG) Event code 577 (KEY_TASKMANAGER) Event code 578 (KEY_JOURNAL) Event code 579 (KEY_CONTROLPANEL) Event code 580 (KEY_APPSELECT) Event code 581 (KEY_SCREENSAVER) Event code 582 (KEY_VOICECOMMAND) Event code 583 (KEY_ASSISTANT) Event code 584 (?) Event code 585 (?) Event code 592 (KEY_BRIGHTNESS_MIN) Event code 593 (KEY_BRIGHTNESS_MAX) Event code 608 (KEY_KBDINPUTASSIST_PREV) Event code 609 (KEY_KBDINPUTASSIST_NEXT) Event code 610 (KEY_KBDINPUTASSIST_PREVGROUP) Event code 611 (KEY_KBDINPUTASSIST_NEXTGROUP) Event code 612 (KEY_KBDINPUTASSIST_ACCEPT) Event code 613 (KEY_KBDINPUTASSIST_CANCEL) Event type 2 (EV_REL) Event code 0 (REL_X) Event code 1 (REL_Y) Event code 6 (REL_HWHEEL) Event code 8 (REL_WHEEL) Event code 11 (REL_WHEEL_HI_RES) Event code 12 (REL_HWHEEL_HI_RES) Event type 3 (EV_ABS) Event code 32 (ABS_VOLUME) Value 0 Min 1 Max 767 Event type 4 (EV_MSC) Event code 4 (MSC_SCAN) Event type 17 (EV_LED) Event code 0 (LED_NUML) state 0 Event code 1 (LED_CAPSL) state 0 Event code 2 (LED_SCROLLL) state 0 Event code 3 (LED_COMPOSE) state 0 Event code 4 (LED_KANA) state 0 Key repeat handling: Repeat type 20 (EV_REP) Repeat code 0 (REP_DELAY) Value 250 Repeat code 1 (REP_PERIOD) Value 33 Properties: Testing ... (interrupt to exit) Event: time 1629535373.850302, type 4 (EV_MSC), code 4 (MSC_SCAN), value 70028 So we see what we have on this keyboard.","title":"All the keys"},{"location":"ll/hw/input/k860/#analysing-keys-with-evtest","text":"# evtest /dev/input/event6 (...) # hit `a` key and release: Event: time 1629534855.673060, type 4 (EV_MSC), code 4 (MSC_SCAN), value 70004 Event: time 1629534855.673060, type 1 (EV_KEY), code 30 (KEY_A), value 1 Event: time 1629534855.673060, -------------- SYN_REPORT ------------ aEvent: time 1629534855.732866, type 4 (EV_MSC), code 4 (MSC_SCAN), value 70004 Event: time 1629534855.732866, type 1 (EV_KEY), code 30 (KEY_A), value 0 Event: time 1629534855.732866, -------------- SYN_REPORT ------------ Ok - same information than with xev. Seems I cannot get lower level than xev, at least in user space.","title":"Analysing Keys with evtest"},{"location":"ll/hw/input/k860/#function-keys","text":"Difference of F1 with and w/o mapping via Fn Esc : Event: time 1629537329.711790, type 4 (EV_MSC), code 4 (MSC_SCAN), value c0070 Event: time 1629537329.711790, type 1 (EV_KEY), code 224 (KEY_BRIGHTNESSDOWN), value 1 Event: time 1629537329.711790, -------------- SYN_REPORT ------------ Event: time 1629537329.793754, type 4 (EV_MSC), code 4 (MSC_SCAN), value c0070 Event: time 1629537329.793754, type 1 (EV_KEY), code 224 (KEY_BRIGHTNESSDOWN), value 0 Event: time 1629537329.793754, -------------- SYN_REPORT ------------ Event: time 1629537365.448250, type 4 (EV_MSC), code 4 (MSC_SCAN), value 7003a Event: time 1629537365.448250, type 1 (EV_KEY), code 59 (KEY_F1), value 1 Event: time 1629537365.448250, -------------- SYN_REPORT ------------ ^[OPEvent: time 1629537365.507912, type 4 (EV_MSC), code 4 (MSC_SCAN), value 7003a Event: time 1629537365.507912, type 1 (EV_KEY), code 59 (KEY_F1), value 0 Event: time 1629537365.507912, -------------- SYN_REPORT ------------ Whole top row (except Esc ): As F keys: [root@axgk gk]# evtest /dev/input/event6 2>/dev/stdout | grep 'value 1' Event: time 1629537819.065829, type 1 (EV_KEY), code 59 (KEY_F1), value 1 Event: time 1629537820.117328, type 1 (EV_KEY), code 60 (KEY_F2), value 1 Event: time 1629537822.113826, type 1 (EV_KEY), code 61 (KEY_F3), value 1 Event: time 1629537823.607815, type 1 (EV_KEY), code 62 (KEY_F4), value 1 Event: time 1629537824.677735, type 1 (EV_KEY), code 63 (KEY_F5), value 1 Event: time 1629537825.083824, type 1 (EV_KEY), code 64 (KEY_F6), value 1 Event: time 1629537825.739721, type 1 (EV_KEY), code 65 (KEY_F7), value 1 Event: time 1629537826.149820, type 1 (EV_KEY), code 66 (KEY_F8), value 1 Event: time 1629537826.539719, type 1 (EV_KEY), code 67 (KEY_F9), value 1 Event: time 1629537826.953821, type 1 (EV_KEY), code 68 (KEY_F10), value 1 Event: time 1629537827.423323, type 1 (EV_KEY), code 87 (KEY_F11), value 1 Event: time 1629537828.475800, type 1 (EV_KEY), code 88 (KEY_F12), value 1 Event: time 1629537830.907825, type 1 (EV_KEY), code 99 (KEY_SYSRQ), value 1 Event: time 1629537835.157371, type 1 (EV_KEY), code 14 (KEY_BACKSPACE), value 1 As HW keys: Event: time 1629538347.650795, type 1 (EV_KEY), code 224 (KEY_BRIGHTNESSDOWN), value 1 Event: time 1629538349.570790, type 1 (EV_KEY), code 225 (KEY_BRIGHTNESSUP), value 1 Event: time 1629538350.412467, type 1 (EV_KEY), code 125 (KEY_LEFTMETA), value 1 Event: time 1629538350.432337, type 1 (EV_KEY), code 15 (KEY_TAB), value 1 Event: time 1629538351.120662, type 1 (EV_KEY), code 56 (KEY_LEFTALT), value 1 Event: time 1629538351.142333, type 1 (EV_KEY), code 15 (KEY_TAB), value 1 Event: time 1629538352.616769, type 1 (EV_KEY), code 125 (KEY_LEFTMETA), value 1 Event: time 1629538352.636569, type 1 (EV_KEY), code 32 (KEY_D), value 1 Event: time 1629538359.010758, type 1 (EV_KEY), code 56 (KEY_LEFTALT), value 1 Event: time 1629538359.030545, type 1 (EV_KEY), code 15 (KEY_TAB), value 1 Event: time 1629538362.328761, type 1 (EV_KEY), code 125 (KEY_LEFTMETA), value 1 Event: time 1629538362.348518, type 1 (EV_KEY), code 15 (KEY_TAB), value 1 Event: time 1629538363.394770, type 1 (EV_KEY), code 28 (KEY_ENTER), value 1 Event: time 1629538366.286312, type 1 (EV_KEY), code 125 (KEY_LEFTMETA), value 1 Event: time 1629538366.306539, type 1 (EV_KEY), code 15 (KEY_TAB), value 1 Event: time 1629538373.300251, type 1 (EV_KEY), code 225 (KEY_BRIGHTNESSUP), value 1 Event: time 1629538380.390755, type 1 (EV_KEY), code 125 (KEY_LEFTMETA), value 1 Event: time 1629538380.410556, type 1 (EV_KEY), code 15 (KEY_TAB), value 1 Event: time 1629538398.492733, type 1 (EV_KEY), code 56 (KEY_LEFTALT), value 1 Event: time 1629538398.512522, type 1 (EV_KEY), code 15 (KEY_TAB), value 1 Event: time 1629538404.368718, type 1 (EV_KEY), code 125 (KEY_LEFTMETA), value 1 Event: time 1629538404.388443, type 1 (EV_KEY), code 32 (KEY_D), value 1 Event: time 1629538419.146689, type 1 (EV_KEY), code 217 (KEY_SEARCH), value 1 Event: time 1629538422.486386, type 1 (EV_KEY), code 165 (KEY_PREVIOUSSONG), value 1 Event: time 1629538425.354181, type 1 (EV_KEY), code 164 (KEY_PLAYPAUSE), value 1 Event: time 1629538426.758626, type 1 (EV_KEY), code 163 (KEY_NEXTSONG), value 1 Event: time 1629538428.122631, type 1 (EV_KEY), code 113 (KEY_MUTE), value 1 Event: time 1629538429.874379, type 1 (EV_KEY), code 114 (KEY_VOLUMEDOWN), value 1 Event: time 1629538431.502425, type 1 (EV_KEY), code 115 (KEY_VOLUMEUP), value 1 Event: time 1629538434.682160, type 1 (EV_KEY), code 99 (KEY_SYSRQ), value 1 [root@axgk gk]# Strange that it sends double keystrokes for certain hw keys, e.g. Alt D when hitting F5 . I guess I stay with the F keys as default ;-)","title":"Function Keys"},{"location":"ll/hw/input/k860/#space-left-vs-right","text":"Space keys seem not distingishable - at least in user space, no difference between left and right: Space left - release - space right - release: Event: time 1629535046.403063, type 4 (EV_MSC), code 4 (MSC_SCAN), value 7002c Event: time 1629535046.403063, type 1 (EV_KEY), code 57 (KEY_SPACE), value 1 Event: time 1629535046.403063, -------------- SYN_REPORT ------------ Event: time 1629535051.341160, type 4 (EV_MSC), code 4 (MSC_SCAN), value 7002c Event: time 1629535051.341160, type 1 (EV_KEY), code 57 (KEY_SPACE), value 1 Event: time 1629535051.341160, -------------- SYN_REPORT ------------ guess I have to find sth else for better ctrl reach. I have to go to the physical layer:","title":"Space Left vs Right"},{"location":"ll/hw/input/k860/#hacking-real-world","text":"Me and my inability to accept reality constraints made me hack the solution for the ctrl key on layer 0: Disturbing Pictures Ahead Note This is NOT German Engineering! I'm a theoretical phycisist by eductione, no engineer Well, we did not stop there... Hitting a Ctrl key combi by just lowering the left hand is fun, that's the lego branch of that little innovation. So yeah. It works well for my big hands. Plus, sliding from my new thumbrest a bit to the right I even have a left spacekey . And hey, maybe I'll invest into some black color for the optics, some day. Lastly: No. I did not (yet) ruin that new keyboard - was just using (strong) adhesive tape on that ctrl key, could remove. If you think this is borderline insanity, then check out this guy... Or this:","title":"Hacking Real World"},{"location":"ll/hw/input/k860/#outlook","text":"THIS After 30 years on laptop keyboards, checking out a \"real\" one seriously got me intrigued a little into the matter. Next time in the city I might visit a retail store with mechanical keyboards, plus I'm really interested into trying ortholinear ones. The ergodox split keyboard really seems to be something you have to try... See also this overview of the different keyboards out there . Spoiler: Yes, pretty much everybody of these freaks seems to consolidate on a 40% ortholinear keyboard, often split. And often with staggered columns. Quote Move the keys to your fingers(using layers) - not your fingers to the keys. Quote That (heavily customized) keyboard becomes more a part of you, than of the machine. Really want to try one, I understand more and more how wrong classic keyboard layout actually is.","title":"Outlook"},{"location":"ll/hw/input/k860/#a-week-later-that-space-bar","text":"Looking at those huge spacebar(s): It is a joke, and I understand now that this is not a must-accept. The thumbs could do so much more than just hitting one huge space bar. It seems to me having a lot of thumb activated layer modifiers in place would be super ergonomic. Example: Left Thumb down -> arrow keys on hjkl, instead of leaving home row all the time => big win, e.g. for fzf , where selection must be bound to arrrows due to filtering active at the same time. I tried to mock layers, by xmodset-ing the keyboard layout when I hit e.g. capslock - but it is all hacks. For example you can never have the arrow keys on hjkl while a modifier is still pressed. While on those programmable ones, it's all IN the keyboard - and would work with any computer. See https://ergodox-ez.com/pages/customize-planck regarding the most accessible way of \"programming\" them and what you can do: Layer2 activated on modifier press, while pressed, or single shot... Not possible with software in the OS. It is even possible to have upper case when the letter is pressed longer than x milliseconds - erradicating the need for a shift key... - again, not possible (without mega hacks) via the OS.","title":"A Week Later: That Space Bar..."},{"location":"ll/hw/input/k860/#horizontal-staggering","text":"The row staggering, total joke , actually, its stupid and only there because in the past the hammers could not move when the keys where not offset from each other, horizontally... avoided jamming. Btw: The arrangement of the number pad actually says it all, they did that when we were in computer age. Grid . Simple and easy.","title":"Horizontal Staggering"},{"location":"ll/hw/input/k860/#resources","text":"","title":"Resources"},{"location":"ll/hw/input/k860/#guides","text":"how to look into /dev/input This guy's journey towards flat split column staggered:","title":"Guides"},{"location":"ll/hw/input/k860/#typing","text":"Best typing speed tester (for me): https://monkeytype.com","title":"Typing"},{"location":"ll/hw/input/k860/#building","text":"","title":"Building"},{"location":"ll/hw/input/k860/#programming","text":"QMK Configurator (to create the firmware) Guide","title":"Programming"},{"location":"ll/hw/input/k860/#shops-lists","text":"Here a list of split keyboards . Best Shop: boardsource Alternative: https://splitkb.com/ Corne: https://reallifeprogramming.com/corne-mx-3-0-keyboard-build-guide-9b5c7eff4178 typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Shops, Lists"},{"location":"ll/hw/input/keyboard/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Keyboards \u00a4 Tools X11 \u00a4 xmodmap evtest /dev/input anlysis See k860 setup. Lower Level Tweaking: showkey -a xkbcomp See HP Laptop setup. Flashing keyboard layouts on programmable ones: qmk See corne setup. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Keyboard"},{"location":"ll/hw/input/keyboard/#keyboards","text":"","title":"Keyboards"},{"location":"ll/hw/input/keyboard/#tools-x11","text":"xmodmap evtest /dev/input anlysis See k860 setup. Lower Level Tweaking: showkey -a xkbcomp See HP Laptop setup. Flashing keyboard layouts on programmable ones: qmk See corne setup. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Tools X11"},{"location":"ll/mkdocs/mkdocs/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } MkDocs \u00a4 A few lesser known (to me) features for better docs Code Blocks \u00a4 Detailled docs here here code hl_lines and linenums \u00a4 highlight lines in code blocks and show line numbers [2021-08-18 08:08] 42 43 44 45 class Foo : this = 'is highlighted' this = 'as well' this = 'not' via ``python hl_lines=\"2-3\" linenums=\"42\" class Foo: this = 'is highlighted' this = 'as well' this = 'not' `` Layout \u00a4 Enable - meta extension Add meta data like: --- hide: - navigation - toc --- # My Page (...) Inline \u00a4 keyboard modifier keys Ctrl + Alt + Del ... \u00a4 show nice symbols [2021-08-18 08:08] Simply type inline like this \" now hit ++ctrl+shift++-a \", rendered as \"now hit Ctrl + Shift -a\" (with pymdownx.keys) typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"MkDocs"},{"location":"ll/mkdocs/mkdocs/#mkdocs","text":"A few lesser known (to me) features for better docs","title":"MkDocs"},{"location":"ll/mkdocs/mkdocs/#code-blocks","text":"Detailled docs here here","title":"Code Blocks"},{"location":"ll/mkdocs/mkdocs/#code-hl_lines-and-linenums","text":"highlight lines in code blocks and show line numbers [2021-08-18 08:08] 42 43 44 45 class Foo : this = 'is highlighted' this = 'as well' this = 'not' via ``python hl_lines=\"2-3\" linenums=\"42\" class Foo: this = 'is highlighted' this = 'as well' this = 'not' ``","title":"code hl_lines and linenums"},{"location":"ll/mkdocs/mkdocs/#layout","text":"Enable - meta extension Add meta data like: --- hide: - navigation - toc --- # My Page (...)","title":"Layout"},{"location":"ll/mkdocs/mkdocs/#inline","text":"","title":"Inline"},{"location":"ll/mkdocs/mkdocs/#keyboard-modifier-keys-ctrlaltdel","text":"show nice symbols [2021-08-18 08:08] Simply type inline like this \" now hit ++ctrl+shift++-a \", rendered as \"now hit Ctrl + Shift -a\" (with pymdownx.keys) typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"keyboard modifier keys Ctrl+Alt+Del..."},{"location":"ll/obsidian/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Obsidian Plugin Dev \u00a4 Obsidian: https://www.sitepoint.com/obsidian-beginner-guide/ (tons of links) Following https://marcus.se.net/obsidian-plugin-docs/getting-started/development-workflow https://phibr0.medium.com/how-to-create-your-own-obsidian-plugin-53f2d5d44046 Dev \u00a4 Plugin location in .obsidian/plugins/obsidian-mycoolplugin npm install change manifest and package.json npm run dev must kept running Hot Reload \u00a4 You can spare reloading app all the time at changes: git clone git@github.com :pjeby/hot-reload.git into .obsidian/plugins of your Test vault and enable it. Chrome Debug Tools \u00a4 Ctrl-shift-i typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Obsidian Plugin Dev"},{"location":"ll/obsidian/#obsidian-plugin-dev","text":"Obsidian: https://www.sitepoint.com/obsidian-beginner-guide/ (tons of links) Following https://marcus.se.net/obsidian-plugin-docs/getting-started/development-workflow https://phibr0.medium.com/how-to-create-your-own-obsidian-plugin-53f2d5d44046","title":"Obsidian Plugin Dev"},{"location":"ll/obsidian/#dev","text":"Plugin location in .obsidian/plugins/obsidian-mycoolplugin npm install change manifest and package.json npm run dev must kept running","title":"Dev"},{"location":"ll/obsidian/#hot-reload","text":"You can spare reloading app all the time at changes: git clone git@github.com :pjeby/hot-reload.git into .obsidian/plugins of your Test vault and enable it.","title":"Hot Reload"},{"location":"ll/obsidian/#chrome-debug-tools","text":"Ctrl-shift-i typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Chrome Debug Tools"},{"location":"ll/sl/about/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Why Suckless \u00a4 I love suckless software . I have a pretty emotional relation with my machine and its OS, spending so much time with it. And although I had a \"perfect\" OSX setup (not that I'm smart but I fiddled over a decade to improve it via BTT, Alfred, Hammerspoon, (...), I got more and more ...irritated by the general behaviour of Apple, the megacorp, especially after Steve Jobs passed away from us. It was not not even their crap hardware they released at time of my switch in 2018 (F keys removed for an emojibar, no self repairability, throttling, broken keyboards, dongle hell). Because the machine which I used and loved was anyway a 2015 15' retina MBP, which I consider still a perfect pro-hardware for software devs in my area of work. And in 2020 they solved a lot of their problems in admittedly impressive ways, with M1. No, rationally there were good reasons to work on Linux directly and not in VMs or Containers, with the software in my area of work running on Linux. But why suckless? Switching to Linux, just to get a cheap attempt to be more \"fancy\" than OSX and also even more \"politically correct\" than Apple, was no option... Then I stumbled over Luke Smith and DT and learned with great excitement that there is this other, lean and clean but still very efficient way of interacting with the machine: The Window Manager only way. And looking around whats there, you sooner or later hit suckless. Most WMs are derived from it, e.g. XMonad. The whole WM is only 2k sloc(!) and it compiles in < 1 second(!) Yes qtile was actually the more sensible choice for a python guy like me but dwm code was so easy to read that I could, even as a C noob, even hack into it - plus: it's directly on the X11 libs and not hidden, like with qtile, by large frameworks in between. So: You can read the code and learn how a WM under X11 actually works. And its not just the WM: You learn that it was suckless who really invented how fzf, rofi and all these pipe-able list selection tools work - with dmenu . Then you'll learn how a terminal works - using st . If you ever tried to compile a VTE based , and I did because I wanted to change sth in terminator, you'll understand how simple (in the best sense possible) st is. And what bloat free really means, in terms of direct advantages. and they have so many more lean and clean tools like tabbed . typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"About"},{"location":"ll/sl/about/#why-suckless","text":"I love suckless software . I have a pretty emotional relation with my machine and its OS, spending so much time with it. And although I had a \"perfect\" OSX setup (not that I'm smart but I fiddled over a decade to improve it via BTT, Alfred, Hammerspoon, (...), I got more and more ...irritated by the general behaviour of Apple, the megacorp, especially after Steve Jobs passed away from us. It was not not even their crap hardware they released at time of my switch in 2018 (F keys removed for an emojibar, no self repairability, throttling, broken keyboards, dongle hell). Because the machine which I used and loved was anyway a 2015 15' retina MBP, which I consider still a perfect pro-hardware for software devs in my area of work. And in 2020 they solved a lot of their problems in admittedly impressive ways, with M1. No, rationally there were good reasons to work on Linux directly and not in VMs or Containers, with the software in my area of work running on Linux. But why suckless? Switching to Linux, just to get a cheap attempt to be more \"fancy\" than OSX and also even more \"politically correct\" than Apple, was no option... Then I stumbled over Luke Smith and DT and learned with great excitement that there is this other, lean and clean but still very efficient way of interacting with the machine: The Window Manager only way. And looking around whats there, you sooner or later hit suckless. Most WMs are derived from it, e.g. XMonad. The whole WM is only 2k sloc(!) and it compiles in < 1 second(!) Yes qtile was actually the more sensible choice for a python guy like me but dwm code was so easy to read that I could, even as a C noob, even hack into it - plus: it's directly on the X11 libs and not hidden, like with qtile, by large frameworks in between. So: You can read the code and learn how a WM under X11 actually works. And its not just the WM: You learn that it was suckless who really invented how fzf, rofi and all these pipe-able list selection tools work - with dmenu . Then you'll learn how a terminal works - using st . If you ever tried to compile a VTE based , and I did because I wanted to change sth in terminator, you'll understand how simple (in the best sense possible) st is. And what bloat free really means, in terms of direct advantages. and they have so many more lean and clean tools like tabbed . typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Why Suckless"},{"location":"ll/sl/dwm/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } DWM \u00a4 Patches \u00a4 These are my current patches: $ tree ~/.config/dwm/patches /home/gk/.config/dwm/patches \u251c\u2500\u2500 0001 -dwm-cyclelayouts-20180524-6.2.diff \u251c\u2500\u2500 01_dwm-alwayscenter-20200625-f04cac6.diff \u251c\u2500\u2500 02_dwm-columns-6.0.diff \u251c\u2500\u2500 03 -dwm-ewmhtags-20180101-db22360.diff \u251c\u2500\u2500 04 -dwm-gridmode-20170909-ceac8c9.diff \u251c\u2500\u2500 05 -dwm-focusonnetactive-6.2.diff \u251c\u2500\u2500 06 -dwm-autostart-20210120-cb3f58a.diff \u251c\u2500\u2500 07 -dwm-xfce4-panel-20210606-67d76bd.diff \u251c\u2500\u2500 08 -dwm-pertag-20200914-61bb8b2.diff \u251c\u2500\u2500 09 -dwm-setborderpx-6.2.diff \u251c\u2500\u2500 09 -dwm-vanitygaps-20190508-6.2.diff \u251c\u2500\u2500 10 -dwm-noborderfloatingfix-6.2.diff \u2514\u2500\u2500 dwm-xfce4-panel-20210701-67d76bd.diff 0 directories, 13 files xfce4-panel \u00a4 The statusbar is from myself, got accepted by the suckless guys as official patch (hooray). I made it because I wanted a systray but the official systray patch is massive and collided with other patches, e.g. statuscolors if I remember correctly Also statuscolors made dwm eat CPU, strangely, became often visible in htop - which is not suckless. Design \u00a4 It works by simple starting the panel as a normal window - but detecting it by window class name and moving it to the top right position, plus preventing it showing up in the tag indicators and at cyclewindow actions. See the diff here . Here is a description of the ride towards it... Hacking DWM: Xephyr \u00a4 xnest/Xephyr is totally amazing and one of the many reasons I prefer X11. Important Using Xephyr you can test all dwm patches w/o having to restart the actual one. This is far more convenient than switching back and forth between different Xsessions. This $ cat /home/gk/bin/xnest #!/usr/bin/env bash Xephyr -br -ac -noreset -screen 1800x1000 :1 & sleep 1 DISPLAY = :1 \" ${ 1 :- dwm } \" allows to start the full Xserver with window manager in a window - and with ctrl-shift it gets ALL keyboard events, incl. shortcuts of the outer DWM. Only things not working picom - but this you can test anyway nicely outside, did not dig into getting it up xfce4-panel - unless I kill it outside before starting xnest: Drag and Drop \u00a4 Not using a Desktop Environment but Window Manager only requires some integration for drag and drop, which you need all the time in the age of web based services. dragon is the solution, together with a little xdotool/scrot hack of mine: Here the script: Cmd Output $ bat -f /home/gk/bin/drag_into $ bat -f /home/gk/bin/drag_into \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m\u2502 \u001b[0mFile: \u001b[1m/home/gk/bin/drag_into\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m 1\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m!/usr/bin/env bash\u001b[0m \u001b[38;5;238m 2\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mset\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;253;151;31m-\u001b[0m\u001b[38;2;253;151;31mx\u001b[0m \u001b[38;5;238m 3\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mdoc\u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m0\u001b[0m\u001b[38;2;230;219;116m <filename|'shot'>\u001b[0m \u001b[38;5;238m 4\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 5\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;230;219;116mDrags a given file to where the mouse is using dragon. Click to drop it (anywere).\u001b[0m \u001b[38;5;238m 6\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;230;219;116mIf filename is 'shot' then the file will be a shot of a an area to be selected.\u001b[0m \u001b[38;5;238m 7\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 8\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 9\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mcmd_shot\u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mshot\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 10\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;249;38;114m=\u001b[0m \u001b[38;5;238m 11\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 12\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;166;226;46mexit_help\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m(\u001b[0m\u001b[38;2;255;255;255m)\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m{\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;102;217;239mecho\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;253;151;31m-\u001b[0m\u001b[38;2;253;151;31me\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mdoc\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;102;217;239mexit\u001b[0m\u001b[38;2;255;255;255m 1\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m}\u001b[0m \u001b[38;5;238m 13\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 14\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;166;226;46mselect_shot_area\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m(\u001b[0m\u001b[38;2;255;255;255m)\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m{\u001b[0m \u001b[38;5;238m 15\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m create screen shot \u001b[0m \u001b[38;5;238m 16\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mnotify-send\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mSelect area - we'll shoot it and drag to where the mouse is.\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 17\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;102;217;239mcd\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mHOME\u001b[0m\u001b[38;2;230;219;116m/Pictures/shots/\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m||\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;102;217;239mexit\u001b[0m\u001b[38;2;255;255;255m 1\u001b[0m \u001b[38;5;238m 18\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mrm\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mf\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mlatest.png\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 19\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m the cp we do to have convenient cp of always same files into images dirs:\u001b[0m \u001b[38;5;238m 20\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mscrot\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31ms\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m'\u001b[0m\u001b[38;2;230;219;116m%Y-%m-%d_$wx$h_scrot.png\u001b[0m\u001b[38;2;255;255;255m'\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31me\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m'\u001b[0m\u001b[38;2;230;219;116mln -s $f latest.png; cp $f last.png\u001b[0m\u001b[38;2;255;255;255m'\u001b[0m \u001b[38;5;238m 21\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116m`\u001b[0m\u001b[38;2;255;255;255mreadlink\u001b[0m\u001b[38;2;230;219;116m latest.png\u001b[0m\u001b[38;2;230;219;116m`\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 22\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m}\u001b[0m \u001b[38;5;238m 23\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 24\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;166;226;46mmain\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m(\u001b[0m\u001b[38;2;255;255;255m)\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m{\u001b[0m \u001b[38;5;238m 25\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mtest\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m1\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m == \u001b[0m\u001b[38;2;255;255;255m'\u001b[0m\u001b[38;2;230;219;116m-t\u001b[0m\u001b[38;2;255;255;255m'\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m&&\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m{\u001b[0m \u001b[38;5;238m 26\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mnotify-send\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mSleeping \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m2\u001b[0m\u001b[38;2;230;219;116m seconds before shot...\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 27\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255msleep\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m2\u001b[0m \u001b[38;5;238m 28\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;102;217;239mshift\u001b[0m\u001b[38;2;255;255;255m 2\u001b[0m \u001b[38;5;238m 29\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m}\u001b[0m \u001b[38;5;238m 30\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m1\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 31\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mtest\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mz\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mo\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m == \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116m-h\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m&&\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mexit_help\u001b[0m \u001b[38;5;238m 32\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;102;217;239meval\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;230;219;116m(\u001b[0m\u001b[38;2;255;255;255mxdotool\u001b[0m\u001b[38;2;230;219;116m getmouselocation\u001b[0m\u001b[38;2;253;151;31m --\u001b[0m\u001b[38;2;253;151;31mshell\u001b[0m\u001b[38;2;230;219;116m)\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m into $X and $Y\u001b[0m \u001b[38;5;238m 33\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mtest\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m == \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mcmd_shot\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m&&\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m{\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mselect_shot_area\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m||\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mreturn\u001b[0m\u001b[38;2;255;255;255m 1\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m}\u001b[0m \u001b[38;5;238m 34\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;102;217;239mset\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;253;151;31m-\u001b[0m\u001b[38;2;253;151;31mx\u001b[0m \u001b[38;5;238m 35\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mkillall\u001b[0m\u001b[38;2;255;255;255m dragon \u001b[0m\u001b[38;2;190;132;255m2\u001b[0m\u001b[38;2;249;38;114m>\u001b[0m\u001b[38;2;255;255;255m/dev/null \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m No accidential drops of wrong items ...\u001b[0m \u001b[38;5;238m 36\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mdragon --and-exit \"$file\" &\u001b[0m \u001b[38;5;238m 37\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m dragon \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m&\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m when the target is not visible we have a hard time\u001b[0m \u001b[38;5;238m 38\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m wait for dragon window to show up:\u001b[0m \u001b[38;5;238m 39\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mwhile\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mtrue\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mdo\u001b[0m \u001b[38;5;238m 40\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mxid\u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;230;219;116m(\u001b[0m\u001b[38;2;255;255;255mxdotool\u001b[0m\u001b[38;2;230;219;116m search\u001b[0m\u001b[38;2;253;151;31m --\u001b[0m\u001b[38;2;253;151;31monlyvisible\u001b[0m\u001b[38;2;253;151;31m --\u001b[0m\u001b[38;2;253;151;31mclass\u001b[0m\u001b[38;2;230;219;116m dragon\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;249;38;114m|\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;255;255;255mhead\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mn\u001b[0m\u001b[38;2;230;219;116m 2\u001b[0m\u001b[38;2;230;219;116m)\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 41\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mtest\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mz\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mxid\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m||\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mbreak\u001b[0m \u001b[38;5;238m 42\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255msleep\u001b[0m\u001b[38;2;255;255;255m 0.05\u001b[0m \u001b[38;5;238m 43\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mdone\u001b[0m \u001b[38;5;238m 44\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m now click the dragon window and stay on the button:\u001b[0m \u001b[38;5;238m 45\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mxdotool\u001b[0m\u001b[38;2;255;255;255m mousemove\u001b[0m\u001b[38;2;253;151;31m --\u001b[0m\u001b[38;2;253;151;31msync\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mw\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mxid\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m 1 1 mousedown 1 mousemove \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mX\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mY\u001b[0m\u001b[38;2;255;255;255m \u001b[0m \u001b[38;5;238m 46\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mnotify-send\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mClick to drop \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;230;219;116m or hit escape. We will kill the dragon window in a minute... \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 47\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m(\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255msleep\u001b[0m\u001b[38;2;255;255;255m 60\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mxkill\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mid\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mxid\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m)\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m&\u001b[0m \u001b[38;5;238m 48\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m}\u001b[0m \u001b[38;5;238m 49\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 50\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mmain\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m@\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 51\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m I.e.: Hotkey to start script -> select area -> click into drop area. Done. It uses scrot to make a screenshot of a selected area, then dragon to create a drag window top left, then xdotool to click and drag that to the point where you click. Services \u00a4 Via the autostart patch I start these: Cmd Output $ bat -f /home/gk/.config/dwm/autostart.sh $ bat -f /home/gk/.config/dwm/autostart.sh \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m\u2502 \u001b[0mFile: \u001b[1m/home/gk/.config/dwm/autostart.sh\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m 1\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m!/bin/bash\u001b[0m \u001b[38;5;238m 2\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mhere\u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;230;219;116m(\u001b[0m\u001b[38;2;166;226;46mbuiltin\u001b[0m\u001b[38;2;230;219;116m cd \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;230;219;116m(\u001b[0m\u001b[38;2;255;255;255mdirname\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;230;219;116m{\u001b[0m\u001b[38;2;255;255;255mBASH_SOURCE\u001b[0m\u001b[38;2;255;255;255m[\u001b[0m\u001b[38;2;190;132;255m0\u001b[0m\u001b[38;2;255;255;255m]\u001b[0m\u001b[38;2;230;219;116m}\u001b[0m\u001b[38;2;230;219;116m)\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;255;255;255mpwd\u001b[0m\u001b[38;2;230;219;116m)\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 3\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 4\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;166;226;46mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m{\u001b[0m \u001b[38;5;238m 5\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mif\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m!\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mpgrep\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;230;219;116m(\u001b[0m\u001b[38;2;255;255;255mbasename\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m1\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116m)\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m;\u001b[0m \u001b[38;5;238m 6\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 7\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m@\u001b[0m\u001b[38;2;249;38;114m&\u001b[0m \u001b[38;5;238m 8\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mfi\u001b[0m \u001b[38;5;238m 9\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m}\u001b[0m \u001b[38;5;238m 10\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 11\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mHOME\u001b[0m\u001b[38;2;255;255;255m/bin/X11_setup.sh\u001b[0m \u001b[38;5;238m 12\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 13\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"dex $HOME/.config/autostart/arcolinux-welcome-app.desktop\"\u001b[0m \u001b[38;5;238m 14\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"xrandr --output VGA-1 --primary --mode 1360x768 --pos 0x0 --rotate normal\"\u001b[0m \u001b[38;5;238m 15\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"xrandr --output HDMI2 --mode 1920x1080 --pos 1920x0 --rotate normal --output HDMI1 --primary --mode 1920x1080 --pos 0x0 --rotate normal --output VIRTUAL1 --off\"\u001b[0m \u001b[38;5;238m 16\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun xrandr --output eDP-1 --primary --mode 1368x768 --pos 0x0 --rotate normal --output DP-1 --off --output HDMI-1 --off --output DP-2 --off --output HDMI-2 --off\u001b[0m \u001b[38;5;238m 17\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun xrandr --output LVDS1 --mode 1366x768 --output DP3 --mode 1920x1080 --right-of LVDS1\u001b[0m \u001b[38;5;238m 18\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun xrandr --output DVI-I-0 --right-of HDMI-0 --auto\u001b[0m \u001b[38;5;238m 19\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun xrandr --output DVI-1 --right-of DVI-0 --auto\u001b[0m \u001b[38;5;238m 20\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun xrandr --output DVI-D-1 --right-of DVI-I-1 --auto\u001b[0m \u001b[38;5;238m 21\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun xrandr --output HDMI2 --right-of HDMI1 --auto\u001b[0m \u001b[38;5;238m 22\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 23\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"pasystray\"\u001b[0m \u001b[38;5;238m 24\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mnm-applet\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 25\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mpamac-tray\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 26\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mvariety\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 27\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mxfce4-power-manager\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 28\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"blueberry-tray\"\u001b[0m \u001b[38;5;238m 29\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116m/usr/lib/xfce4/notifyd/xfce4-notifyd\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 30\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116m/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 31\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mnumlockx on\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 32\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mhere\u001b[0m\u001b[38;2;230;219;116m/cpu_mon.py\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 33\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"volumeicon\"\u001b[0m \u001b[38;5;238m 34\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"$HOME/.config/dwm/status.py\" # restarting:\u001b[0m \u001b[38;5;238m 35\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m sxhkd\u001b[0m \u001b[38;5;238m 36\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun st\u001b[0m \u001b[38;5;238m 37\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mhere\u001b[0m\u001b[38;2;255;255;255m/panel.sh\u001b[0m \u001b[38;5;238m 38\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m picom\u001b[0m \u001b[38;5;238m 39\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m /usr/lib64/xfce4/notifyd/xfce4-notifyd\u001b[0m \u001b[38;5;238m 40\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m collides with panel setup when overlapping in time:\u001b[0m \u001b[38;5;238m 41\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m(\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255msleep\u001b[0m\u001b[38;2;255;255;255m 4\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mxrdb\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mload\u001b[0m\u001b[38;2;255;255;255m .config/st_theme/Xresources\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m)\u001b[0m \u001b[38;5;238m 42\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mpicom -b --config ~/.config/arco-dwm/picom.conf &\u001b[0m \u001b[38;5;238m 43\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"nitrogen --restore\"\u001b[0m \u001b[38;5;238m 44\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 45\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m this is run every second!\u001b[0m \u001b[38;5;238m 46\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m( while true; do sleep 4; copyq; done ) & # our clip board science\u001b[0m \u001b[38;5;238m 47\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m run \"copyq\" # autostarts \u001b[0m \u001b[38;5;238m 48\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"conky -c $HOME/.config/dwm/system-overview-conky\"\u001b[0m \u001b[38;5;238m 49\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101myou can set wallpapers in themes as well\u001b[0m \u001b[38;5;238m 50\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mfeh --bg-fill /usr/share/backgrounds/arcolinux/arco-wallpaper.jpg &\u001b[0m \u001b[38;5;238m 51\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 52\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun applications from startup\u001b[0m \u001b[38;5;238m 53\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 54\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"insync start\"\u001b[0m \u001b[38;5;238m 55\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"spotify\"\u001b[0m \u001b[38;5;238m 56\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"ckb-next -b\"\u001b[0m \u001b[38;5;238m 57\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"discord\"\u001b[0m \u001b[38;5;238m 58\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"telegram-desktop\"\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m No Gaps - but Gaps \u00a4 Vanitygaps is bloated plus I wanted a prominent active window indicator. Solution: I simply use thick borders and have them black for the non active window and white for the active one via dwm, then set them to 0.7 transparent via picom: # Opacity of window titlebars and borders. (0.1 - 1.0, disabled by default) # frame-opacity = 1.0 frame-opacity = 0.7; => That effects black far more than white. I.e. there are actually no gaps - but the illusion is given. Misc Tips \u00a4 On a fresh xfce spin fedora use lxappearance for gtk theming. Mouse cursor size: .Xresources -> Xcursor.size 40 Config \u00a4 For varying shortcuts I don't recompile dwm but use sxhkdrc: Cmd Output $ bat -f /home/gk/.config/sxhkd/sxhkdrc $ bat -f /home/gk/.config/sxhkd/sxhkdrc \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m\u2502 \u001b[0mFile: \u001b[1m/home/gk/.config/sxhkd/sxhkdrc\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m 1\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 2\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# KEYBOARD BINDINGS FOR ANY TWM\u001b[0m \u001b[38;5;238m 3\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 4\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 5\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 6\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# SUPER + FUNCTION KEYS\u001b[0m \u001b[38;5;238m 7\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 8\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# Vivaldi\u001b[0m \u001b[38;5;238m 9\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F1\u001b[0m \u001b[38;5;238m 10\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m vivaldi-stable\u001b[0m \u001b[38;5;238m 11\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 12\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# Atom\u001b[0m \u001b[38;5;238m 13\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F2\u001b[0m \u001b[38;5;238m 14\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m atom\u001b[0m \u001b[38;5;238m 15\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 16\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Inkscape\u001b[0m \u001b[38;5;238m 17\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F3\u001b[0m \u001b[38;5;238m 18\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m inkscape\u001b[0m \u001b[38;5;238m 19\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 20\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Gimp\u001b[0m \u001b[38;5;238m 21\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F4\u001b[0m \u001b[38;5;238m 22\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m gimp\u001b[0m \u001b[38;5;238m 23\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 24\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Meld\u001b[0m \u001b[38;5;238m 25\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F5\u001b[0m \u001b[38;5;238m 26\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m meld\u001b[0m \u001b[38;5;238m 27\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 28\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Vlc\u001b[0m \u001b[38;5;238m 29\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F6\u001b[0m \u001b[38;5;238m 30\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m vlc --video-on-top\u001b[0m \u001b[38;5;238m 31\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 32\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Virtualbox\u001b[0m \u001b[38;5;238m 33\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F7\u001b[0m \u001b[38;5;238m 34\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m virtualbox\u001b[0m \u001b[38;5;238m 35\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 36\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Thunar\u001b[0m \u001b[38;5;238m 37\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F8\u001b[0m \u001b[38;5;238m 38\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m thunar\u001b[0m \u001b[38;5;238m 39\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 40\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Evolution\u001b[0m \u001b[38;5;238m 41\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F9\u001b[0m \u001b[38;5;238m 42\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m evolution\u001b[0m \u001b[38;5;238m 43\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 44\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Spotify\u001b[0m \u001b[38;5;238m 45\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F10\u001b[0m \u001b[38;5;238m 46\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m spotify\u001b[0m \u001b[38;5;238m 47\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 48\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Rofi Fullscreen\u001b[0m \u001b[38;5;238m 49\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F11\u001b[0m \u001b[38;5;238m 50\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m rofi -show run -fullscreen\u001b[0m \u001b[38;5;238m 51\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 52\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Rofi\u001b[0m \u001b[38;5;238m 53\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F12\u001b[0m \u001b[38;5;238m 54\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m rofi -show run\u001b[0m \u001b[38;5;238m 55\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 56\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 57\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# SUPER + ... KEYS\u001b[0m \u001b[38;5;238m 58\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 59\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 60\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Atom\u001b[0m \u001b[38;5;238m 61\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + e\u001b[0m \u001b[38;5;238m 62\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m atom\u001b[0m \u001b[38;5;238m 63\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 64\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Browser\u001b[0m \u001b[38;5;238m 65\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + w\u001b[0m \u001b[38;5;238m 66\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m vivaldi-stable\u001b[0m \u001b[38;5;238m 67\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 68\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Conky-toggle\u001b[0m \u001b[38;5;238m 69\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + c\u001b[0m \u001b[38;5;238m 70\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m conky-toggle\u001b[0m \u001b[38;5;238m 71\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 72\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Htop\u001b[0m \u001b[38;5;238m 73\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#super + h\u001b[0m \u001b[38;5;238m 74\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# urxvt 'htop task manager' -e htop\u001b[0m \u001b[38;5;238m 75\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 76\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#arcolinux-logout\u001b[0m \u001b[38;5;238m 77\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + x\u001b[0m \u001b[38;5;238m 78\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m arcolinux-logout\u001b[0m \u001b[38;5;238m 79\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 80\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Rofi theme selector\u001b[0m \u001b[38;5;238m 81\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + r\u001b[0m \u001b[38;5;238m 82\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m rofi-theme-selector\u001b[0m \u001b[38;5;238m 83\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 84\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Urxvt\u001b[0m \u001b[38;5;238m 85\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#super + t\u001b[0m \u001b[38;5;238m 86\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# urxvt\u001b[0m \u001b[38;5;238m 87\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 88\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Pavucontrol\u001b[0m \u001b[38;5;238m 89\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + v\u001b[0m \u001b[38;5;238m 90\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m pavucontrol\u001b[0m \u001b[38;5;238m 91\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 92\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Pragha\u001b[0m \u001b[38;5;238m 93\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#super + m\u001b[0m \u001b[38;5;238m 94\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# pragha\u001b[0m \u001b[38;5;238m 95\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 96\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Termite\u001b[0m \u001b[38;5;238m 97\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + Return\u001b[0m \u001b[38;5;238m 98\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m termite\u001b[0m \u001b[38;5;238m 99\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 100\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Xkill\u001b[0m \u001b[38;5;238m 101\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + Escape\u001b[0m \u001b[38;5;238m 102\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m xkill\u001b[0m \u001b[38;5;238m 103\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 104\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Keyboard dependent\u001b[0m \u001b[38;5;238m 105\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#termite\u001b[0m \u001b[38;5;238m 106\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + KP_Enter\u001b[0m \u001b[38;5;238m 107\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m termite\u001b[0m \u001b[38;5;238m 108\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 109\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 110\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# SUPER + SHIFT KEYS\u001b[0m \u001b[38;5;238m 111\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 112\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 113\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#File-Manager\u001b[0m \u001b[38;5;238m 114\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + shift + Return\u001b[0m \u001b[38;5;238m 115\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m thunar\u001b[0m \u001b[38;5;238m 116\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 117\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Keyboard dependent\u001b[0m \u001b[38;5;238m 118\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#File-Manager\u001b[0m \u001b[38;5;238m 119\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + shift + KP_Enter\u001b[0m \u001b[38;5;238m 120\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m thunar\u001b[0m \u001b[38;5;238m 121\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 122\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#dmenu\u001b[0m \u001b[38;5;238m 123\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + shift + d\u001b[0m \u001b[38;5;238m 124\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m dmenu_run -i -nb '#191919' -nf '#fea63c' -sb '#fea63c' -sf '#191919' -fn 'NotoMonoRegular:bold:pixelsize=14'\u001b[0m \u001b[38;5;238m 125\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 126\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#reload sxhkd:\u001b[0m \u001b[38;5;238m 127\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + shift + s\u001b[0m \u001b[38;5;238m 128\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m pkill -USR1 -x sxhkd; notify-send -u critical \"sxhkd config reloaded\"\u001b[0m \u001b[38;5;238m 129\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 130\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 131\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 132\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# CONTROL + ALT KEYS\u001b[0m \u001b[38;5;238m 133\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 134\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 135\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#arcolinux-welcome-app\u001b[0m \u001b[38;5;238m 136\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + w\u001b[0m \u001b[38;5;238m 137\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m arcolinux-welcome-app\u001b[0m \u001b[38;5;238m 138\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 139\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#arcolinux-tweak-tool\u001b[0m \u001b[38;5;238m 140\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + e\u001b[0m \u001b[38;5;238m 141\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m arcolinux-tweak-tool\u001b[0m \u001b[38;5;238m 142\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 143\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#conky-rotate\u001b[0m \u001b[38;5;238m 144\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + Next\u001b[0m \u001b[38;5;238m 145\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m conky-rotate -n\u001b[0m \u001b[38;5;238m 146\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 147\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#conky-rotate\u001b[0m \u001b[38;5;238m 148\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + Prior\u001b[0m \u001b[38;5;238m 149\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m conky-rotate -p\u001b[0m \u001b[38;5;238m 150\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 151\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#File-Manager\u001b[0m \u001b[38;5;238m 152\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + b\u001b[0m \u001b[38;5;238m 153\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m thunar\u001b[0m \u001b[38;5;238m 154\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 155\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Catfish\u001b[0m \u001b[38;5;238m 156\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + c\u001b[0m \u001b[38;5;238m 157\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m catfish\u001b[0m \u001b[38;5;238m 158\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 159\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Chromium\u001b[0m \u001b[38;5;238m 160\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + g\u001b[0m \u001b[38;5;238m 161\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m chromium -no-default-browser-check\u001b[0m \u001b[38;5;238m 162\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 163\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Firefox\u001b[0m \u001b[38;5;238m 164\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + f\u001b[0m \u001b[38;5;238m 165\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m firefox\u001b[0m \u001b[38;5;238m 166\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 167\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Nitrogen\u001b[0m \u001b[38;5;238m 168\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + i\u001b[0m \u001b[38;5;238m 169\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m nitrogen\u001b[0m \u001b[38;5;238m 170\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 171\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#arcolinux-logout\u001b[0m \u001b[38;5;238m 172\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + k\u001b[0m \u001b[38;5;238m 173\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m arcolinux-logout\u001b[0m \u001b[38;5;238m 174\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 175\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#arcolinux-logout\u001b[0m \u001b[38;5;238m 176\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + l\u001b[0m \u001b[38;5;238m 177\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m arcolinux-logout\u001b[0m \u001b[38;5;238m 178\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 179\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 180\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Xfce4-settings-manager\u001b[0m \u001b[38;5;238m 181\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + m\u001b[0m \u001b[38;5;238m 182\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m xfce4-settings-manager\u001b[0m \u001b[38;5;238m 183\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 184\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Pulse Audio Control\u001b[0m \u001b[38;5;238m 185\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + u\u001b[0m \u001b[38;5;238m 186\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m pavucontrol\u001b[0m \u001b[38;5;238m 187\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 188\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Rofi theme selector\u001b[0m \u001b[38;5;238m 189\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + r\u001b[0m \u001b[38;5;238m 190\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m rofi-theme-selector\u001b[0m \u001b[38;5;238m 191\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 192\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Spotify\u001b[0m \u001b[38;5;238m 193\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + s\u001b[0m \u001b[38;5;238m 194\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m spotify\u001b[0m \u001b[38;5;238m 195\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 196\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Termite\u001b[0m \u001b[38;5;238m 197\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + Return\u001b[0m \u001b[38;5;238m 198\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m st\u001b[0m \u001b[38;5;238m 199\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 200\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#termite\u001b[0m \u001b[38;5;238m 201\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + t\u001b[0m \u001b[38;5;238m 202\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m termite\u001b[0m \u001b[38;5;238m 203\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 204\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Vivaldi\u001b[0m \u001b[38;5;238m 205\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + v\u001b[0m \u001b[38;5;238m 206\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m vivaldi-stable\u001b[0m \u001b[38;5;238m 207\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 208\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Xfce4-appfinder\u001b[0m \u001b[38;5;238m 209\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + a\u001b[0m \u001b[38;5;238m 210\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m xfce4-appfinder\u001b[0m \u001b[38;5;238m 211\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 212\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Keyboard dependent\u001b[0m \u001b[38;5;238m 213\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#termite\u001b[0m \u001b[38;5;238m 214\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#ctrl + alt + KP_Enter\u001b[0m \u001b[38;5;238m 215\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# termite\u001b[0m \u001b[38;5;238m 216\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 217\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 218\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 219\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# ALT + ... KEYS\u001b[0m \u001b[38;5;238m 220\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 221\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 222\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper trash\u001b[0m \u001b[38;5;238m 223\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + t\u001b[0m \u001b[38;5;238m 224\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety -t\u001b[0m \u001b[38;5;238m 225\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 226\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper next\u001b[0m \u001b[38;5;238m 227\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + n\u001b[0m \u001b[38;5;238m 228\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety -n\u001b[0m \u001b[38;5;238m 229\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 230\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper previous\u001b[0m \u001b[38;5;238m 231\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + p\u001b[0m \u001b[38;5;238m 232\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety -p\u001b[0m \u001b[38;5;238m 233\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 234\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper favorite\u001b[0m \u001b[38;5;238m 235\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + f\u001b[0m \u001b[38;5;238m 236\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety -f\u001b[0m \u001b[38;5;238m 237\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 238\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper previous\u001b[0m \u001b[38;5;238m 239\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + Left\u001b[0m \u001b[38;5;238m 240\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety -p\u001b[0m \u001b[38;5;238m 241\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 242\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper next\u001b[0m \u001b[38;5;238m 243\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + Right\u001b[0m \u001b[38;5;238m 244\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety -n\u001b[0m \u001b[38;5;238m 245\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 246\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper toggle-pause\u001b[0m \u001b[38;5;238m 247\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + Up\u001b[0m \u001b[38;5;238m 248\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety --toggle-pause\u001b[0m \u001b[38;5;238m 249\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 250\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper resume\u001b[0m \u001b[38;5;238m 251\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + Down\u001b[0m \u001b[38;5;238m 252\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety --resume\u001b[0m \u001b[38;5;238m 253\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 254\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Gmrun\u001b[0m \u001b[38;5;238m 255\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + F2\u001b[0m \u001b[38;5;238m 256\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# gmrun\u001b[0m \u001b[38;5;238m 257\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 258\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Xfce4-appfinder\u001b[0m \u001b[38;5;238m 259\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + F3\u001b[0m \u001b[38;5;238m 260\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# xfce4-appfinder\u001b[0m \u001b[38;5;238m 261\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 262\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 263\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 264\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#VARIETY KEYS WITH PYWAL\u001b[0m \u001b[38;5;238m 265\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 266\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 267\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Wallpaper trash\u001b[0m \u001b[38;5;238m 268\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242malt + shift + w\u001b[0m \u001b[38;5;238m 269\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m variety --selector \u001b[0m \u001b[38;5;238m 270\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 271\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Wallpaper next\u001b[0m \u001b[38;5;238m 272\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242malt + shift + n\u001b[0m \u001b[38;5;238m 273\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m variety -n && wal -i $(cat $HOME/.config/variety/wallpaper/wallpaper.jpg.txt)&\u001b[0m \u001b[38;5;238m 274\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 275\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Wallpaper previous\u001b[0m \u001b[38;5;238m 276\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242malt + shift + p\u001b[0m \u001b[38;5;238m 277\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m variety -p && wal -i $(cat $HOME/.config/variety/wallpaper/wallpaper.jpg.txt)&\u001b[0m \u001b[38;5;238m 278\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 279\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Wallpaper favorite\u001b[0m \u001b[38;5;238m 280\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242malt + shift + f\u001b[0m \u001b[38;5;238m 281\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m variety -f && wal -i $(cat $HOME/.config/variety/wallpaper/wallpaper.jpg.txt)&\u001b[0m \u001b[38;5;238m 282\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 283\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Wallpaper update\u001b[0m \u001b[38;5;238m 284\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242malt + shift + u\u001b[0m \u001b[38;5;238m 285\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m wal -i $(cat $HOME/.config/variety/wallpaper/wallpaper.jpg.txt)&\u001b[0m \u001b[38;5;238m 286\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 287\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 288\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# CONTROL + SHIFT KEYS\u001b[0m \u001b[38;5;238m 289\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 290\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 291\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Xcfe4-TaskManager\u001b[0m \u001b[38;5;238m 292\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + shift + Escape\u001b[0m \u001b[38;5;238m 293\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m xfce4-taskmanager\u001b[0m \u001b[38;5;238m 294\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 295\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 296\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 297\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# SCREENSHOTS\u001b[0m \u001b[38;5;238m 298\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 299\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 300\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Scrot\u001b[0m \u001b[38;5;238m 301\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mPrint\u001b[0m \u001b[38;5;238m 302\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m scrot 'ArcoLinux-%Y-%m-%d-%s_screenshot_$wx$h.jpg' -e 'mv $f $$(xdg-user-dir PICTURES)'\u001b[0m \u001b[38;5;238m 303\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 304\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#screeenshooter\u001b[0m \u001b[38;5;238m 305\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + Print\u001b[0m \u001b[38;5;238m 306\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m xfce4-screenshooter\u001b[0m \u001b[38;5;238m 307\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 308\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Gnome-Screenshot\u001b[0m \u001b[38;5;238m 309\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + shift + Print\u001b[0m \u001b[38;5;238m 310\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m gnome-screenshot -i\u001b[0m \u001b[38;5;238m 311\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 312\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 313\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 314\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# FUNCTION KEYS\u001b[0m \u001b[38;5;238m 315\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 316\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 317\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#xfce4-terminal dropdown\u001b[0m \u001b[38;5;238m 318\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mF12\u001b[0m \u001b[38;5;238m 319\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m xfce4-terminal --drop-down\u001b[0m \u001b[38;5;238m 320\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 321\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Delete\u001b[0m \u001b[38;5;238m 322\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + Delete\u001b[0m \u001b[38;5;238m 323\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m /usr/bin/python /usr/lib/arcologout/arcologout.py\u001b[0m \u001b[38;5;238m 324\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 325\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 326\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 327\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# MULTIMEDIA KEYS\u001b[0m \u001b[38;5;238m 328\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 329\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 330\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Raises volume\u001b[0m \u001b[38;5;238m 331\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86AudioRaiseVolume\u001b[0m \u001b[38;5;238m 332\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m /home/gk/bin/hw audioraise\u001b[0m \u001b[38;5;238m 333\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m #amixer set Master 10%+\u001b[0m \u001b[38;5;238m 334\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 335\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Lowers volume\u001b[0m \u001b[38;5;238m 336\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86AudioLowerVolume\u001b[0m \u001b[38;5;238m 337\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m /home/gk/bin/hw audiolower\u001b[0m \u001b[38;5;238m 338\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m #amixer set Master 10%-\u001b[0m \u001b[38;5;238m 339\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 340\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Mute\u001b[0m \u001b[38;5;238m 341\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86AudioMute\u001b[0m \u001b[38;5;238m 342\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m /home/gk/bin/hw audiomute\u001b[0m \u001b[38;5;238m 343\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m #amixer -D pulse set Master 1+ toggle\u001b[0m \u001b[38;5;238m 344\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 345\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86Display\u001b[0m \u001b[38;5;238m 346\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m /home/gk/bin/hw display\u001b[0m \u001b[38;5;238m 347\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Playerctl works for Pragha, Spotify and others\u001b[0m \u001b[38;5;238m 348\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Delete the line for playerctl if you want to use mpc\u001b[0m \u001b[38;5;238m 349\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#and replace it with the corresponding code\u001b[0m \u001b[38;5;238m 350\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#mpc works for e.g.ncmpcpp\u001b[0m \u001b[38;5;238m 351\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#mpc toggle\u001b[0m \u001b[38;5;238m 352\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#mpc next\u001b[0m \u001b[38;5;238m 353\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#mpc prev\u001b[0m \u001b[38;5;238m 354\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#mpc stop\u001b[0m \u001b[38;5;238m 355\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 356\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#PLAY\u001b[0m \u001b[38;5;238m 357\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86AudioPlay\u001b[0m \u001b[38;5;238m 358\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m playerctl play-pause\u001b[0m \u001b[38;5;238m 359\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 360\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Next\u001b[0m \u001b[38;5;238m 361\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86AudioNext\u001b[0m \u001b[38;5;238m 362\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m playerctl next\u001b[0m \u001b[38;5;238m 363\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 364\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#previous\u001b[0m \u001b[38;5;238m 365\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86AudioPrev\u001b[0m \u001b[38;5;238m 366\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m playerctl previous\u001b[0m \u001b[38;5;238m 367\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 368\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Stop\u001b[0m \u001b[38;5;238m 369\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86AudioStop\u001b[0m \u001b[38;5;238m 370\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m playerctl stop\u001b[0m \u001b[38;5;238m 371\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 372\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Brightness up\u001b[0m \u001b[38;5;238m 373\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#XF86MonBrightnessUp\u001b[0m \u001b[38;5;238m 374\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# xbacklight -inc 10\u001b[0m \u001b[38;5;238m 375\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 376\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Brightness down\u001b[0m \u001b[38;5;238m 377\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#XF86MonBrightnessDown\u001b[0m \u001b[38;5;238m 378\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# xbacklight -dec 10\u001b[0m \u001b[38;5;238m 379\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 380\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 381\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 382\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 383\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m################## DESKTOP SPECIFIC ########################\u001b[0m \u001b[38;5;238m 384\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 385\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 386\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 387\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 388\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# CTRL + ALT KEYS\u001b[0m \u001b[38;5;238m 389\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 390\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 391\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + super + f\u001b[0m \u001b[38;5;238m 392\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m /home/gk/bin/find_and_type_file\u001b[0m \u001b[38;5;238m 393\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Picom Toggle\u001b[0m \u001b[38;5;238m 394\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + p\u001b[0m \u001b[38;5;238m 395\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m ~/bin/picom-toggle.sh\u001b[0m \u001b[38;5;238m 396\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 397\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242malt + d\u001b[0m \u001b[38;5;238m 398\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m ~/bin/type_date_into_window\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m This is my full config $ cat / home / gk / . config / dwm / config . h /* See LICENSE file for copyright and license details. */ // clang-format off #include <X11/XF86keysym.h> /* appearance */ static const unsigned int borderpx = 12 ; /* border pixel of windows */ static const unsigned int snap = 32 ; /* snap pixel */ /*static const int bar_right_offset = 180 ; offset from the right -depends on color tags used in dwmbar. increase if you use more of them, 0 would be correct w/o any color tag */ static const int bar_right_offset = 0 ; /* offset from the right -depends on color tags used in dwmbar. increase if you use more of them, 0 would be correct w/o any color tag */ static const int showbar = 1 ; /* 0 means no bar */ static const int topbar = 1 ; /* 0 means bottom bar */ /* We get those all from .Xresources, dynmaically: static const char *fonts[] = { \"monospace:size=10\" }; static const char dmenufont[] = \"monospace:size=10\"; static const char col_gray1[] = \"#222222\"; static const char col_gray2[] = \"#444444\"; static const char col_gray3[] = \"#bbbbbb\"; static const char col_gray4[] = \"#eeeeee\"; static const char col_cyan[] = \"#005577\"; static const char *colors[][3] = { [SchemeNorm] = { col_gray3, col_gray1, col_gray2 }, [SchemeSel] = { col_gray4, col_cyan, col_cyan }, }; static const char *tags[] = { \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\" }; static const char *fonts[] = { \"unifont:size = 13\" }; */ static const char * fonts [] = { \"Hack:size=13\" }; static const char panel [][ 20 ] = { \"xfce4-panel\" , \"Xfce4-panel\" }; static const unsigned int baralpha = 0x10 ; static const unsigned int borderalpha = 0x10 ; /* * See https://github.com/jgrar/dwm-patches/tree/master/statuscolors, regarding how to close gaps in progrss meters * and this regarind how to really make it fancy: https://www.reddit.com/r/unixporn/comments/8hrkt3/dwm_powerline_themed_status_bar [SchemeSel] = { \"#999999\", \"#111111\", \"#88b7c1\" }, * */ static const char * colors [][ 4 ] = { /* fg bg border */ [ SchemeNorm ] = { \"#555555\" , \"#111111\" , \"#000\" }, [ SchemeSel ] = { \"#999999\" , \"#111111\" , \"#999\" }, [ SchemeAX ] = { \"#bbb\" , \"#8bd124\" , \"#666\" }, }; /* statuscolors not required anymore, we have xfce4-panel [SchemeWarn] = { \"#eeee00\", \"#111111\", \"#666\" }, [SchemeUrgent] = { \"#ee0000\", \"#111111\", \"#666\" }, [SchemeGood] = { \"#8bd124\", \"#111111\", \"#666\" }, [SchemeGray] = { \"#999\" , \"#111111\", \"#666\" }, }; */ /* static const unsigned int alphas[][3] = { * fg bg border * [SchemeNorm] = { OPAQUE, baralpha, borderalpha }, [SchemeSel] = { OPAQUE, baralpha, borderalpha }, }; */ /* tagging static const char *tags[] = { \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\" }; */ static char * tags [] = { \"\u4e00\" , \"\u4e8c\" , \"\u4e09\" , \"\u56db\" , \"\u4e94\" , \"\u516d\" , \"\u4e03\" , \"\u516b\" , \"\u4e5d\" }; static char dmenumon [ 2 ] = \"0\" ; /* component of dmenucmd, manipulated in spawn() */ static const char * dmenucmd [] = { \"bin/rofi_utils_select\" , \"startup\" , NULL }; static const Rule rules [] = { /* xprop(1): * WM_CLASS(STRING) = instance, class * WM_NAME(STRING) = title */ /* class instance title tags mask , isfloating monitor */ { \"Arcologout.py\" , NULL , NULL , 0 , 1 , -1 }, { \"SimpleScreenRecorder\" , NULL , NULL , 0 , 1 , -1 }, { panel [ 1 ], NULL , NULL , ( 1 << 9 ) - 1 , 0 , -1 }, { \"Xfce4-appfinder\" , NULL , NULL , ( 1 << 9 ) - 1 , 1 , -1 }, { \"Xfrun4\" , NULL , NULL , ( 1 << 9 ) - 1 , 1 , -1 }, { \"Peek\" , NULL , NULL , 0 , 1 , -1 }, { \"Dragon\" , NULL , NULL , ( 1 << 9 ) - 1 , 1 , -1 }, { \"flameshot\" , NULL , NULL , ( 1 << 9 ) - 1 , 1 , -1 }, { \"Variety\" , NULL , NULL , 0 , 1 , -1 }, { NULL , \"HUD\" , NULL , 0 , 1 , -1 }, { \"HUD\" , NULL , NULL , 0 , 1 , -1 }, { \"HUDALL\" , NULL , NULL , ( 1 << 9 ) - 1 , 1 , -1 }, { \"Firefox\" , NULL , NULL , 0 , 0 , -1 }, { NULL , NULL , \"Skype\" , 0 , 1 , -1 }, }; /* layout(s) */ static const float mfact = 0.55 ; /* factor of master area size [0.05..0.95] */ static const int nmaster = 1 ; /* number of clients in master area */ static const int resizehints = 1 ; /* 1 means respect size hints in tiled resizals */ #include \"layouts.c\" static const Layout layouts [] = { /* symbol arrange function */ { \"T\" , tile }, /* first entry is default */ { \"F\" , NULL }, /* no layout function means floating behavior */ { \"M\" , monocle }, { \"G\" , grid }, { \"V\" , col }, }; /* key definitions */ #define MODKEY Mod4Mask /* #define TAGKEYS(KEY,TAG) \\ { MODKEY, KEY, view, {.ui = 1 << TAG} }, \\ { MODKEY|ControlMask, KEY, toggleview, {.ui = 1 << TAG} }, \\ { MODKEY|ShiftMask, KEY, tag, {.ui = 1 << TAG} }, \\ { MODKEY|ControlMask|ShiftMask, KEY, toggletag, {.ui = 1 << TAG} }, */ #define TAGKEYS(KEY,TAG) \\ { ControlMask , KEY , view , {.ui = 1 << TAG} } , \\ { MODKEY|ControlMask , KEY , toggleview , {.ui = 1 << TAG} } , \\ { ControlMask|ShiftMask , KEY , tag , {.ui = 1 << TAG} } , \\ { MODKEY|ControlMask|ShiftMask , KEY , toggletag , {.ui = 1 << TAG} } , /* helper for spawning shell commands in the pre dwm-5.0 fashion */ #define SHCMD(cmd) { .v = (const char*[]){ \"/bin/sh\", \"-c\", cmd, NULL } } /* commands */ /*static const char *dmenucmd[] = { \"dmenu_run\", \"-m\", dmenumon, \"-fn\", dmenufont, \"-nb\", col_gray1, \"-nf\", col_gray3, \"-sb\", col_cyan, \"-sf\", col_gray4, NULL }; static const char *copyq_menucmd[] = { \"copyq\", \"menu\", NULL }; static const char *insert_date [] = { \"/home/gk/bin/type_date_into_window\", NULL }; static const char *volumemute[] = { \"amixer\", \"set\", \"Master\", \"toggle\" , \";\", \"/home/gk/bin/refbar\", NULL }; { ControlMask , XK_c , spawn , {.v = signtcmd } } , this is control key on my keyboard (swapped) { ControlMask , XK_d , spawn , {.v = sigdtcmd } } , this is control key on my keyboard (swapped) */ static Key keys [] = { /* modifier key function argument */ /* { ControlMask , XK_space , spawn , SHCMD(\"/home/gk/bin/st_hud\" ) } , */ /* { ControlMask|ShiftMask|Mod4Mask , XK_3 , spawn , SHCMD(\"sleep 1s;/home/gk/bin/shot_selected\") } , */ /* { ControlMask|ShiftMask , XK_b , spawn , SHCMD(\"/home/gk/bin/clipctrl previous_item\") } , */ /* { MODKEY|ControlMask , XK_d , spawn , SHCMD(\"/home/gk/bin/type_date_into_window\" ) } , */ /* { Mod4Mask , XK_Return , zoom , { 0 }} , * swap focus when gtk keys swapped*/ /*{ ControlMask , XK_Left , lasttag , {.i = 1} } , */ { MODKEY | ShiftMask , XK_1 , togglebar , { . i = 1 } } , { MODKEY | ShiftMask , XK_minus , setborderpx , { . i = -1 } } , { MODKEY | ShiftMask , XK_equal , setborderpx , { . i = + 1 } } , { ControlMask , XK_BackSpace , killclient , { 0 }} , { ControlMask , XK_q , killclient , { 0 }} , { ControlMask , XK_Return , zoom , { 0 }} , /* swap focus*/ { ControlMask , XK_space , spawn , SHCMD ( \"/usr/bin/ulauncher\" ) } , /* faster than sxk */ { ControlMask , XK_Tab , spawn , SHCMD ( \"/usr/bin/skippy-xd\" ) } , { ControlMask , XK_n , spawn , SHCMD ( \"st\" ) } , { MODKEY | ShiftMask , XK_b , togglebar , { 0 }} , { ControlMask , XK_j , focusstack , { . i = -1 }} , { ControlMask , XK_k , focusstack , { . i = + 1 }} , { ControlMask , XK_m , focusmon , { . i = -1 }} , /* { ControlMask , XK_l , focusmon , { .i = +1 }} , h is enough we have just 2 or 3 mons. l is for browser location*/ { MODKEY | ShiftMask , XK_h , spawn , SHCMD ( \"/home/gk/bin/tagmon -1\" ) } , { MODKEY | ShiftMask , XK_l , spawn , SHCMD ( \"/home/gk/bin/tagmon 1\" ) } , { MODKEY | ShiftMask , XK_comma , tagmon , { . i = -1 }} , { MODKEY | ShiftMask , XK_period , tagmon , { . i = + 1 }} , { MODKEY , XK_i , incnmaster , { . i = + 1 }} , { MODKEY , XK_d , incnmaster , { . i = -1 }} , { Mod1Mask , XK_h , setmfact , { . f = -0.05 }} , { Mod1Mask , XK_l , setmfact , { . f = + 0.05 }} , /* { MODKEY , XK_Tab , view , { 0 }} , */ { MODKEY , XK_t , setlayout , { . v = & layouts [ 0 ] }} , { MODKEY , XK_f , setlayout , { . v = & layouts [ 1 ] }} , { MODKEY , XK_m , setlayout , { . v = & layouts [ 2 ] }} , { MODKEY , XK_g , setlayout , { . v = & layouts [ 3 ] }} , { MODKEY , XK_v , setlayout , { . v = & layouts [ 4 ] }} , { MODKEY | ShiftMask , XK_period , cyclelayout , { . i = + 1 } } , /* { MODKEY|ShiftMask , XK_space , setlayout , { 0 }} , */ { MODKEY | ShiftMask , XK_space , togglefloating , { 0 }} , { MODKEY , XK_0 , view , { . ui = ~ 0 }} , { MODKEY | ShiftMask , XK_0 , tag , { . ui = ~ 0 }} , { MODKEY | ShiftMask , XK_q , quit , { 0 }} , { 0 , XF86XK_Display , spawn , SHCMD ( \"/home/gk/bin/hw display\" ) } , /* xev is your friend to find those */ /* { 0, XF86XK_LaunchA , spawn, SHCMD(\"/home/gk/bin/hw launcha\" ) }, */ /* { 0, XF86XK_MonBrightnessDown , spawn, SHCMD(\"/home/gk/bin/hw monbrightdown\" ) }, */ /* { 0, XF86XK_MonBrightnessUp , spawn, SHCMD(\"/home/gk/bin/hw monbrightup\" ) }, */ /* { 0, XF86XK_AudioMute , spawn, SHCMD(\"/home/gk/bin/hw audiomute\" ) }, */ /* { 0, XF86XK_AudioLowerVolume , spawn, SHCMD(\"/home/gk/bin/hw audiolower\" ) }, */ /* { 0, XF86XK_AudioRaiseVolume , spawn, SHCMD(\"/home/gk/bin/hw audioraise\" ) }, */ /* { 0, XF86XK_RFKill , spawn, SHCMD(\"/home/gk/bin/hw rfkill\" ) }, */ /* { ControlMask, XF86XK_Eject , killclient , {0 }} , */ /* { 0 , XF86XK_Eject , spawn, SHCMD(\"/home/gk/bin/hw eject\" ) }, */ /* { 0 , XK_F1 , spawn, SHCMD(\"/home/gk/bin/hw F1\" ) }, */ /* { 0 , XK_F2 , spawn, SHCMD(\"/home/gk/bin/hw F2\" ) }, */ /* { 0 , XK_F3 , spawn, SHCMD(\"/home/gk/bin/hw F3\" ) }, */ /* { 0 , XK_F4 , spawn, SHCMD(\"/home/gk/bin/hw F4\" ) }, */ /* { 0 , XK_F5 , spawn, SHCMD(\"/home/gk/bin/hw F5\" ) }, */ /* { 0 , XK_F6 , spawn, SHCMD(\"/home/gk/bin/hw F6\" ) }, */ /* { 0 , XK_F7 , spawn, SHCMD(\"/home/gk/bin/hw F7\" ) }, */ /* { 0 , XK_F8 , spawn, SHCMD(\"/home/gk/bin/hw F8\" ) }, */ /* { 0 , XK_F9 , spawn, SHCMD(\"/home/gk/bin/hw F9\" ) }, */ /* { 0 , XK_F10 , spawn, SHCMD(\"/home/gk/bin/hw F10\" ) }, */ /* { 0 , XK_F11 , spawn, SHCMD(\"/home/gk/bin/hw F11\" ) }, */ /* { 0 , XK_F12 , spawn, SHCMD(\"/home/gk/bin/hw F12\" ) }, */ /* { ControlMask, XK_Delete , spawn, SHCMD(\"/home/gk/bin/hw ctrl_del\" ) }, */ /* /1* Keyboard Backlight *1/ */ /* { ControlMask , XF86XK_MonBrightnessDown , spawn , {.v = F13 }} , */ /* { ControlMask , XF86XK_MonBrightnessUp , spawn , {.v = F14 }} , */ /* { 0 , XF86XK_LaunchA , spawn , {.v = F03 }} , */ /* { 0 , XF86XK_LaunchB , spawn , {.v = F04 }} , */ /* { 0 , XF86XK_AudioPrev , spawn , {.v = F07 }} , */ /* { 0 , XF86XK_AudioPlay , spawn , {.v = F08 }} , */ /* { 0 , XF86XK_AudioNext , spawn , {.v = F09 }} , */ /* { ControlMask , XF86XK_Eject , spawn , {.v = pow }} , */ /* { ControlMask , XF86XK_PowerOff , spawn , {.v = pow }} , */ /* { ControlMask , XF86XK_Suspend , spawn , {.v = pow }} , */ /* {MODKEY|ControlMask|ShiftMask , XK_l , spawn , SHCMD(\"/home/gk/bin/hw lock\" ) }, */ TAGKEYS ( XK_1 , 0 ) TAGKEYS ( XK_2 , 1 ) TAGKEYS ( XK_3 , 2 ) TAGKEYS ( XK_4 , 3 ) TAGKEYS ( XK_5 , 4 ) TAGKEYS ( XK_6 , 5 ) TAGKEYS ( XK_7 , 6 ) TAGKEYS ( XK_8 , 7 ) TAGKEYS ( XK_9 , 8 ) }; /* button definitions */ /* click can be ClkTagBar, ClkLtSymbol, ClkStatusText, ClkWinTitle, ClkClientWin, or ClkRootWin */ static Button buttons [] = { /* click event mask button function argument */ { ClkLtSymbol , 0 , Button1 , setlayout , { 0 } }, { ClkLtSymbol , 0 , Button3 , setlayout , {. v = & layouts [ 2 ]} }, { ClkWinTitle , 0 , Button2 , zoom , { 0 } }, { ClkStatusText , 0 , Button2 , spawn , SHCMD ( \"st\" ) }, { ClkClientWin , MODKEY , Button1 , movemouse , { 0 } }, { ClkClientWin , MODKEY , Button2 , togglefloating , { 0 } }, { ClkClientWin , MODKEY , Button3 , resizemouse , { 0 } }, { ClkTagBar , 0 , Button1 , view , { 0 } }, { ClkTagBar , 0 , Button3 , toggleview , { 0 } }, { ClkTagBar , MODKEY , Button1 , tag , { 0 } }, { ClkTagBar , MODKEY , Button3 , toggletag , { 0 } }, }; typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"dwm"},{"location":"ll/sl/dwm/#dwm","text":"","title":"DWM"},{"location":"ll/sl/dwm/#patches","text":"These are my current patches: $ tree ~/.config/dwm/patches /home/gk/.config/dwm/patches \u251c\u2500\u2500 0001 -dwm-cyclelayouts-20180524-6.2.diff \u251c\u2500\u2500 01_dwm-alwayscenter-20200625-f04cac6.diff \u251c\u2500\u2500 02_dwm-columns-6.0.diff \u251c\u2500\u2500 03 -dwm-ewmhtags-20180101-db22360.diff \u251c\u2500\u2500 04 -dwm-gridmode-20170909-ceac8c9.diff \u251c\u2500\u2500 05 -dwm-focusonnetactive-6.2.diff \u251c\u2500\u2500 06 -dwm-autostart-20210120-cb3f58a.diff \u251c\u2500\u2500 07 -dwm-xfce4-panel-20210606-67d76bd.diff \u251c\u2500\u2500 08 -dwm-pertag-20200914-61bb8b2.diff \u251c\u2500\u2500 09 -dwm-setborderpx-6.2.diff \u251c\u2500\u2500 09 -dwm-vanitygaps-20190508-6.2.diff \u251c\u2500\u2500 10 -dwm-noborderfloatingfix-6.2.diff \u2514\u2500\u2500 dwm-xfce4-panel-20210701-67d76bd.diff 0 directories, 13 files","title":"Patches"},{"location":"ll/sl/dwm/#xfce4-panel","text":"The statusbar is from myself, got accepted by the suckless guys as official patch (hooray). I made it because I wanted a systray but the official systray patch is massive and collided with other patches, e.g. statuscolors if I remember correctly Also statuscolors made dwm eat CPU, strangely, became often visible in htop - which is not suckless.","title":"xfce4-panel"},{"location":"ll/sl/dwm/#design","text":"It works by simple starting the panel as a normal window - but detecting it by window class name and moving it to the top right position, plus preventing it showing up in the tag indicators and at cyclewindow actions. See the diff here . Here is a description of the ride towards it...","title":"Design"},{"location":"ll/sl/dwm/#hacking-dwm-xephyr","text":"xnest/Xephyr is totally amazing and one of the many reasons I prefer X11. Important Using Xephyr you can test all dwm patches w/o having to restart the actual one. This is far more convenient than switching back and forth between different Xsessions. This $ cat /home/gk/bin/xnest #!/usr/bin/env bash Xephyr -br -ac -noreset -screen 1800x1000 :1 & sleep 1 DISPLAY = :1 \" ${ 1 :- dwm } \" allows to start the full Xserver with window manager in a window - and with ctrl-shift it gets ALL keyboard events, incl. shortcuts of the outer DWM. Only things not working picom - but this you can test anyway nicely outside, did not dig into getting it up xfce4-panel - unless I kill it outside before starting xnest:","title":"Hacking DWM: Xephyr"},{"location":"ll/sl/dwm/#drag-and-drop","text":"Not using a Desktop Environment but Window Manager only requires some integration for drag and drop, which you need all the time in the age of web based services. dragon is the solution, together with a little xdotool/scrot hack of mine: Here the script: Cmd Output $ bat -f /home/gk/bin/drag_into $ bat -f /home/gk/bin/drag_into \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m\u2502 \u001b[0mFile: \u001b[1m/home/gk/bin/drag_into\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m 1\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m!/usr/bin/env bash\u001b[0m \u001b[38;5;238m 2\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mset\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;253;151;31m-\u001b[0m\u001b[38;2;253;151;31mx\u001b[0m \u001b[38;5;238m 3\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mdoc\u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m0\u001b[0m\u001b[38;2;230;219;116m <filename|'shot'>\u001b[0m \u001b[38;5;238m 4\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 5\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;230;219;116mDrags a given file to where the mouse is using dragon. Click to drop it (anywere).\u001b[0m \u001b[38;5;238m 6\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;230;219;116mIf filename is 'shot' then the file will be a shot of a an area to be selected.\u001b[0m \u001b[38;5;238m 7\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 8\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 9\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mcmd_shot\u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mshot\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 10\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;249;38;114m=\u001b[0m \u001b[38;5;238m 11\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 12\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;166;226;46mexit_help\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m(\u001b[0m\u001b[38;2;255;255;255m)\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m{\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;102;217;239mecho\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;253;151;31m-\u001b[0m\u001b[38;2;253;151;31me\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mdoc\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;102;217;239mexit\u001b[0m\u001b[38;2;255;255;255m 1\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m}\u001b[0m \u001b[38;5;238m 13\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 14\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;166;226;46mselect_shot_area\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m(\u001b[0m\u001b[38;2;255;255;255m)\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m{\u001b[0m \u001b[38;5;238m 15\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m create screen shot \u001b[0m \u001b[38;5;238m 16\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mnotify-send\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mSelect area - we'll shoot it and drag to where the mouse is.\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 17\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;102;217;239mcd\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mHOME\u001b[0m\u001b[38;2;230;219;116m/Pictures/shots/\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m||\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;102;217;239mexit\u001b[0m\u001b[38;2;255;255;255m 1\u001b[0m \u001b[38;5;238m 18\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mrm\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mf\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mlatest.png\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 19\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m the cp we do to have convenient cp of always same files into images dirs:\u001b[0m \u001b[38;5;238m 20\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mscrot\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31ms\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m'\u001b[0m\u001b[38;2;230;219;116m%Y-%m-%d_$wx$h_scrot.png\u001b[0m\u001b[38;2;255;255;255m'\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31me\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m'\u001b[0m\u001b[38;2;230;219;116mln -s $f latest.png; cp $f last.png\u001b[0m\u001b[38;2;255;255;255m'\u001b[0m \u001b[38;5;238m 21\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116m`\u001b[0m\u001b[38;2;255;255;255mreadlink\u001b[0m\u001b[38;2;230;219;116m latest.png\u001b[0m\u001b[38;2;230;219;116m`\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 22\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m}\u001b[0m \u001b[38;5;238m 23\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 24\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;166;226;46mmain\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m(\u001b[0m\u001b[38;2;255;255;255m)\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m{\u001b[0m \u001b[38;5;238m 25\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mtest\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m1\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m == \u001b[0m\u001b[38;2;255;255;255m'\u001b[0m\u001b[38;2;230;219;116m-t\u001b[0m\u001b[38;2;255;255;255m'\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m&&\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m{\u001b[0m \u001b[38;5;238m 26\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mnotify-send\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mSleeping \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m2\u001b[0m\u001b[38;2;230;219;116m seconds before shot...\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 27\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255msleep\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m2\u001b[0m \u001b[38;5;238m 28\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;102;217;239mshift\u001b[0m\u001b[38;2;255;255;255m 2\u001b[0m \u001b[38;5;238m 29\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m}\u001b[0m \u001b[38;5;238m 30\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m1\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 31\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mtest\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mz\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mo\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m == \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116m-h\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m&&\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mexit_help\u001b[0m \u001b[38;5;238m 32\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;102;217;239meval\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;230;219;116m(\u001b[0m\u001b[38;2;255;255;255mxdotool\u001b[0m\u001b[38;2;230;219;116m getmouselocation\u001b[0m\u001b[38;2;253;151;31m --\u001b[0m\u001b[38;2;253;151;31mshell\u001b[0m\u001b[38;2;230;219;116m)\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m into $X and $Y\u001b[0m \u001b[38;5;238m 33\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mtest\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m == \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mcmd_shot\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m&&\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m{\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mselect_shot_area\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m||\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mreturn\u001b[0m\u001b[38;2;255;255;255m 1\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m}\u001b[0m \u001b[38;5;238m 34\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;102;217;239mset\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;253;151;31m-\u001b[0m\u001b[38;2;253;151;31mx\u001b[0m \u001b[38;5;238m 35\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mkillall\u001b[0m\u001b[38;2;255;255;255m dragon \u001b[0m\u001b[38;2;190;132;255m2\u001b[0m\u001b[38;2;249;38;114m>\u001b[0m\u001b[38;2;255;255;255m/dev/null \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m No accidential drops of wrong items ...\u001b[0m \u001b[38;5;238m 36\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mdragon --and-exit \"$file\" &\u001b[0m \u001b[38;5;238m 37\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m dragon \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m&\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m when the target is not visible we have a hard time\u001b[0m \u001b[38;5;238m 38\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m wait for dragon window to show up:\u001b[0m \u001b[38;5;238m 39\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mwhile\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mtrue\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mdo\u001b[0m \u001b[38;5;238m 40\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mxid\u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;230;219;116m(\u001b[0m\u001b[38;2;255;255;255mxdotool\u001b[0m\u001b[38;2;230;219;116m search\u001b[0m\u001b[38;2;253;151;31m --\u001b[0m\u001b[38;2;253;151;31monlyvisible\u001b[0m\u001b[38;2;253;151;31m --\u001b[0m\u001b[38;2;253;151;31mclass\u001b[0m\u001b[38;2;230;219;116m dragon\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;249;38;114m|\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;255;255;255mhead\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mn\u001b[0m\u001b[38;2;230;219;116m 2\u001b[0m\u001b[38;2;230;219;116m)\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 41\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mtest\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mz\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mxid\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m||\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mbreak\u001b[0m \u001b[38;5;238m 42\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255msleep\u001b[0m\u001b[38;2;255;255;255m 0.05\u001b[0m \u001b[38;5;238m 43\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mdone\u001b[0m \u001b[38;5;238m 44\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m now click the dragon window and stay on the button:\u001b[0m \u001b[38;5;238m 45\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mxdotool\u001b[0m\u001b[38;2;255;255;255m mousemove\u001b[0m\u001b[38;2;253;151;31m --\u001b[0m\u001b[38;2;253;151;31msync\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mw\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mxid\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m 1 1 mousedown 1 mousemove \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mX\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mY\u001b[0m\u001b[38;2;255;255;255m \u001b[0m \u001b[38;5;238m 46\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mnotify-send\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mClick to drop \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;230;219;116m or hit escape. We will kill the dragon window in a minute... \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 47\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m(\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255msleep\u001b[0m\u001b[38;2;255;255;255m 60\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mxkill\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mid\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mxid\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m)\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m&\u001b[0m \u001b[38;5;238m 48\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m}\u001b[0m \u001b[38;5;238m 49\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 50\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mmain\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m@\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 51\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m I.e.: Hotkey to start script -> select area -> click into drop area. Done. It uses scrot to make a screenshot of a selected area, then dragon to create a drag window top left, then xdotool to click and drag that to the point where you click.","title":"Drag and Drop"},{"location":"ll/sl/dwm/#services","text":"Via the autostart patch I start these: Cmd Output $ bat -f /home/gk/.config/dwm/autostart.sh $ bat -f /home/gk/.config/dwm/autostart.sh \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m\u2502 \u001b[0mFile: \u001b[1m/home/gk/.config/dwm/autostart.sh\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m 1\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m!/bin/bash\u001b[0m \u001b[38;5;238m 2\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mhere\u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;230;219;116m(\u001b[0m\u001b[38;2;166;226;46mbuiltin\u001b[0m\u001b[38;2;230;219;116m cd \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;230;219;116m(\u001b[0m\u001b[38;2;255;255;255mdirname\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;230;219;116m{\u001b[0m\u001b[38;2;255;255;255mBASH_SOURCE\u001b[0m\u001b[38;2;255;255;255m[\u001b[0m\u001b[38;2;190;132;255m0\u001b[0m\u001b[38;2;255;255;255m]\u001b[0m\u001b[38;2;230;219;116m}\u001b[0m\u001b[38;2;230;219;116m)\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;255;255;255mpwd\u001b[0m\u001b[38;2;230;219;116m)\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 3\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 4\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;166;226;46mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m{\u001b[0m \u001b[38;5;238m 5\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mif\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m!\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mpgrep\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;230;219;116m(\u001b[0m\u001b[38;2;255;255;255mbasename\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m1\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116m)\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114m;\u001b[0m \u001b[38;5;238m 6\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 7\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255m@\u001b[0m\u001b[38;2;249;38;114m&\u001b[0m \u001b[38;5;238m 8\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;249;38;114mfi\u001b[0m \u001b[38;5;238m 9\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m}\u001b[0m \u001b[38;5;238m 10\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 11\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mHOME\u001b[0m\u001b[38;2;255;255;255m/bin/X11_setup.sh\u001b[0m \u001b[38;5;238m 12\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 13\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"dex $HOME/.config/autostart/arcolinux-welcome-app.desktop\"\u001b[0m \u001b[38;5;238m 14\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"xrandr --output VGA-1 --primary --mode 1360x768 --pos 0x0 --rotate normal\"\u001b[0m \u001b[38;5;238m 15\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"xrandr --output HDMI2 --mode 1920x1080 --pos 1920x0 --rotate normal --output HDMI1 --primary --mode 1920x1080 --pos 0x0 --rotate normal --output VIRTUAL1 --off\"\u001b[0m \u001b[38;5;238m 16\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun xrandr --output eDP-1 --primary --mode 1368x768 --pos 0x0 --rotate normal --output DP-1 --off --output HDMI-1 --off --output DP-2 --off --output HDMI-2 --off\u001b[0m \u001b[38;5;238m 17\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun xrandr --output LVDS1 --mode 1366x768 --output DP3 --mode 1920x1080 --right-of LVDS1\u001b[0m \u001b[38;5;238m 18\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun xrandr --output DVI-I-0 --right-of HDMI-0 --auto\u001b[0m \u001b[38;5;238m 19\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun xrandr --output DVI-1 --right-of DVI-0 --auto\u001b[0m \u001b[38;5;238m 20\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun xrandr --output DVI-D-1 --right-of DVI-I-1 --auto\u001b[0m \u001b[38;5;238m 21\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun xrandr --output HDMI2 --right-of HDMI1 --auto\u001b[0m \u001b[38;5;238m 22\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 23\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"pasystray\"\u001b[0m \u001b[38;5;238m 24\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mnm-applet\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 25\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mpamac-tray\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 26\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mvariety\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 27\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mxfce4-power-manager\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 28\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"blueberry-tray\"\u001b[0m \u001b[38;5;238m 29\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116m/usr/lib/xfce4/notifyd/xfce4-notifyd\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 30\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116m/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 31\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;230;219;116mnumlockx on\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 32\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mhere\u001b[0m\u001b[38;2;230;219;116m/cpu_mon.py\u001b[0m\u001b[38;2;255;255;255m\"\u001b[0m \u001b[38;5;238m 33\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"volumeicon\"\u001b[0m \u001b[38;5;238m 34\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"$HOME/.config/dwm/status.py\" # restarting:\u001b[0m \u001b[38;5;238m 35\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m sxhkd\u001b[0m \u001b[38;5;238m 36\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun st\u001b[0m \u001b[38;5;238m 37\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m$\u001b[0m\u001b[38;2;255;255;255mhere\u001b[0m\u001b[38;2;255;255;255m/panel.sh\u001b[0m \u001b[38;5;238m 38\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m picom\u001b[0m \u001b[38;5;238m 39\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mrun\u001b[0m\u001b[38;2;255;255;255m /usr/lib64/xfce4/notifyd/xfce4-notifyd\u001b[0m \u001b[38;5;238m 40\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m collides with panel setup when overlapping in time:\u001b[0m \u001b[38;5;238m 41\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255m(\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255msleep\u001b[0m\u001b[38;2;255;255;255m 4\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255mxrdb\u001b[0m\u001b[38;2;253;151;31m -\u001b[0m\u001b[38;2;253;151;31mload\u001b[0m\u001b[38;2;255;255;255m .config/st_theme/Xresources\u001b[0m\u001b[38;2;249;38;114m;\u001b[0m\u001b[38;2;255;255;255m \u001b[0m\u001b[38;2;255;255;255m)\u001b[0m \u001b[38;5;238m 42\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mpicom -b --config ~/.config/arco-dwm/picom.conf &\u001b[0m \u001b[38;5;238m 43\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"nitrogen --restore\"\u001b[0m \u001b[38;5;238m 44\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 45\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m this is run every second!\u001b[0m \u001b[38;5;238m 46\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m( while true; do sleep 4; copyq; done ) & # our clip board science\u001b[0m \u001b[38;5;238m 47\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101m run \"copyq\" # autostarts \u001b[0m \u001b[38;5;238m 48\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"conky -c $HOME/.config/dwm/system-overview-conky\"\u001b[0m \u001b[38;5;238m 49\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101myou can set wallpapers in themes as well\u001b[0m \u001b[38;5;238m 50\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mfeh --bg-fill /usr/share/backgrounds/arcolinux/arco-wallpaper.jpg &\u001b[0m \u001b[38;5;238m 51\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 52\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun applications from startup\u001b[0m \u001b[38;5;238m 53\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 54\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"insync start\"\u001b[0m \u001b[38;5;238m 55\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"spotify\"\u001b[0m \u001b[38;5;238m 56\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"ckb-next -b\"\u001b[0m \u001b[38;5;238m 57\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"discord\"\u001b[0m \u001b[38;5;238m 58\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;124;120;101m#\u001b[0m\u001b[38;2;124;120;101mrun \"telegram-desktop\"\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m","title":"Services"},{"location":"ll/sl/dwm/#no-gaps-but-gaps","text":"Vanitygaps is bloated plus I wanted a prominent active window indicator. Solution: I simply use thick borders and have them black for the non active window and white for the active one via dwm, then set them to 0.7 transparent via picom: # Opacity of window titlebars and borders. (0.1 - 1.0, disabled by default) # frame-opacity = 1.0 frame-opacity = 0.7; => That effects black far more than white. I.e. there are actually no gaps - but the illusion is given.","title":"No Gaps - but Gaps"},{"location":"ll/sl/dwm/#misc-tips","text":"On a fresh xfce spin fedora use lxappearance for gtk theming. Mouse cursor size: .Xresources -> Xcursor.size 40","title":"Misc Tips"},{"location":"ll/sl/dwm/#config","text":"For varying shortcuts I don't recompile dwm but use sxhkdrc: Cmd Output $ bat -f /home/gk/.config/sxhkd/sxhkdrc $ bat -f /home/gk/.config/sxhkd/sxhkdrc \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m\u2502 \u001b[0mFile: \u001b[1m/home/gk/.config/sxhkd/sxhkdrc\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m 1\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 2\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# KEYBOARD BINDINGS FOR ANY TWM\u001b[0m \u001b[38;5;238m 3\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 4\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 5\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 6\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# SUPER + FUNCTION KEYS\u001b[0m \u001b[38;5;238m 7\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 8\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# Vivaldi\u001b[0m \u001b[38;5;238m 9\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F1\u001b[0m \u001b[38;5;238m 10\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m vivaldi-stable\u001b[0m \u001b[38;5;238m 11\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 12\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# Atom\u001b[0m \u001b[38;5;238m 13\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F2\u001b[0m \u001b[38;5;238m 14\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m atom\u001b[0m \u001b[38;5;238m 15\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 16\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Inkscape\u001b[0m \u001b[38;5;238m 17\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F3\u001b[0m \u001b[38;5;238m 18\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m inkscape\u001b[0m \u001b[38;5;238m 19\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 20\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Gimp\u001b[0m \u001b[38;5;238m 21\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F4\u001b[0m \u001b[38;5;238m 22\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m gimp\u001b[0m \u001b[38;5;238m 23\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 24\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Meld\u001b[0m \u001b[38;5;238m 25\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F5\u001b[0m \u001b[38;5;238m 26\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m meld\u001b[0m \u001b[38;5;238m 27\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 28\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Vlc\u001b[0m \u001b[38;5;238m 29\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F6\u001b[0m \u001b[38;5;238m 30\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m vlc --video-on-top\u001b[0m \u001b[38;5;238m 31\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 32\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Virtualbox\u001b[0m \u001b[38;5;238m 33\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F7\u001b[0m \u001b[38;5;238m 34\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m virtualbox\u001b[0m \u001b[38;5;238m 35\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 36\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Thunar\u001b[0m \u001b[38;5;238m 37\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F8\u001b[0m \u001b[38;5;238m 38\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m thunar\u001b[0m \u001b[38;5;238m 39\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 40\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Evolution\u001b[0m \u001b[38;5;238m 41\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F9\u001b[0m \u001b[38;5;238m 42\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m evolution\u001b[0m \u001b[38;5;238m 43\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 44\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Spotify\u001b[0m \u001b[38;5;238m 45\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F10\u001b[0m \u001b[38;5;238m 46\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m spotify\u001b[0m \u001b[38;5;238m 47\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 48\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Rofi Fullscreen\u001b[0m \u001b[38;5;238m 49\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F11\u001b[0m \u001b[38;5;238m 50\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m rofi -show run -fullscreen\u001b[0m \u001b[38;5;238m 51\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 52\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Rofi\u001b[0m \u001b[38;5;238m 53\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + F12\u001b[0m \u001b[38;5;238m 54\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m rofi -show run\u001b[0m \u001b[38;5;238m 55\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 56\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 57\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# SUPER + ... KEYS\u001b[0m \u001b[38;5;238m 58\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 59\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 60\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Atom\u001b[0m \u001b[38;5;238m 61\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + e\u001b[0m \u001b[38;5;238m 62\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m atom\u001b[0m \u001b[38;5;238m 63\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 64\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Browser\u001b[0m \u001b[38;5;238m 65\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + w\u001b[0m \u001b[38;5;238m 66\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m vivaldi-stable\u001b[0m \u001b[38;5;238m 67\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 68\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Conky-toggle\u001b[0m \u001b[38;5;238m 69\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + c\u001b[0m \u001b[38;5;238m 70\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m conky-toggle\u001b[0m \u001b[38;5;238m 71\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 72\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Htop\u001b[0m \u001b[38;5;238m 73\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#super + h\u001b[0m \u001b[38;5;238m 74\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# urxvt 'htop task manager' -e htop\u001b[0m \u001b[38;5;238m 75\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 76\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#arcolinux-logout\u001b[0m \u001b[38;5;238m 77\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + x\u001b[0m \u001b[38;5;238m 78\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m arcolinux-logout\u001b[0m \u001b[38;5;238m 79\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 80\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Rofi theme selector\u001b[0m \u001b[38;5;238m 81\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + r\u001b[0m \u001b[38;5;238m 82\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m rofi-theme-selector\u001b[0m \u001b[38;5;238m 83\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 84\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Urxvt\u001b[0m \u001b[38;5;238m 85\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#super + t\u001b[0m \u001b[38;5;238m 86\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# urxvt\u001b[0m \u001b[38;5;238m 87\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 88\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Pavucontrol\u001b[0m \u001b[38;5;238m 89\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + v\u001b[0m \u001b[38;5;238m 90\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m pavucontrol\u001b[0m \u001b[38;5;238m 91\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 92\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Pragha\u001b[0m \u001b[38;5;238m 93\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#super + m\u001b[0m \u001b[38;5;238m 94\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# pragha\u001b[0m \u001b[38;5;238m 95\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 96\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Termite\u001b[0m \u001b[38;5;238m 97\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + Return\u001b[0m \u001b[38;5;238m 98\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m termite\u001b[0m \u001b[38;5;238m 99\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 100\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Xkill\u001b[0m \u001b[38;5;238m 101\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + Escape\u001b[0m \u001b[38;5;238m 102\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m xkill\u001b[0m \u001b[38;5;238m 103\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 104\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Keyboard dependent\u001b[0m \u001b[38;5;238m 105\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#termite\u001b[0m \u001b[38;5;238m 106\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + KP_Enter\u001b[0m \u001b[38;5;238m 107\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m termite\u001b[0m \u001b[38;5;238m 108\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 109\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 110\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# SUPER + SHIFT KEYS\u001b[0m \u001b[38;5;238m 111\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 112\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 113\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#File-Manager\u001b[0m \u001b[38;5;238m 114\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + shift + Return\u001b[0m \u001b[38;5;238m 115\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m thunar\u001b[0m \u001b[38;5;238m 116\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 117\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Keyboard dependent\u001b[0m \u001b[38;5;238m 118\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#File-Manager\u001b[0m \u001b[38;5;238m 119\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + shift + KP_Enter\u001b[0m \u001b[38;5;238m 120\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m thunar\u001b[0m \u001b[38;5;238m 121\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 122\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#dmenu\u001b[0m \u001b[38;5;238m 123\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + shift + d\u001b[0m \u001b[38;5;238m 124\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m dmenu_run -i -nb '#191919' -nf '#fea63c' -sb '#fea63c' -sf '#191919' -fn 'NotoMonoRegular:bold:pixelsize=14'\u001b[0m \u001b[38;5;238m 125\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 126\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#reload sxhkd:\u001b[0m \u001b[38;5;238m 127\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242msuper + shift + s\u001b[0m \u001b[38;5;238m 128\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m pkill -USR1 -x sxhkd; notify-send -u critical \"sxhkd config reloaded\"\u001b[0m \u001b[38;5;238m 129\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 130\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 131\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 132\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# CONTROL + ALT KEYS\u001b[0m \u001b[38;5;238m 133\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 134\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 135\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#arcolinux-welcome-app\u001b[0m \u001b[38;5;238m 136\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + w\u001b[0m \u001b[38;5;238m 137\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m arcolinux-welcome-app\u001b[0m \u001b[38;5;238m 138\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 139\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#arcolinux-tweak-tool\u001b[0m \u001b[38;5;238m 140\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + e\u001b[0m \u001b[38;5;238m 141\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m arcolinux-tweak-tool\u001b[0m \u001b[38;5;238m 142\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 143\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#conky-rotate\u001b[0m \u001b[38;5;238m 144\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + Next\u001b[0m \u001b[38;5;238m 145\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m conky-rotate -n\u001b[0m \u001b[38;5;238m 146\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 147\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#conky-rotate\u001b[0m \u001b[38;5;238m 148\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + Prior\u001b[0m \u001b[38;5;238m 149\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m conky-rotate -p\u001b[0m \u001b[38;5;238m 150\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 151\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#File-Manager\u001b[0m \u001b[38;5;238m 152\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + b\u001b[0m \u001b[38;5;238m 153\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m thunar\u001b[0m \u001b[38;5;238m 154\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 155\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Catfish\u001b[0m \u001b[38;5;238m 156\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + c\u001b[0m \u001b[38;5;238m 157\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m catfish\u001b[0m \u001b[38;5;238m 158\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 159\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Chromium\u001b[0m \u001b[38;5;238m 160\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + g\u001b[0m \u001b[38;5;238m 161\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m chromium -no-default-browser-check\u001b[0m \u001b[38;5;238m 162\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 163\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Firefox\u001b[0m \u001b[38;5;238m 164\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + f\u001b[0m \u001b[38;5;238m 165\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m firefox\u001b[0m \u001b[38;5;238m 166\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 167\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Nitrogen\u001b[0m \u001b[38;5;238m 168\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + i\u001b[0m \u001b[38;5;238m 169\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m nitrogen\u001b[0m \u001b[38;5;238m 170\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 171\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#arcolinux-logout\u001b[0m \u001b[38;5;238m 172\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + k\u001b[0m \u001b[38;5;238m 173\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m arcolinux-logout\u001b[0m \u001b[38;5;238m 174\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 175\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#arcolinux-logout\u001b[0m \u001b[38;5;238m 176\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + l\u001b[0m \u001b[38;5;238m 177\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m arcolinux-logout\u001b[0m \u001b[38;5;238m 178\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 179\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 180\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Xfce4-settings-manager\u001b[0m \u001b[38;5;238m 181\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + m\u001b[0m \u001b[38;5;238m 182\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m xfce4-settings-manager\u001b[0m \u001b[38;5;238m 183\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 184\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Pulse Audio Control\u001b[0m \u001b[38;5;238m 185\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + u\u001b[0m \u001b[38;5;238m 186\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m pavucontrol\u001b[0m \u001b[38;5;238m 187\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 188\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Rofi theme selector\u001b[0m \u001b[38;5;238m 189\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + r\u001b[0m \u001b[38;5;238m 190\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m rofi-theme-selector\u001b[0m \u001b[38;5;238m 191\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 192\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Spotify\u001b[0m \u001b[38;5;238m 193\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + s\u001b[0m \u001b[38;5;238m 194\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m spotify\u001b[0m \u001b[38;5;238m 195\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 196\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Termite\u001b[0m \u001b[38;5;238m 197\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + Return\u001b[0m \u001b[38;5;238m 198\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m st\u001b[0m \u001b[38;5;238m 199\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 200\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#termite\u001b[0m \u001b[38;5;238m 201\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + t\u001b[0m \u001b[38;5;238m 202\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m termite\u001b[0m \u001b[38;5;238m 203\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 204\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Vivaldi\u001b[0m \u001b[38;5;238m 205\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + v\u001b[0m \u001b[38;5;238m 206\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m vivaldi-stable\u001b[0m \u001b[38;5;238m 207\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 208\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Xfce4-appfinder\u001b[0m \u001b[38;5;238m 209\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + a\u001b[0m \u001b[38;5;238m 210\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m xfce4-appfinder\u001b[0m \u001b[38;5;238m 211\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 212\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Keyboard dependent\u001b[0m \u001b[38;5;238m 213\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#termite\u001b[0m \u001b[38;5;238m 214\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#ctrl + alt + KP_Enter\u001b[0m \u001b[38;5;238m 215\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# termite\u001b[0m \u001b[38;5;238m 216\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 217\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 218\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 219\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# ALT + ... KEYS\u001b[0m \u001b[38;5;238m 220\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 221\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 222\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper trash\u001b[0m \u001b[38;5;238m 223\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + t\u001b[0m \u001b[38;5;238m 224\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety -t\u001b[0m \u001b[38;5;238m 225\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 226\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper next\u001b[0m \u001b[38;5;238m 227\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + n\u001b[0m \u001b[38;5;238m 228\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety -n\u001b[0m \u001b[38;5;238m 229\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 230\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper previous\u001b[0m \u001b[38;5;238m 231\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + p\u001b[0m \u001b[38;5;238m 232\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety -p\u001b[0m \u001b[38;5;238m 233\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 234\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper favorite\u001b[0m \u001b[38;5;238m 235\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + f\u001b[0m \u001b[38;5;238m 236\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety -f\u001b[0m \u001b[38;5;238m 237\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 238\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper previous\u001b[0m \u001b[38;5;238m 239\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + Left\u001b[0m \u001b[38;5;238m 240\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety -p\u001b[0m \u001b[38;5;238m 241\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 242\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper next\u001b[0m \u001b[38;5;238m 243\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + Right\u001b[0m \u001b[38;5;238m 244\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety -n\u001b[0m \u001b[38;5;238m 245\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 246\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper toggle-pause\u001b[0m \u001b[38;5;238m 247\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + Up\u001b[0m \u001b[38;5;238m 248\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety --toggle-pause\u001b[0m \u001b[38;5;238m 249\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 250\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Wallpaper resume\u001b[0m \u001b[38;5;238m 251\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + Down\u001b[0m \u001b[38;5;238m 252\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# variety --resume\u001b[0m \u001b[38;5;238m 253\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 254\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Gmrun\u001b[0m \u001b[38;5;238m 255\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + F2\u001b[0m \u001b[38;5;238m 256\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# gmrun\u001b[0m \u001b[38;5;238m 257\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 258\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Xfce4-appfinder\u001b[0m \u001b[38;5;238m 259\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#alt + F3\u001b[0m \u001b[38;5;238m 260\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# xfce4-appfinder\u001b[0m \u001b[38;5;238m 261\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 262\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 263\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 264\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#VARIETY KEYS WITH PYWAL\u001b[0m \u001b[38;5;238m 265\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 266\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 267\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Wallpaper trash\u001b[0m \u001b[38;5;238m 268\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242malt + shift + w\u001b[0m \u001b[38;5;238m 269\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m variety --selector \u001b[0m \u001b[38;5;238m 270\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 271\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Wallpaper next\u001b[0m \u001b[38;5;238m 272\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242malt + shift + n\u001b[0m \u001b[38;5;238m 273\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m variety -n && wal -i $(cat $HOME/.config/variety/wallpaper/wallpaper.jpg.txt)&\u001b[0m \u001b[38;5;238m 274\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 275\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Wallpaper previous\u001b[0m \u001b[38;5;238m 276\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242malt + shift + p\u001b[0m \u001b[38;5;238m 277\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m variety -p && wal -i $(cat $HOME/.config/variety/wallpaper/wallpaper.jpg.txt)&\u001b[0m \u001b[38;5;238m 278\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 279\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Wallpaper favorite\u001b[0m \u001b[38;5;238m 280\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242malt + shift + f\u001b[0m \u001b[38;5;238m 281\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m variety -f && wal -i $(cat $HOME/.config/variety/wallpaper/wallpaper.jpg.txt)&\u001b[0m \u001b[38;5;238m 282\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 283\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Wallpaper update\u001b[0m \u001b[38;5;238m 284\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242malt + shift + u\u001b[0m \u001b[38;5;238m 285\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m wal -i $(cat $HOME/.config/variety/wallpaper/wallpaper.jpg.txt)&\u001b[0m \u001b[38;5;238m 286\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 287\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 288\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# CONTROL + SHIFT KEYS\u001b[0m \u001b[38;5;238m 289\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 290\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 291\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Xcfe4-TaskManager\u001b[0m \u001b[38;5;238m 292\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + shift + Escape\u001b[0m \u001b[38;5;238m 293\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m xfce4-taskmanager\u001b[0m \u001b[38;5;238m 294\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 295\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 296\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 297\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# SCREENSHOTS\u001b[0m \u001b[38;5;238m 298\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 299\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 300\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Scrot\u001b[0m \u001b[38;5;238m 301\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mPrint\u001b[0m \u001b[38;5;238m 302\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m scrot 'ArcoLinux-%Y-%m-%d-%s_screenshot_$wx$h.jpg' -e 'mv $f $$(xdg-user-dir PICTURES)'\u001b[0m \u001b[38;5;238m 303\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 304\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#screeenshooter\u001b[0m \u001b[38;5;238m 305\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + Print\u001b[0m \u001b[38;5;238m 306\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m xfce4-screenshooter\u001b[0m \u001b[38;5;238m 307\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 308\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Gnome-Screenshot\u001b[0m \u001b[38;5;238m 309\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + shift + Print\u001b[0m \u001b[38;5;238m 310\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m gnome-screenshot -i\u001b[0m \u001b[38;5;238m 311\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 312\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 313\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 314\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# FUNCTION KEYS\u001b[0m \u001b[38;5;238m 315\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 316\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 317\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#xfce4-terminal dropdown\u001b[0m \u001b[38;5;238m 318\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mF12\u001b[0m \u001b[38;5;238m 319\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m xfce4-terminal --drop-down\u001b[0m \u001b[38;5;238m 320\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 321\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Delete\u001b[0m \u001b[38;5;238m 322\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + Delete\u001b[0m \u001b[38;5;238m 323\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m /usr/bin/python /usr/lib/arcologout/arcologout.py\u001b[0m \u001b[38;5;238m 324\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 325\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 326\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 327\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# MULTIMEDIA KEYS\u001b[0m \u001b[38;5;238m 328\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 329\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 330\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Raises volume\u001b[0m \u001b[38;5;238m 331\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86AudioRaiseVolume\u001b[0m \u001b[38;5;238m 332\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m /home/gk/bin/hw audioraise\u001b[0m \u001b[38;5;238m 333\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m #amixer set Master 10%+\u001b[0m \u001b[38;5;238m 334\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 335\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Lowers volume\u001b[0m \u001b[38;5;238m 336\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86AudioLowerVolume\u001b[0m \u001b[38;5;238m 337\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m /home/gk/bin/hw audiolower\u001b[0m \u001b[38;5;238m 338\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m #amixer set Master 10%-\u001b[0m \u001b[38;5;238m 339\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 340\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Mute\u001b[0m \u001b[38;5;238m 341\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86AudioMute\u001b[0m \u001b[38;5;238m 342\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m /home/gk/bin/hw audiomute\u001b[0m \u001b[38;5;238m 343\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m #amixer -D pulse set Master 1+ toggle\u001b[0m \u001b[38;5;238m 344\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 345\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86Display\u001b[0m \u001b[38;5;238m 346\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m /home/gk/bin/hw display\u001b[0m \u001b[38;5;238m 347\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Playerctl works for Pragha, Spotify and others\u001b[0m \u001b[38;5;238m 348\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Delete the line for playerctl if you want to use mpc\u001b[0m \u001b[38;5;238m 349\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#and replace it with the corresponding code\u001b[0m \u001b[38;5;238m 350\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#mpc works for e.g.ncmpcpp\u001b[0m \u001b[38;5;238m 351\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#mpc toggle\u001b[0m \u001b[38;5;238m 352\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#mpc next\u001b[0m \u001b[38;5;238m 353\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#mpc prev\u001b[0m \u001b[38;5;238m 354\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#mpc stop\u001b[0m \u001b[38;5;238m 355\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 356\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#PLAY\u001b[0m \u001b[38;5;238m 357\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86AudioPlay\u001b[0m \u001b[38;5;238m 358\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m playerctl play-pause\u001b[0m \u001b[38;5;238m 359\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 360\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Next\u001b[0m \u001b[38;5;238m 361\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86AudioNext\u001b[0m \u001b[38;5;238m 362\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m playerctl next\u001b[0m \u001b[38;5;238m 363\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 364\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#previous\u001b[0m \u001b[38;5;238m 365\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86AudioPrev\u001b[0m \u001b[38;5;238m 366\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m playerctl previous\u001b[0m \u001b[38;5;238m 367\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 368\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Stop\u001b[0m \u001b[38;5;238m 369\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mXF86AudioStop\u001b[0m \u001b[38;5;238m 370\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m playerctl stop\u001b[0m \u001b[38;5;238m 371\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 372\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Brightness up\u001b[0m \u001b[38;5;238m 373\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#XF86MonBrightnessUp\u001b[0m \u001b[38;5;238m 374\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# xbacklight -inc 10\u001b[0m \u001b[38;5;238m 375\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 376\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m##Brightness down\u001b[0m \u001b[38;5;238m 377\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#XF86MonBrightnessDown\u001b[0m \u001b[38;5;238m 378\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# xbacklight -dec 10\u001b[0m \u001b[38;5;238m 379\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 380\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 381\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 382\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 383\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m################## DESKTOP SPECIFIC ########################\u001b[0m \u001b[38;5;238m 384\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 385\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 386\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 387\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 388\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m# CTRL + ALT KEYS\u001b[0m \u001b[38;5;238m 389\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#################################################################\u001b[0m \u001b[38;5;238m 390\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 391\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + super + f\u001b[0m \u001b[38;5;238m 392\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m /home/gk/bin/find_and_type_file\u001b[0m \u001b[38;5;238m 393\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m#Picom Toggle\u001b[0m \u001b[38;5;238m 394\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242mctrl + alt + p\u001b[0m \u001b[38;5;238m 395\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m ~/bin/picom-toggle.sh\u001b[0m \u001b[38;5;238m 396\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 397\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242malt + d\u001b[0m \u001b[38;5;238m 398\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m ~/bin/type_date_into_window\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m This is my full config $ cat / home / gk / . config / dwm / config . h /* See LICENSE file for copyright and license details. */ // clang-format off #include <X11/XF86keysym.h> /* appearance */ static const unsigned int borderpx = 12 ; /* border pixel of windows */ static const unsigned int snap = 32 ; /* snap pixel */ /*static const int bar_right_offset = 180 ; offset from the right -depends on color tags used in dwmbar. increase if you use more of them, 0 would be correct w/o any color tag */ static const int bar_right_offset = 0 ; /* offset from the right -depends on color tags used in dwmbar. increase if you use more of them, 0 would be correct w/o any color tag */ static const int showbar = 1 ; /* 0 means no bar */ static const int topbar = 1 ; /* 0 means bottom bar */ /* We get those all from .Xresources, dynmaically: static const char *fonts[] = { \"monospace:size=10\" }; static const char dmenufont[] = \"monospace:size=10\"; static const char col_gray1[] = \"#222222\"; static const char col_gray2[] = \"#444444\"; static const char col_gray3[] = \"#bbbbbb\"; static const char col_gray4[] = \"#eeeeee\"; static const char col_cyan[] = \"#005577\"; static const char *colors[][3] = { [SchemeNorm] = { col_gray3, col_gray1, col_gray2 }, [SchemeSel] = { col_gray4, col_cyan, col_cyan }, }; static const char *tags[] = { \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\" }; static const char *fonts[] = { \"unifont:size = 13\" }; */ static const char * fonts [] = { \"Hack:size=13\" }; static const char panel [][ 20 ] = { \"xfce4-panel\" , \"Xfce4-panel\" }; static const unsigned int baralpha = 0x10 ; static const unsigned int borderalpha = 0x10 ; /* * See https://github.com/jgrar/dwm-patches/tree/master/statuscolors, regarding how to close gaps in progrss meters * and this regarind how to really make it fancy: https://www.reddit.com/r/unixporn/comments/8hrkt3/dwm_powerline_themed_status_bar [SchemeSel] = { \"#999999\", \"#111111\", \"#88b7c1\" }, * */ static const char * colors [][ 4 ] = { /* fg bg border */ [ SchemeNorm ] = { \"#555555\" , \"#111111\" , \"#000\" }, [ SchemeSel ] = { \"#999999\" , \"#111111\" , \"#999\" }, [ SchemeAX ] = { \"#bbb\" , \"#8bd124\" , \"#666\" }, }; /* statuscolors not required anymore, we have xfce4-panel [SchemeWarn] = { \"#eeee00\", \"#111111\", \"#666\" }, [SchemeUrgent] = { \"#ee0000\", \"#111111\", \"#666\" }, [SchemeGood] = { \"#8bd124\", \"#111111\", \"#666\" }, [SchemeGray] = { \"#999\" , \"#111111\", \"#666\" }, }; */ /* static const unsigned int alphas[][3] = { * fg bg border * [SchemeNorm] = { OPAQUE, baralpha, borderalpha }, [SchemeSel] = { OPAQUE, baralpha, borderalpha }, }; */ /* tagging static const char *tags[] = { \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\" }; */ static char * tags [] = { \"\u4e00\" , \"\u4e8c\" , \"\u4e09\" , \"\u56db\" , \"\u4e94\" , \"\u516d\" , \"\u4e03\" , \"\u516b\" , \"\u4e5d\" }; static char dmenumon [ 2 ] = \"0\" ; /* component of dmenucmd, manipulated in spawn() */ static const char * dmenucmd [] = { \"bin/rofi_utils_select\" , \"startup\" , NULL }; static const Rule rules [] = { /* xprop(1): * WM_CLASS(STRING) = instance, class * WM_NAME(STRING) = title */ /* class instance title tags mask , isfloating monitor */ { \"Arcologout.py\" , NULL , NULL , 0 , 1 , -1 }, { \"SimpleScreenRecorder\" , NULL , NULL , 0 , 1 , -1 }, { panel [ 1 ], NULL , NULL , ( 1 << 9 ) - 1 , 0 , -1 }, { \"Xfce4-appfinder\" , NULL , NULL , ( 1 << 9 ) - 1 , 1 , -1 }, { \"Xfrun4\" , NULL , NULL , ( 1 << 9 ) - 1 , 1 , -1 }, { \"Peek\" , NULL , NULL , 0 , 1 , -1 }, { \"Dragon\" , NULL , NULL , ( 1 << 9 ) - 1 , 1 , -1 }, { \"flameshot\" , NULL , NULL , ( 1 << 9 ) - 1 , 1 , -1 }, { \"Variety\" , NULL , NULL , 0 , 1 , -1 }, { NULL , \"HUD\" , NULL , 0 , 1 , -1 }, { \"HUD\" , NULL , NULL , 0 , 1 , -1 }, { \"HUDALL\" , NULL , NULL , ( 1 << 9 ) - 1 , 1 , -1 }, { \"Firefox\" , NULL , NULL , 0 , 0 , -1 }, { NULL , NULL , \"Skype\" , 0 , 1 , -1 }, }; /* layout(s) */ static const float mfact = 0.55 ; /* factor of master area size [0.05..0.95] */ static const int nmaster = 1 ; /* number of clients in master area */ static const int resizehints = 1 ; /* 1 means respect size hints in tiled resizals */ #include \"layouts.c\" static const Layout layouts [] = { /* symbol arrange function */ { \"T\" , tile }, /* first entry is default */ { \"F\" , NULL }, /* no layout function means floating behavior */ { \"M\" , monocle }, { \"G\" , grid }, { \"V\" , col }, }; /* key definitions */ #define MODKEY Mod4Mask /* #define TAGKEYS(KEY,TAG) \\ { MODKEY, KEY, view, {.ui = 1 << TAG} }, \\ { MODKEY|ControlMask, KEY, toggleview, {.ui = 1 << TAG} }, \\ { MODKEY|ShiftMask, KEY, tag, {.ui = 1 << TAG} }, \\ { MODKEY|ControlMask|ShiftMask, KEY, toggletag, {.ui = 1 << TAG} }, */ #define TAGKEYS(KEY,TAG) \\ { ControlMask , KEY , view , {.ui = 1 << TAG} } , \\ { MODKEY|ControlMask , KEY , toggleview , {.ui = 1 << TAG} } , \\ { ControlMask|ShiftMask , KEY , tag , {.ui = 1 << TAG} } , \\ { MODKEY|ControlMask|ShiftMask , KEY , toggletag , {.ui = 1 << TAG} } , /* helper for spawning shell commands in the pre dwm-5.0 fashion */ #define SHCMD(cmd) { .v = (const char*[]){ \"/bin/sh\", \"-c\", cmd, NULL } } /* commands */ /*static const char *dmenucmd[] = { \"dmenu_run\", \"-m\", dmenumon, \"-fn\", dmenufont, \"-nb\", col_gray1, \"-nf\", col_gray3, \"-sb\", col_cyan, \"-sf\", col_gray4, NULL }; static const char *copyq_menucmd[] = { \"copyq\", \"menu\", NULL }; static const char *insert_date [] = { \"/home/gk/bin/type_date_into_window\", NULL }; static const char *volumemute[] = { \"amixer\", \"set\", \"Master\", \"toggle\" , \";\", \"/home/gk/bin/refbar\", NULL }; { ControlMask , XK_c , spawn , {.v = signtcmd } } , this is control key on my keyboard (swapped) { ControlMask , XK_d , spawn , {.v = sigdtcmd } } , this is control key on my keyboard (swapped) */ static Key keys [] = { /* modifier key function argument */ /* { ControlMask , XK_space , spawn , SHCMD(\"/home/gk/bin/st_hud\" ) } , */ /* { ControlMask|ShiftMask|Mod4Mask , XK_3 , spawn , SHCMD(\"sleep 1s;/home/gk/bin/shot_selected\") } , */ /* { ControlMask|ShiftMask , XK_b , spawn , SHCMD(\"/home/gk/bin/clipctrl previous_item\") } , */ /* { MODKEY|ControlMask , XK_d , spawn , SHCMD(\"/home/gk/bin/type_date_into_window\" ) } , */ /* { Mod4Mask , XK_Return , zoom , { 0 }} , * swap focus when gtk keys swapped*/ /*{ ControlMask , XK_Left , lasttag , {.i = 1} } , */ { MODKEY | ShiftMask , XK_1 , togglebar , { . i = 1 } } , { MODKEY | ShiftMask , XK_minus , setborderpx , { . i = -1 } } , { MODKEY | ShiftMask , XK_equal , setborderpx , { . i = + 1 } } , { ControlMask , XK_BackSpace , killclient , { 0 }} , { ControlMask , XK_q , killclient , { 0 }} , { ControlMask , XK_Return , zoom , { 0 }} , /* swap focus*/ { ControlMask , XK_space , spawn , SHCMD ( \"/usr/bin/ulauncher\" ) } , /* faster than sxk */ { ControlMask , XK_Tab , spawn , SHCMD ( \"/usr/bin/skippy-xd\" ) } , { ControlMask , XK_n , spawn , SHCMD ( \"st\" ) } , { MODKEY | ShiftMask , XK_b , togglebar , { 0 }} , { ControlMask , XK_j , focusstack , { . i = -1 }} , { ControlMask , XK_k , focusstack , { . i = + 1 }} , { ControlMask , XK_m , focusmon , { . i = -1 }} , /* { ControlMask , XK_l , focusmon , { .i = +1 }} , h is enough we have just 2 or 3 mons. l is for browser location*/ { MODKEY | ShiftMask , XK_h , spawn , SHCMD ( \"/home/gk/bin/tagmon -1\" ) } , { MODKEY | ShiftMask , XK_l , spawn , SHCMD ( \"/home/gk/bin/tagmon 1\" ) } , { MODKEY | ShiftMask , XK_comma , tagmon , { . i = -1 }} , { MODKEY | ShiftMask , XK_period , tagmon , { . i = + 1 }} , { MODKEY , XK_i , incnmaster , { . i = + 1 }} , { MODKEY , XK_d , incnmaster , { . i = -1 }} , { Mod1Mask , XK_h , setmfact , { . f = -0.05 }} , { Mod1Mask , XK_l , setmfact , { . f = + 0.05 }} , /* { MODKEY , XK_Tab , view , { 0 }} , */ { MODKEY , XK_t , setlayout , { . v = & layouts [ 0 ] }} , { MODKEY , XK_f , setlayout , { . v = & layouts [ 1 ] }} , { MODKEY , XK_m , setlayout , { . v = & layouts [ 2 ] }} , { MODKEY , XK_g , setlayout , { . v = & layouts [ 3 ] }} , { MODKEY , XK_v , setlayout , { . v = & layouts [ 4 ] }} , { MODKEY | ShiftMask , XK_period , cyclelayout , { . i = + 1 } } , /* { MODKEY|ShiftMask , XK_space , setlayout , { 0 }} , */ { MODKEY | ShiftMask , XK_space , togglefloating , { 0 }} , { MODKEY , XK_0 , view , { . ui = ~ 0 }} , { MODKEY | ShiftMask , XK_0 , tag , { . ui = ~ 0 }} , { MODKEY | ShiftMask , XK_q , quit , { 0 }} , { 0 , XF86XK_Display , spawn , SHCMD ( \"/home/gk/bin/hw display\" ) } , /* xev is your friend to find those */ /* { 0, XF86XK_LaunchA , spawn, SHCMD(\"/home/gk/bin/hw launcha\" ) }, */ /* { 0, XF86XK_MonBrightnessDown , spawn, SHCMD(\"/home/gk/bin/hw monbrightdown\" ) }, */ /* { 0, XF86XK_MonBrightnessUp , spawn, SHCMD(\"/home/gk/bin/hw monbrightup\" ) }, */ /* { 0, XF86XK_AudioMute , spawn, SHCMD(\"/home/gk/bin/hw audiomute\" ) }, */ /* { 0, XF86XK_AudioLowerVolume , spawn, SHCMD(\"/home/gk/bin/hw audiolower\" ) }, */ /* { 0, XF86XK_AudioRaiseVolume , spawn, SHCMD(\"/home/gk/bin/hw audioraise\" ) }, */ /* { 0, XF86XK_RFKill , spawn, SHCMD(\"/home/gk/bin/hw rfkill\" ) }, */ /* { ControlMask, XF86XK_Eject , killclient , {0 }} , */ /* { 0 , XF86XK_Eject , spawn, SHCMD(\"/home/gk/bin/hw eject\" ) }, */ /* { 0 , XK_F1 , spawn, SHCMD(\"/home/gk/bin/hw F1\" ) }, */ /* { 0 , XK_F2 , spawn, SHCMD(\"/home/gk/bin/hw F2\" ) }, */ /* { 0 , XK_F3 , spawn, SHCMD(\"/home/gk/bin/hw F3\" ) }, */ /* { 0 , XK_F4 , spawn, SHCMD(\"/home/gk/bin/hw F4\" ) }, */ /* { 0 , XK_F5 , spawn, SHCMD(\"/home/gk/bin/hw F5\" ) }, */ /* { 0 , XK_F6 , spawn, SHCMD(\"/home/gk/bin/hw F6\" ) }, */ /* { 0 , XK_F7 , spawn, SHCMD(\"/home/gk/bin/hw F7\" ) }, */ /* { 0 , XK_F8 , spawn, SHCMD(\"/home/gk/bin/hw F8\" ) }, */ /* { 0 , XK_F9 , spawn, SHCMD(\"/home/gk/bin/hw F9\" ) }, */ /* { 0 , XK_F10 , spawn, SHCMD(\"/home/gk/bin/hw F10\" ) }, */ /* { 0 , XK_F11 , spawn, SHCMD(\"/home/gk/bin/hw F11\" ) }, */ /* { 0 , XK_F12 , spawn, SHCMD(\"/home/gk/bin/hw F12\" ) }, */ /* { ControlMask, XK_Delete , spawn, SHCMD(\"/home/gk/bin/hw ctrl_del\" ) }, */ /* /1* Keyboard Backlight *1/ */ /* { ControlMask , XF86XK_MonBrightnessDown , spawn , {.v = F13 }} , */ /* { ControlMask , XF86XK_MonBrightnessUp , spawn , {.v = F14 }} , */ /* { 0 , XF86XK_LaunchA , spawn , {.v = F03 }} , */ /* { 0 , XF86XK_LaunchB , spawn , {.v = F04 }} , */ /* { 0 , XF86XK_AudioPrev , spawn , {.v = F07 }} , */ /* { 0 , XF86XK_AudioPlay , spawn , {.v = F08 }} , */ /* { 0 , XF86XK_AudioNext , spawn , {.v = F09 }} , */ /* { ControlMask , XF86XK_Eject , spawn , {.v = pow }} , */ /* { ControlMask , XF86XK_PowerOff , spawn , {.v = pow }} , */ /* { ControlMask , XF86XK_Suspend , spawn , {.v = pow }} , */ /* {MODKEY|ControlMask|ShiftMask , XK_l , spawn , SHCMD(\"/home/gk/bin/hw lock\" ) }, */ TAGKEYS ( XK_1 , 0 ) TAGKEYS ( XK_2 , 1 ) TAGKEYS ( XK_3 , 2 ) TAGKEYS ( XK_4 , 3 ) TAGKEYS ( XK_5 , 4 ) TAGKEYS ( XK_6 , 5 ) TAGKEYS ( XK_7 , 6 ) TAGKEYS ( XK_8 , 7 ) TAGKEYS ( XK_9 , 8 ) }; /* button definitions */ /* click can be ClkTagBar, ClkLtSymbol, ClkStatusText, ClkWinTitle, ClkClientWin, or ClkRootWin */ static Button buttons [] = { /* click event mask button function argument */ { ClkLtSymbol , 0 , Button1 , setlayout , { 0 } }, { ClkLtSymbol , 0 , Button3 , setlayout , {. v = & layouts [ 2 ]} }, { ClkWinTitle , 0 , Button2 , zoom , { 0 } }, { ClkStatusText , 0 , Button2 , spawn , SHCMD ( \"st\" ) }, { ClkClientWin , MODKEY , Button1 , movemouse , { 0 } }, { ClkClientWin , MODKEY , Button2 , togglefloating , { 0 } }, { ClkClientWin , MODKEY , Button3 , resizemouse , { 0 } }, { ClkTagBar , 0 , Button1 , view , { 0 } }, { ClkTagBar , 0 , Button3 , toggleview , { 0 } }, { ClkTagBar , MODKEY , Button1 , tag , { 0 } }, { ClkTagBar , MODKEY , Button3 , toggletag , { 0 } }, }; typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Config"},{"location":"ll/sl/st/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Why I Love st \u00a4 The suckless terminal for me is freedom. My C is pretty much not existing but the imperative code changes I need to do I can look up - so I have a terminal emulator which does what I want. There is no other one where I would dare to hack into, plus tool chains are usually massive (ever tried to compile vte based one?). With st I can mess around, have an ~/.config/st \u276f ls | entr bash -c 'sudo make clean install' running elsewhere and a second later I have a shiny new terminal - or not, when it crashes ;-) Bigger add ones up to now where the theme-picker , which I heavily use to differentiate terminals from each other, by changing their color themes. Or the emulation of iterm2's ctrl-k, clear the buffer, which was trivial. Here is another one: Call external helper with pid of terminal, when Ctrl-Clicking \u00a4 config.h: MouseKey mkeys[] = { /* button mask function argument */ /* no idea why selpaste (e.g. from mouse sel. in surf) was not working in luke's patch w/o that: */ { Button3, ControlMask, extcmd, {.v = \"$HOME/.config/st/ctrl_click\"} }, (...) x.c: static void extcmd ( const Arg * ); (...) void extcmd ( const Arg * extcmd ) { // run external command giving it our pid char cmd [ 100 ]; snprintf ( cmd , sizeof ( cmd ), \"%s %d\" , * extcmd , getpid ()); // puts string into buffer system ( cmd ); } That's it, any ctrl click is now running the external command, with the pid of st as argument ( notify-send \"pid is $1\" works) In the external program we can now do wilder stuff, using pid -> windowid ... The Color Emoji Crash \u00a4 st crashes due to an xft bug, when displaying color Emojis. Details from Luke: https://www.youtube.com/watch?v=f9qNXV01yzg Fix via adding a patch to libxft. On Fedora: git clone https://gitlab.freedesktop.org/xorg/lib/libxft.git cd libxft wget https://gitlab.freedesktop.org/xorg/lib/libxft/-/merge_requests/1.patch patch -p1 < 1 .patch sudo dnf install xorg-x11-util-macros sh autogen.sh --sysconfdir = /etc --prefix = /usr --mandir = /usr/share/man make make install And finally you have your \"black female police officer\" emoji: typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"st"},{"location":"ll/sl/st/#why-i-love-st","text":"The suckless terminal for me is freedom. My C is pretty much not existing but the imperative code changes I need to do I can look up - so I have a terminal emulator which does what I want. There is no other one where I would dare to hack into, plus tool chains are usually massive (ever tried to compile vte based one?). With st I can mess around, have an ~/.config/st \u276f ls | entr bash -c 'sudo make clean install' running elsewhere and a second later I have a shiny new terminal - or not, when it crashes ;-) Bigger add ones up to now where the theme-picker , which I heavily use to differentiate terminals from each other, by changing their color themes. Or the emulation of iterm2's ctrl-k, clear the buffer, which was trivial. Here is another one:","title":"Why I Love st"},{"location":"ll/sl/st/#call-external-helper-with-pid-of-terminal-when-ctrl-clicking","text":"config.h: MouseKey mkeys[] = { /* button mask function argument */ /* no idea why selpaste (e.g. from mouse sel. in surf) was not working in luke's patch w/o that: */ { Button3, ControlMask, extcmd, {.v = \"$HOME/.config/st/ctrl_click\"} }, (...) x.c: static void extcmd ( const Arg * ); (...) void extcmd ( const Arg * extcmd ) { // run external command giving it our pid char cmd [ 100 ]; snprintf ( cmd , sizeof ( cmd ), \"%s %d\" , * extcmd , getpid ()); // puts string into buffer system ( cmd ); } That's it, any ctrl click is now running the external command, with the pid of st as argument ( notify-send \"pid is $1\" works) In the external program we can now do wilder stuff, using pid -> windowid ...","title":"Call external helper with pid of terminal, when Ctrl-Clicking"},{"location":"ll/sl/st/#the-color-emoji-crash","text":"st crashes due to an xft bug, when displaying color Emojis. Details from Luke: https://www.youtube.com/watch?v=f9qNXV01yzg Fix via adding a patch to libxft. On Fedora: git clone https://gitlab.freedesktop.org/xorg/lib/libxft.git cd libxft wget https://gitlab.freedesktop.org/xorg/lib/libxft/-/merge_requests/1.patch patch -p1 < 1 .patch sudo dnf install xorg-x11-util-macros sh autogen.sh --sysconfdir = /etc --prefix = /usr --mandir = /usr/share/man make make install And finally you have your \"black female police officer\" emoji: typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"The Color Emoji Crash"},{"location":"ll/sl/status_bar_fun/2021.05.23_dwm_status_1_a_fancy_status_bar/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } My DWM Status Bar - With a Problem \u00a4 Why \u00a4 dwm's slstatus is a C program which prints some basic system data every second, incl. total CPU usage. As a python and vim user I (too) often have ONE process consume 100% CPU - e.g. a gone wild python program, or, more often, vim opened within an badly configured environment, where coc runs amok, trying to get together all source code for the file under edit. The total CPU number shown by slstatus does not really show this, with 8 cores, one loaded one is not really that significant. So I looked a bit into slstatus and tried to create a per-core indicator. Measuring Load on Linux \u00a4 This is done via /proc/stat. Here, the kernel reports cumulative(counting up) core usage per second: ~ \u276f cat /proc/stat cpu 502382 2167 136093 21207687 29533 184796 10164 0 0 0 cpu0 65995 280 14753 2578372 3274 93964 1608 0 0 0 (...) cpu7 77587 380 15185 2661505 3187 1170 738 0 0 0 current load you get by subtracting the number seen at t from the one seen a second ago. If this is 100 you have 100% core usage - currently. slstatus just looks at the total (the first row, cpu): ~/ . config / slstatus \u276f cat components / cpu . c (...) const char * cpu_perc ( void ) #if defined(__linux__) { static long double a [ 7 ]; long double b [ 7 ], sum ; int tot = 0 ; memcpy ( b , a , sizeof ( b )); /* cpu user nice system idle iowait irq softirq */ if ( pscanf ( \"/proc/stat\" , \"%*s %Lf %Lf %Lf %Lf %Lf %Lf %Lf\" , & a [ 0 ], & a [ 1 ], & a [ 2 ], & a [ 3 ], & a [ 4 ], & a [ 5 ], & a [ 6 ]) != 7 ) { return NULL ; } if ( b [ 0 ] == 0 ) { return NULL ; } //return bprintf(\"%d\", (int)b[0]); sum = ( b [ 0 ] + b [ 1 ] + b [ 2 ] + b [ 3 ] + b [ 4 ] + b [ 5 ] + b [ 6 ]) - ( a [ 0 ] + a [ 1 ] + a [ 2 ] + a [ 3 ] + a [ 4 ] + a [ 5 ] + a [ 6 ]); if ( sum == 0 ) { return NULL ; } tot = ( 100 * (( b [ 0 ] + b [ 1 ] + b [ 2 ] + b [ 5 ] + b [ 6 ]) - ( a [ 0 ] + a [ 1 ] + a [ 2 ] + a [ 5 ] + a [ 6 ])) / sum ); if ( tot > 10 ) return bprintf ( \"%d \\x03 \u2300 \\x01 \" , ( int ) tot ); if ( tot > 20 ) return bprintf ( \"%d \\x04 \u2300 \\x01 \" , ( int ) tot ); return bprintf ( \"%d\u2300\" , ( int ) tot ); } (...) // also interesting: #elif defined(__OpenBSD__) if ( sysctl ( mib , 2 , & a , & size , NULL , 0 ) < 0 ) { warn ( \"sysctl 'KERN_CPTIME':\" ); return NULL ; } if ( b [ 0 ] == 0 ) { return NULL ; } sum = ( a [ CP_USER ] + a [ CP_NICE ] + a [ CP_SYS ] + a [ CP_INTR ] + a [ CP_IDLE ]) - ( b [ CP_USER ] + b [ CP_NICE ] + b [ CP_SYS ] + b [ CP_INTR ] + b [ CP_IDLE ]); Creating My Own - in Python \u00a4 Thinking further I thought I do my version in python, for quick prototyping and more data, using psutil. For starters I had the idea to not simply show the usage (as unicode bars - stolen from Luke Smith ), but to A) Sort by bar height, so that top usage is always at the left (the core used is changing all the time) B) Show the name of the process consuming 100% right within the status bar - when there is one. C) Show also network traffic - when there is traffic. D) Colors E) More Sensors For D, colors, there is this patch: dwm-statuscolors-20181008-b69c870.diff - allowing to tag colors from a (small) fixed set, using indicators like \\x01 for normal text, \\x03 for warning and so on. The daemon: status.py \u00a4 Talk is cheap, show me the code ~/ inst / dwm \u276f cat status . py #!/usr/bin/python \"\"\" Statusbar Daemon, setting status the xsetroot way started in autostart.sh Replaces SL status. Requires: statuscolors (e.g. \\x03: important color \\x04: warning color) Hightlights: - cpu per core - top process - arbitray long symbol lists, will pick per percent Important: Keep number of slstatus color tags constant in output, otherwise you get jumping positions \"\"\" import os , sys , psutil , time , subprocess as sp import time # config Sensors = [ 'traffic' , 'cpu' , 'mem' , 'battery' , 'time' ] # Sensors = ['time'] Traffic100 = 1024 # bytes bars = '\u2581\u2582\u2583\u2584\u2585\u2586\u2587' # arr_downs = ' \ud83e\udc93\u2193\u2b07\ufc2c\ud83e\udc47' arr_downs = ' \u2193\u2b07\ufc2c\ud83e\udc47' arr_ups = ' \u2191\u2b06\uf478\ud83e\udc45' # end config s = [] CPUs = psutil . cpu_count () ctx = { 'proc_stat' : [ 0 for i in range ( CPUs )], 'traffic' : [ 0 , 0 ]} top = 'top -b -1 -n 1 -w 100 | head -n 20' bar_intv = 100.0 / len ( bars ) arr_downs_intv = 100.0 / len ( arr_downs ) arr_ups_intv = 100.0 / len ( arr_ups ) arrows = [[ arr_downs , arr_downs_intv ], [ arr_ups , arr_ups_intv ]] # delivers the *cummulated* load values - per cpu. # A difference of 100 within 1 sec means: fully loaded proc_stat = '/proc/stat' top = 'top -b -1 -n 1 -w 100 | head -n 20' \"\"\" os.environ['LINES'] = '12' # top cutting the output then top - 17:36:55 up 2 days, 19:57, 3 users, load average: 1,71, 1,41, 1,14 Tasks: 410 total, 2 running, 406 sleeping, 0 stopped, 2 zombie %Cpu0 : 0,0 us, ... %Cpu1 : 0,0 us %Cpu2 : 0,0 us, ... %Cpu3 :100,0 us %Cpu4 : 0,0 us, ... %Cpu5 : 0,0 us %Cpu6 : 0,0 us, ... %Cpu7 : 0,0 us MiB Mem : 15351,4 total, 2072,7 free, 3360,2 used, 9918,5 buff/cache MiB Swap: 512,0 total, 492,3 free, 19,7 used. 11039,6 avail Mem PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 642053 gk 20 0 14352 8628 5644 R 100,0 0,1 21:14.30 python 630695 gk 20 0 3724352 535904 289652 S 6,7 3,4 12:04.78 firefox \"\"\" def add_top_cpu_eaters ( r , nr ): # nr 1: top, t = os . popen ( top ) . read () p = ' ' . join ( t . split ( 'COMMAND' , 1 )[ 1 ] . split ( ' \\n ' , 1 + nr )[ nr ] . split ()[ 11 :]) r . insert ( 0 , ' \\x04 %s ' % p [: 10 ] . replace ( ' ' , '' )) class sensors : def cpu (): r = [] with open ( proc_stat ) as fd : t = fd . read () o = ctx [ 'proc_stat' ] h = [] for i in range ( CPUs ): v , t = t . split ( 'cpu %s ' % i , 1 )[ 1 ] . split ( ' \\n ' , 1 ) v = int ( v . split ( ' ' , 1 )[ 0 ]) d = min ( v - o [ i ], 99.9 ) o [ i ] = v # print(i, d, file=sys.stderr) h . append ( d ) h = list ( reversed ( sorted ( h ))) # show top process: for i in [ 0 , 1 ]: if h [ i ] > 80 : add_top_cpu_eaters ( r , i + 1 ) else : r . insert ( 0 , ' \\x04 ' ) # color tags must be same amount always col = lambda d : ' \\x04 ' if d > 90 else ' \\x03 ' if d > 30 else ' \\x02 ' v = lambda d : bars [ int ( d / bar_intv )] [ r . append ( ' %s%s ' % ( col ( d ), v ( d ))) for d in h ] return '' . join ( r ) def time (): t = time . ctime () . split () t . pop ( 1 ) # month t . pop () return ' ' . join ( t ) def mem (): return ' %s \uf85a' % psutil . virtual_memory () . percent def traffic (): r = [] o = ctx [ 'traffic' ] h = psutil . net_io_counters ( pernic = False ) v = [ h . bytes_sent , h . bytes_recv ] print ( '' ) for i in range ( 2 ): d = 100 * ( min (( v [ i ] - o [ i ]), Traffic100 - 1 ) / Traffic100 ) # print('%s\\t%s' % (v[i] - o[i], d)) o [ i ] = v [ i ] arrs , arr_int = arrows [ i ] col = ' \\x04 ' if i == 0 else ' \\x03 ' s = arrs [ int ( d / arr_int )] r . append ( ' %s%s ' % ( col , s )) return '' . join ( r ) def battery (): B = '\uf244\uf243\uf242\uf241\uf240' P = '\uf1e6\ufba4' d = psutil . sensors_battery () d , pp = int ( d . percent ), d . power_plugged p = ' \\x02 ' + P [ 0 ] if pp else ' \\x04 ' + P [ 1 ] s = B [ int ( min ( d , 99 ) / ( 100 / len ( B )))] if d < 30 : s = ' \\x04 ' + s if d < 60 : s = ' \\x03 ' + s else : s = ' \\x02 ' + s if d > 90 and pp : return '' return s + ' ' + p + ' ' def xsetroot ( sl ): if os . system ( 'xsetroot -name \" %s \"' % sl ): print ( 'exitting status.py' ) sys . exit ( 1 ) def terminal ( sl ): # don't want to see the '\\x0...' in terminal: os . system ( 'echo -e \" %s \"' % sl ) def main (): out = terminal if '-s' in sys . argv else xsetroot while True : s . clear () for w in Sensors : k = getattr ( sensors , w )() s . append ( ' %s \\x01 ' % k ) # space to overwrite/delete remaining old process names: sl = ' \\x02 ' + '' . join ( s ) out ( sl ) time . sleep ( 1 ) if __name__ == '__main__' : main () top for non interactive system info?! Yes, in add_top_cpu_eater I do use top to get the most CPU eating procs. But: Since I want to show the top 2 core loading processes anwyay, when we are loaded - and finding those using psutils, iterating over all processes, would have been way more expensive than top. top is pretty efficient and the output format is constant. Many people seem to (mis)use it for gathering infos the cheap way, they even added the -b (batch) mode for this. The other sensors should be pretty easy to understand. Patching dwm \u00a4 Worth noting here that the dwm statuscolors and systray patch collide. Here is the resolution to have both working: void drawbar ( Monitor * m ) { int x , w , tw = 0 , stw = 0 ; int boxs = drw -> fonts -> h / 9 ; int boxw = drw -> fonts -> h / 6 + 2 ; unsigned int i , occ = 0 , urg = 0 ; char * ts = stext ; char * tp = stext ; int tx = 0 ; char ctmp ; Client * c ; if ( showsystray && m == systraytomon ( m )) stw = getsystraywidth (); /* draw status first so it can be overdrawn by tags later */ if ( m == selmon || 1 ) { /* status is only drawn on selected monitor - not anymore, have statusallmons in */ drw_setscheme ( drw , scheme [ SchemeNorm ]); tw = TEXTW ( stext ) - lrpad / 2 + 2 ; /* 2px right padding */ /*tw = TEXTW(stext); /*- lrpad / 2 + 2; * 2px right padding */ while ( 1 ) { if (( unsigned int ) * ts > LENGTH ( colors )) { ts ++ ; continue ; } ctmp = * ts ; //fprintf(stderr, \"drawbar %d %d.\\n\", ctmp, tx); * ts = '\\0' ; // drw_text(Drw *drw, int x, int y, unsigned int w, unsigned int h, unsigned int lpad, const char *text, int invert) // the 120 shifts it to the right, there would be a big gap otherwise, not sure why, potentially to do with statuscolors plus systray patch // and amount of output in status.py // drw_text ( drw , m -> ww - tw - stw + tx + 120 , 0 , tw - tx , bh , 0 , tp , 0 ); // <--- this is the right way /*drw_text(drw, m->ww - tw - stw + tx, 0, tw - tx, bh, 0, tp, 0);*/ tx += TEXTW ( tp ) - lrpad ; if ( ctmp == '\\0' ) { break ; } drw_setscheme ( drw , scheme [( unsigned int )( ctmp -1 )]); * ts = ctmp ; tp = ++ ts ; } } resizebarwin ( m ); (...) Note that I also have dwm-statusallmons-6.2 in (the ||1 , bypassing selmon ). Final Result \u00a4 Here it is in action: With power cable removed: Here a live recording . The Problem \u00a4 I liked it a lot, looked nice and clean but fully under control - but it had a downside: Staring at top output I noticed a new candiate in the list, rarely seen ever before: dwm itself :-( PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 145769 gk 20 0 31376 16276 12856 S 11,6 0,1 2:16.16 dwm Not always but e.g. when tag switching, i.e. when redrawing the status bar. status.py itself was < 1%, always. Never saw that, dwm is usually never ever >1%. Bad. This defies the main reason of using superlightweight dwm in the first place. When early returning in drawbar, the cpu usage stays low. First I thought about a bug in my drawbar patch. But analyzing it I found no problem, e.g. an infinite loop - the function was only called once a second and the while loop cleanly exits at the end of the status text. I do think currently that it's a really the drw_setscheme, which is that expensive, and it is called at every different color used in the bar. There must be a better way... typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"The Problem"},{"location":"ll/sl/status_bar_fun/2021.05.23_dwm_status_1_a_fancy_status_bar/#my-dwm-status-bar-with-a-problem","text":"","title":"My DWM Status Bar - With a Problem"},{"location":"ll/sl/status_bar_fun/2021.05.23_dwm_status_1_a_fancy_status_bar/#why","text":"dwm's slstatus is a C program which prints some basic system data every second, incl. total CPU usage. As a python and vim user I (too) often have ONE process consume 100% CPU - e.g. a gone wild python program, or, more often, vim opened within an badly configured environment, where coc runs amok, trying to get together all source code for the file under edit. The total CPU number shown by slstatus does not really show this, with 8 cores, one loaded one is not really that significant. So I looked a bit into slstatus and tried to create a per-core indicator.","title":"Why"},{"location":"ll/sl/status_bar_fun/2021.05.23_dwm_status_1_a_fancy_status_bar/#measuring-load-on-linux","text":"This is done via /proc/stat. Here, the kernel reports cumulative(counting up) core usage per second: ~ \u276f cat /proc/stat cpu 502382 2167 136093 21207687 29533 184796 10164 0 0 0 cpu0 65995 280 14753 2578372 3274 93964 1608 0 0 0 (...) cpu7 77587 380 15185 2661505 3187 1170 738 0 0 0 current load you get by subtracting the number seen at t from the one seen a second ago. If this is 100 you have 100% core usage - currently. slstatus just looks at the total (the first row, cpu): ~/ . config / slstatus \u276f cat components / cpu . c (...) const char * cpu_perc ( void ) #if defined(__linux__) { static long double a [ 7 ]; long double b [ 7 ], sum ; int tot = 0 ; memcpy ( b , a , sizeof ( b )); /* cpu user nice system idle iowait irq softirq */ if ( pscanf ( \"/proc/stat\" , \"%*s %Lf %Lf %Lf %Lf %Lf %Lf %Lf\" , & a [ 0 ], & a [ 1 ], & a [ 2 ], & a [ 3 ], & a [ 4 ], & a [ 5 ], & a [ 6 ]) != 7 ) { return NULL ; } if ( b [ 0 ] == 0 ) { return NULL ; } //return bprintf(\"%d\", (int)b[0]); sum = ( b [ 0 ] + b [ 1 ] + b [ 2 ] + b [ 3 ] + b [ 4 ] + b [ 5 ] + b [ 6 ]) - ( a [ 0 ] + a [ 1 ] + a [ 2 ] + a [ 3 ] + a [ 4 ] + a [ 5 ] + a [ 6 ]); if ( sum == 0 ) { return NULL ; } tot = ( 100 * (( b [ 0 ] + b [ 1 ] + b [ 2 ] + b [ 5 ] + b [ 6 ]) - ( a [ 0 ] + a [ 1 ] + a [ 2 ] + a [ 5 ] + a [ 6 ])) / sum ); if ( tot > 10 ) return bprintf ( \"%d \\x03 \u2300 \\x01 \" , ( int ) tot ); if ( tot > 20 ) return bprintf ( \"%d \\x04 \u2300 \\x01 \" , ( int ) tot ); return bprintf ( \"%d\u2300\" , ( int ) tot ); } (...) // also interesting: #elif defined(__OpenBSD__) if ( sysctl ( mib , 2 , & a , & size , NULL , 0 ) < 0 ) { warn ( \"sysctl 'KERN_CPTIME':\" ); return NULL ; } if ( b [ 0 ] == 0 ) { return NULL ; } sum = ( a [ CP_USER ] + a [ CP_NICE ] + a [ CP_SYS ] + a [ CP_INTR ] + a [ CP_IDLE ]) - ( b [ CP_USER ] + b [ CP_NICE ] + b [ CP_SYS ] + b [ CP_INTR ] + b [ CP_IDLE ]);","title":"Measuring Load on Linux"},{"location":"ll/sl/status_bar_fun/2021.05.23_dwm_status_1_a_fancy_status_bar/#creating-my-own-in-python","text":"Thinking further I thought I do my version in python, for quick prototyping and more data, using psutil. For starters I had the idea to not simply show the usage (as unicode bars - stolen from Luke Smith ), but to A) Sort by bar height, so that top usage is always at the left (the core used is changing all the time) B) Show the name of the process consuming 100% right within the status bar - when there is one. C) Show also network traffic - when there is traffic. D) Colors E) More Sensors For D, colors, there is this patch: dwm-statuscolors-20181008-b69c870.diff - allowing to tag colors from a (small) fixed set, using indicators like \\x01 for normal text, \\x03 for warning and so on.","title":"Creating My Own - in Python"},{"location":"ll/sl/status_bar_fun/2021.05.23_dwm_status_1_a_fancy_status_bar/#the-daemon-statuspy","text":"Talk is cheap, show me the code ~/ inst / dwm \u276f cat status . py #!/usr/bin/python \"\"\" Statusbar Daemon, setting status the xsetroot way started in autostart.sh Replaces SL status. Requires: statuscolors (e.g. \\x03: important color \\x04: warning color) Hightlights: - cpu per core - top process - arbitray long symbol lists, will pick per percent Important: Keep number of slstatus color tags constant in output, otherwise you get jumping positions \"\"\" import os , sys , psutil , time , subprocess as sp import time # config Sensors = [ 'traffic' , 'cpu' , 'mem' , 'battery' , 'time' ] # Sensors = ['time'] Traffic100 = 1024 # bytes bars = '\u2581\u2582\u2583\u2584\u2585\u2586\u2587' # arr_downs = ' \ud83e\udc93\u2193\u2b07\ufc2c\ud83e\udc47' arr_downs = ' \u2193\u2b07\ufc2c\ud83e\udc47' arr_ups = ' \u2191\u2b06\uf478\ud83e\udc45' # end config s = [] CPUs = psutil . cpu_count () ctx = { 'proc_stat' : [ 0 for i in range ( CPUs )], 'traffic' : [ 0 , 0 ]} top = 'top -b -1 -n 1 -w 100 | head -n 20' bar_intv = 100.0 / len ( bars ) arr_downs_intv = 100.0 / len ( arr_downs ) arr_ups_intv = 100.0 / len ( arr_ups ) arrows = [[ arr_downs , arr_downs_intv ], [ arr_ups , arr_ups_intv ]] # delivers the *cummulated* load values - per cpu. # A difference of 100 within 1 sec means: fully loaded proc_stat = '/proc/stat' top = 'top -b -1 -n 1 -w 100 | head -n 20' \"\"\" os.environ['LINES'] = '12' # top cutting the output then top - 17:36:55 up 2 days, 19:57, 3 users, load average: 1,71, 1,41, 1,14 Tasks: 410 total, 2 running, 406 sleeping, 0 stopped, 2 zombie %Cpu0 : 0,0 us, ... %Cpu1 : 0,0 us %Cpu2 : 0,0 us, ... %Cpu3 :100,0 us %Cpu4 : 0,0 us, ... %Cpu5 : 0,0 us %Cpu6 : 0,0 us, ... %Cpu7 : 0,0 us MiB Mem : 15351,4 total, 2072,7 free, 3360,2 used, 9918,5 buff/cache MiB Swap: 512,0 total, 492,3 free, 19,7 used. 11039,6 avail Mem PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 642053 gk 20 0 14352 8628 5644 R 100,0 0,1 21:14.30 python 630695 gk 20 0 3724352 535904 289652 S 6,7 3,4 12:04.78 firefox \"\"\" def add_top_cpu_eaters ( r , nr ): # nr 1: top, t = os . popen ( top ) . read () p = ' ' . join ( t . split ( 'COMMAND' , 1 )[ 1 ] . split ( ' \\n ' , 1 + nr )[ nr ] . split ()[ 11 :]) r . insert ( 0 , ' \\x04 %s ' % p [: 10 ] . replace ( ' ' , '' )) class sensors : def cpu (): r = [] with open ( proc_stat ) as fd : t = fd . read () o = ctx [ 'proc_stat' ] h = [] for i in range ( CPUs ): v , t = t . split ( 'cpu %s ' % i , 1 )[ 1 ] . split ( ' \\n ' , 1 ) v = int ( v . split ( ' ' , 1 )[ 0 ]) d = min ( v - o [ i ], 99.9 ) o [ i ] = v # print(i, d, file=sys.stderr) h . append ( d ) h = list ( reversed ( sorted ( h ))) # show top process: for i in [ 0 , 1 ]: if h [ i ] > 80 : add_top_cpu_eaters ( r , i + 1 ) else : r . insert ( 0 , ' \\x04 ' ) # color tags must be same amount always col = lambda d : ' \\x04 ' if d > 90 else ' \\x03 ' if d > 30 else ' \\x02 ' v = lambda d : bars [ int ( d / bar_intv )] [ r . append ( ' %s%s ' % ( col ( d ), v ( d ))) for d in h ] return '' . join ( r ) def time (): t = time . ctime () . split () t . pop ( 1 ) # month t . pop () return ' ' . join ( t ) def mem (): return ' %s \uf85a' % psutil . virtual_memory () . percent def traffic (): r = [] o = ctx [ 'traffic' ] h = psutil . net_io_counters ( pernic = False ) v = [ h . bytes_sent , h . bytes_recv ] print ( '' ) for i in range ( 2 ): d = 100 * ( min (( v [ i ] - o [ i ]), Traffic100 - 1 ) / Traffic100 ) # print('%s\\t%s' % (v[i] - o[i], d)) o [ i ] = v [ i ] arrs , arr_int = arrows [ i ] col = ' \\x04 ' if i == 0 else ' \\x03 ' s = arrs [ int ( d / arr_int )] r . append ( ' %s%s ' % ( col , s )) return '' . join ( r ) def battery (): B = '\uf244\uf243\uf242\uf241\uf240' P = '\uf1e6\ufba4' d = psutil . sensors_battery () d , pp = int ( d . percent ), d . power_plugged p = ' \\x02 ' + P [ 0 ] if pp else ' \\x04 ' + P [ 1 ] s = B [ int ( min ( d , 99 ) / ( 100 / len ( B )))] if d < 30 : s = ' \\x04 ' + s if d < 60 : s = ' \\x03 ' + s else : s = ' \\x02 ' + s if d > 90 and pp : return '' return s + ' ' + p + ' ' def xsetroot ( sl ): if os . system ( 'xsetroot -name \" %s \"' % sl ): print ( 'exitting status.py' ) sys . exit ( 1 ) def terminal ( sl ): # don't want to see the '\\x0...' in terminal: os . system ( 'echo -e \" %s \"' % sl ) def main (): out = terminal if '-s' in sys . argv else xsetroot while True : s . clear () for w in Sensors : k = getattr ( sensors , w )() s . append ( ' %s \\x01 ' % k ) # space to overwrite/delete remaining old process names: sl = ' \\x02 ' + '' . join ( s ) out ( sl ) time . sleep ( 1 ) if __name__ == '__main__' : main () top for non interactive system info?! Yes, in add_top_cpu_eater I do use top to get the most CPU eating procs. But: Since I want to show the top 2 core loading processes anwyay, when we are loaded - and finding those using psutils, iterating over all processes, would have been way more expensive than top. top is pretty efficient and the output format is constant. Many people seem to (mis)use it for gathering infos the cheap way, they even added the -b (batch) mode for this. The other sensors should be pretty easy to understand.","title":"The daemon: status.py"},{"location":"ll/sl/status_bar_fun/2021.05.23_dwm_status_1_a_fancy_status_bar/#patching-dwm","text":"Worth noting here that the dwm statuscolors and systray patch collide. Here is the resolution to have both working: void drawbar ( Monitor * m ) { int x , w , tw = 0 , stw = 0 ; int boxs = drw -> fonts -> h / 9 ; int boxw = drw -> fonts -> h / 6 + 2 ; unsigned int i , occ = 0 , urg = 0 ; char * ts = stext ; char * tp = stext ; int tx = 0 ; char ctmp ; Client * c ; if ( showsystray && m == systraytomon ( m )) stw = getsystraywidth (); /* draw status first so it can be overdrawn by tags later */ if ( m == selmon || 1 ) { /* status is only drawn on selected monitor - not anymore, have statusallmons in */ drw_setscheme ( drw , scheme [ SchemeNorm ]); tw = TEXTW ( stext ) - lrpad / 2 + 2 ; /* 2px right padding */ /*tw = TEXTW(stext); /*- lrpad / 2 + 2; * 2px right padding */ while ( 1 ) { if (( unsigned int ) * ts > LENGTH ( colors )) { ts ++ ; continue ; } ctmp = * ts ; //fprintf(stderr, \"drawbar %d %d.\\n\", ctmp, tx); * ts = '\\0' ; // drw_text(Drw *drw, int x, int y, unsigned int w, unsigned int h, unsigned int lpad, const char *text, int invert) // the 120 shifts it to the right, there would be a big gap otherwise, not sure why, potentially to do with statuscolors plus systray patch // and amount of output in status.py // drw_text ( drw , m -> ww - tw - stw + tx + 120 , 0 , tw - tx , bh , 0 , tp , 0 ); // <--- this is the right way /*drw_text(drw, m->ww - tw - stw + tx, 0, tw - tx, bh, 0, tp, 0);*/ tx += TEXTW ( tp ) - lrpad ; if ( ctmp == '\\0' ) { break ; } drw_setscheme ( drw , scheme [( unsigned int )( ctmp -1 )]); * ts = ctmp ; tp = ++ ts ; } } resizebarwin ( m ); (...) Note that I also have dwm-statusallmons-6.2 in (the ||1 , bypassing selmon ).","title":"Patching dwm"},{"location":"ll/sl/status_bar_fun/2021.05.23_dwm_status_1_a_fancy_status_bar/#final-result","text":"Here it is in action: With power cable removed: Here a live recording .","title":"Final Result"},{"location":"ll/sl/status_bar_fun/2021.05.23_dwm_status_1_a_fancy_status_bar/#the-problem","text":"I liked it a lot, looked nice and clean but fully under control - but it had a downside: Staring at top output I noticed a new candiate in the list, rarely seen ever before: dwm itself :-( PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 145769 gk 20 0 31376 16276 12856 S 11,6 0,1 2:16.16 dwm Not always but e.g. when tag switching, i.e. when redrawing the status bar. status.py itself was < 1%, always. Never saw that, dwm is usually never ever >1%. Bad. This defies the main reason of using superlightweight dwm in the first place. When early returning in drawbar, the cpu usage stays low. First I thought about a bug in my drawbar patch. But analyzing it I found no problem, e.g. an infinite loop - the function was only called once a second and the while loop cleanly exits at the end of the status text. I do think currently that it's a really the drw_setscheme, which is that expensive, and it is called at every different color used in the bar. There must be a better way... typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"The Problem"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_2_never_call_xsession_within_dwm/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } A Fun (De)Tour Into XFCE4 \u00a4 I tried to see if I can get xfce4-panel to work with DWM. There is a polybar patch for dwm but it's: A big diff and big patches are technical depth you pay when you add more patches to dwm, seen that with the systray patch colliding with slcolors before. Also I don't know polybar but have already all the xfce4 packages on the system - sometimes you still want graphical programs for stuff. Did not find much successfull attempts getting it to work so I tried myself. The naive attempt revealed this: ~/inst/dwm \u276f xfce4-panel xfce4-panel: Failed to connect to session manager: Failed to connect to the session manager: SESSION_MANAGER environment variable not defined So I did this ~/inst/dwm \u276f xfce4-session and did get crazy output, tons of funny windows opening, cpu 100% and the system completely screwed. No, no video of this, do NOT want to reproduce the mess I created ;-) Symptoms \u00a4 Restarting dwm, then even rebooting showed the login screen not going away, even after logged in Opening a terminal, then exitting it, would still show that terminal open :-) An xfconf process at 100% cpu... Total confusion. Reboot. Still the same. What that that session manager do to my dwm setup?! Finding the Root Cause \u00a4 After some digging I found that variety , the wallpaper setter ran amok. No wallpaper -> no going away of the sddm login window, or re-rendering of the background after exit of the terminal. Why did variety run amok? This showed what it does, when setting WPs. for i in $ ( xfconf - query - c xfce4 - desktop - p / backdrop - l | grep - E - e \"screen.*/monitor.*image-path$\" - e \"screen.*/monitor.*/last-image$\" ); do Here is xfconf. I ran the query myself. Output: Over 2000 different wallpaper settings for the /backdrop sub tree. Now I began to understand :-) dwm has not just 9 workspaces - it has 2**9 ! All it's possible tag combis are announced to EWMH as different workspaces. xfce4 allows to set different wallpapers per workspace So when I started the xfce4 session manager within dwm, it asked X11 regarding the number of workspaces - and created an entry for each of them - per monitor :-) Which, as a symptom, was completly screwing up variety's wallpaper setting loop sending it into a timeout after 5 seconds never actually setting the wallpaper leaving me the user thinking dwm completely is disfunctional :-) The Cure \u00a4 Using xfconf-query I recursively remove the whole /backdrop tree, then set it to a sane value using xfce4-settings-manager , within a xfce4 session. Done, all worked again, fine :-) Back to my CPU problem with the status bar... typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"XFCE"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_2_never_call_xsession_within_dwm/#a-fun-detour-into-xfce4","text":"I tried to see if I can get xfce4-panel to work with DWM. There is a polybar patch for dwm but it's: A big diff and big patches are technical depth you pay when you add more patches to dwm, seen that with the systray patch colliding with slcolors before. Also I don't know polybar but have already all the xfce4 packages on the system - sometimes you still want graphical programs for stuff. Did not find much successfull attempts getting it to work so I tried myself. The naive attempt revealed this: ~/inst/dwm \u276f xfce4-panel xfce4-panel: Failed to connect to session manager: Failed to connect to the session manager: SESSION_MANAGER environment variable not defined So I did this ~/inst/dwm \u276f xfce4-session and did get crazy output, tons of funny windows opening, cpu 100% and the system completely screwed. No, no video of this, do NOT want to reproduce the mess I created ;-)","title":"A Fun (De)Tour Into XFCE4"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_2_never_call_xsession_within_dwm/#symptoms","text":"Restarting dwm, then even rebooting showed the login screen not going away, even after logged in Opening a terminal, then exitting it, would still show that terminal open :-) An xfconf process at 100% cpu... Total confusion. Reboot. Still the same. What that that session manager do to my dwm setup?!","title":"Symptoms"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_2_never_call_xsession_within_dwm/#finding-the-root-cause","text":"After some digging I found that variety , the wallpaper setter ran amok. No wallpaper -> no going away of the sddm login window, or re-rendering of the background after exit of the terminal. Why did variety run amok? This showed what it does, when setting WPs. for i in $ ( xfconf - query - c xfce4 - desktop - p / backdrop - l | grep - E - e \"screen.*/monitor.*image-path$\" - e \"screen.*/monitor.*/last-image$\" ); do Here is xfconf. I ran the query myself. Output: Over 2000 different wallpaper settings for the /backdrop sub tree. Now I began to understand :-) dwm has not just 9 workspaces - it has 2**9 ! All it's possible tag combis are announced to EWMH as different workspaces. xfce4 allows to set different wallpapers per workspace So when I started the xfce4 session manager within dwm, it asked X11 regarding the number of workspaces - and created an entry for each of them - per monitor :-) Which, as a symptom, was completly screwing up variety's wallpaper setting loop sending it into a timeout after 5 seconds never actually setting the wallpaper leaving me the user thinking dwm completely is disfunctional :-)","title":"Finding the Root Cause"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_2_never_call_xsession_within_dwm/#the-cure","text":"Using xfconf-query I recursively remove the whole /backdrop tree, then set it to a sane value using xfce4-settings-manager , within a xfce4 session. Done, all worked again, fine :-) Back to my CPU problem with the status bar... typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"The Cure"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_3_xfce4_panel_in_dwm/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } The XFCE4 Panel in dwm \u00a4 Achievements \u00a4 We completely switched off dwm's systray patch and set the status bar to a constant empty string => cpu problem solved. Then we got XFCE4's panel to work, instead: State changeable and saved: Plugins work: Fading out when not hovered: A lot of plugins out of the box: Plus all 3rd party systray aware apps work. How did we do it \u00a4 Starting it \u00a4 We use the autostart patch - but xinit and the likes would also work. Here we configured in autostart.sh of dwm to run this: ~ \u276f cat bin/panel.sh #xfce4-session NEVER EVER DO THIS IN DWM! xfce4-panel --disable-wm-check The panel was then shown and we moved it to the right place with the mouse. Then we required a few hacks in dwm to get it working like a real statusbar. Rules in config.h \u00a4 Declaratively it is possible to have it shown on all tags like this: static const Rule rules [] = { /* class instance title tags mask , iscentered, isfloating, monitor */ { \"Xfce4-panel\" , NULL , NULL , ( 1 << 9 ) - 1 , 0 , 0 , -1 }, The (1 << 9) - 1 sets a 1 on all 9 tags. But what you get is not yet really behaving like a status bar - The window has the same thick border like all others - All tags hint an active application on them in the tag bar - The window, at every redraw, is being offset by dwm to reside below the status bar Some imperative changes \u00a4 Lets fix that in dwm.c , matching on the name of the panel: diff --git a/dwm.c b/dwm.c index 60dde29..6c67456 100644 --- a/dwm.c +++ b/dwm.c @@ -615,6 +615,10 @@ configure(Client *c) ce.above = None; ce.override_redirect = False; + /* if (!strcmp(c->name, \"xfce4-panel\")) { */ + // the panel's initial settings + /* c->y = ce.y = ce.border_width = c->bw = 0; */ + /* } */ XSendEvent(dpy, c->win, False, StructureNotifyMask, (XEvent *)&ce); } @@ -794,6 +798,7 @@ drawbar(Monitor *m) resizebarwin(m); for (c = m->clients; c; c = c->next) { + // prevent showing the panel as active application: + if (!strcmp(c->name, \"xfce4-panel\")) continue; occ |= c->tags; if (c->isurgent) urg |= c->tags; @@ -1171,6 +1176,9 @@ manage(Window w, XWindowAttributes *wa) c->x = (c->mon->mw - WIDTH(c)) / 2 + 500; c->y = (c->mon->mh - HEIGHT(c)) / 2; } + // no border - even when active + // do not match on y, does not have it yet possibly: + if (!strcmp(c->name, \"xfce4-panel\")) c->bw = c->oldbw = 0; + wc.border_width = c->bw; XConfigureWindow(dpy, w, CWBorderWidth, &wc); XSetWindowBorder(dpy, w, scheme[SchemeNorm][ColBorder].pixel); and lastly forcing to keep the position at 0 and never have a border: void resizeclient(Client *c, int x, int y, int w, int h) { XWindowChanges wc; c->oldx = c->x; c->x = wc.x = x; c->oldy = c->y; c->y = wc.y = y; c->oldw = c->w; c->w = wc.width = w; c->oldh = c->h; c->h = wc.height = h; wc.border_width = c->bw; if (((nexttiled(c->mon->clients) == c && !nexttiled(c->next)) || &monocle == c->mon->lt[c->mon->sellt]->arrange)) { c->w = wc.width += c->bw * 2; c->h = wc.height += c->bw * 2; wc.border_width = 0; } + if (!strcmp(c->name, \"xfce4-panel\")) { + c->y = c->oldy = c->bw = wc.y = wc.border_width = 0; + } XConfigureWindow(dpy, c->win, CWX|CWY|CWWidth|CWHeight|CWBorderWidth, &wc); configure(c); XSync(dpy, False); } Settings of the panel itself: \u00a4 Along the way: A Neat WM Test Setup, Using Xephyr \u00a4 Having to restart the WM after any change sucks. Especially when it crashes the usual restart loop turns ugly. So I looked a bit around and found this: There is an X application which behaves as a normal X client - but offers a full X Display environment inside(!): xnest. Check it out: https://wiki.archlinux.org/title/Xephyr So with ~ \u276f cat bin/xnest #!/usr/bin/env bash Xephyr -br -ac -noreset -screen 1100x1000 :1 & sleep 1 DISPLAY = :1 \" ${ 1 :- dwm } \" we get an instantly starting dwm build of our liking, started within a normal X11 window :-) When you hit ctrl-shift with it focussed it grabs all your mouse and keyboard events - even the parent's dwm hotkeys - which I find pretty remarkable. No need to redeclare all your hotkeys within your test builds, so that they do not collide with your 'real' window manager's ones. This is something which makes testing of WM builds fare more convenient than with e.g. docker or VNC window rooted builds. Only downside is that the inner WM is running in the same filesystem, if you not re-root it, i.e. when you set e.g. your wallpaper, it will behave exactly like the outside one - setting it. No isolation, clear. But ideal for our purpose. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"XFCE Panel in DWM"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_3_xfce4_panel_in_dwm/#the-xfce4-panel-in-dwm","text":"","title":"The XFCE4 Panel in dwm"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_3_xfce4_panel_in_dwm/#achievements","text":"We completely switched off dwm's systray patch and set the status bar to a constant empty string => cpu problem solved. Then we got XFCE4's panel to work, instead: State changeable and saved: Plugins work: Fading out when not hovered: A lot of plugins out of the box: Plus all 3rd party systray aware apps work.","title":"Achievements"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_3_xfce4_panel_in_dwm/#how-did-we-do-it","text":"","title":"How did we do it"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_3_xfce4_panel_in_dwm/#starting-it","text":"We use the autostart patch - but xinit and the likes would also work. Here we configured in autostart.sh of dwm to run this: ~ \u276f cat bin/panel.sh #xfce4-session NEVER EVER DO THIS IN DWM! xfce4-panel --disable-wm-check The panel was then shown and we moved it to the right place with the mouse. Then we required a few hacks in dwm to get it working like a real statusbar.","title":"Starting it"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_3_xfce4_panel_in_dwm/#rules-in-configh","text":"Declaratively it is possible to have it shown on all tags like this: static const Rule rules [] = { /* class instance title tags mask , iscentered, isfloating, monitor */ { \"Xfce4-panel\" , NULL , NULL , ( 1 << 9 ) - 1 , 0 , 0 , -1 }, The (1 << 9) - 1 sets a 1 on all 9 tags. But what you get is not yet really behaving like a status bar - The window has the same thick border like all others - All tags hint an active application on them in the tag bar - The window, at every redraw, is being offset by dwm to reside below the status bar","title":"Rules in config.h"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_3_xfce4_panel_in_dwm/#some-imperative-changes","text":"Lets fix that in dwm.c , matching on the name of the panel: diff --git a/dwm.c b/dwm.c index 60dde29..6c67456 100644 --- a/dwm.c +++ b/dwm.c @@ -615,6 +615,10 @@ configure(Client *c) ce.above = None; ce.override_redirect = False; + /* if (!strcmp(c->name, \"xfce4-panel\")) { */ + // the panel's initial settings + /* c->y = ce.y = ce.border_width = c->bw = 0; */ + /* } */ XSendEvent(dpy, c->win, False, StructureNotifyMask, (XEvent *)&ce); } @@ -794,6 +798,7 @@ drawbar(Monitor *m) resizebarwin(m); for (c = m->clients; c; c = c->next) { + // prevent showing the panel as active application: + if (!strcmp(c->name, \"xfce4-panel\")) continue; occ |= c->tags; if (c->isurgent) urg |= c->tags; @@ -1171,6 +1176,9 @@ manage(Window w, XWindowAttributes *wa) c->x = (c->mon->mw - WIDTH(c)) / 2 + 500; c->y = (c->mon->mh - HEIGHT(c)) / 2; } + // no border - even when active + // do not match on y, does not have it yet possibly: + if (!strcmp(c->name, \"xfce4-panel\")) c->bw = c->oldbw = 0; + wc.border_width = c->bw; XConfigureWindow(dpy, w, CWBorderWidth, &wc); XSetWindowBorder(dpy, w, scheme[SchemeNorm][ColBorder].pixel); and lastly forcing to keep the position at 0 and never have a border: void resizeclient(Client *c, int x, int y, int w, int h) { XWindowChanges wc; c->oldx = c->x; c->x = wc.x = x; c->oldy = c->y; c->y = wc.y = y; c->oldw = c->w; c->w = wc.width = w; c->oldh = c->h; c->h = wc.height = h; wc.border_width = c->bw; if (((nexttiled(c->mon->clients) == c && !nexttiled(c->next)) || &monocle == c->mon->lt[c->mon->sellt]->arrange)) { c->w = wc.width += c->bw * 2; c->h = wc.height += c->bw * 2; wc.border_width = 0; } + if (!strcmp(c->name, \"xfce4-panel\")) { + c->y = c->oldy = c->bw = wc.y = wc.border_width = 0; + } XConfigureWindow(dpy, c->win, CWX|CWY|CWWidth|CWHeight|CWBorderWidth, &wc); configure(c); XSync(dpy, False); }","title":"Some imperative changes"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_3_xfce4_panel_in_dwm/#settings-of-the-panel-itself","text":"","title":"Settings of the panel itself:"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_3_xfce4_panel_in_dwm/#along-the-way-a-neat-wm-test-setup-using-xephyr","text":"Having to restart the WM after any change sucks. Especially when it crashes the usual restart loop turns ugly. So I looked a bit around and found this: There is an X application which behaves as a normal X client - but offers a full X Display environment inside(!): xnest. Check it out: https://wiki.archlinux.org/title/Xephyr So with ~ \u276f cat bin/xnest #!/usr/bin/env bash Xephyr -br -ac -noreset -screen 1100x1000 :1 & sleep 1 DISPLAY = :1 \" ${ 1 :- dwm } \" we get an instantly starting dwm build of our liking, started within a normal X11 window :-) When you hit ctrl-shift with it focussed it grabs all your mouse and keyboard events - even the parent's dwm hotkeys - which I find pretty remarkable. No need to redeclare all your hotkeys within your test builds, so that they do not collide with your 'real' window manager's ones. This is something which makes testing of WM builds fare more convenient than with e.g. docker or VNC window rooted builds. Only downside is that the inner WM is running in the same filesystem, if you not re-root it, i.e. when you set e.g. your wallpaper, it will behave exactly like the outside one - setting it. No isolation, clear. But ideal for our purpose. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Along the way: A Neat WM Test Setup, Using Xephyr"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_4_adding_our_monitor/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Adding our CPU Monitor \u00a4 Having the XFCE4 panel working in dwm we remembered that we actually wanted a better CPU monitor - showing the 100% CPU eating processe(s), when there are some. The normal CPU monitor did not offer this - so we had to make a custom systray icon. Not. Since there should always be systray tools which forward stdout into the tray, no need to mess with pystray or the likes. XFCE4's version of such a generic panel item is this: Here are some nice use cases implemented using genmon. Our challenge: No one shot command. The CPU monitor should have some state, for the time delta to measure load but also to show last CPU eater, when there currently is none. That's why genmon does not offer CPU monitoring, I assume. Our Solution: As you can see, we just read a file, into which a long running process with state writes updates periodically. In Action \u00a4 Shows top cpu eater(s) - top output custom (I care about parent pids), w/o overriding global toprc: No load - shows last cpu eater: The Code \u00a4 Preparations \u00a4 We put cpu_mon.py (see below) into dwm's autostart dir (and configure it to be started at dwm startup), together with a custom toprc, which is used by top by starting like so: HOME=~/.dwm top . We have to do this since by far not all config options of top are available on the command line - but writable into a (binary) config file - toprc . The tool produces each second a pango formatted status of the current CPU situation, which is read by the panel icon. The pango format comes handy to have the output of top nicely aligned, since a monospace font is chooseable. Source code of /.dwm/cpu_mon.py \u00a4 Here the code for the tool ~/. dwm \u276f cat cpu_mon . py #!/usr/bin/python # coding: utf-8 \"\"\" Custom CPU monitor, mainly for panels. Challenage: We want a bit of history and cpu monitoring anyway needs some delta t. So we run this as daemon. It keeps writing cpu infos to file -> for autostart.sh Hightlights: - cpu per core - top cpu eating process, customized with own config - arbitray long symbol lists, will pick per percent Lowlights: Linux Only. Not hard to rewrite but now it's just Linux Usage: use `cat $HOME/.dwm/out.cpu_mon` for the single shot tray icon command \"\"\" import os , sys , psutil , time , subprocess as sp import time here = os . path . abspath (( os . path . dirname ( __file__ ))) # ------------------------------------------------------------------------------ config col_norm = '#a093c7' col_high = '#bf568b' # we run top whenever a core if over this: th_cpu_min_to_snapshot_top = 20 # we show proc names whenever its utilizaition is over this: th_cpu_min_to_show_procs = 80 # 0: show always (>0: no space taken for core) th_min_cpu_show_core = 0 show_max_procs = 3 th_color_high_cpu = 80 top_output_max_lines = 20 top_rc_dir = here + '/.config/procps' top = 'HOME=\" %s \" top -b -1 -n 1 -w 56 | head -n %s ' % ( here , top_output_max_lines ) Sensors = [ 'cpu' ] # Sensors = ['time'] bars = ' \u2581\u2582\u2583\u2584\u2585\u2586\u2587' # -------------------------------------------------------------------------- end config # configure the panel item to cat this file: fn_fifo = here + '/out.cpu_mon' # maybe we want arrows stuff some day: Traffic100 = 1024 # bytes # arr_downs = ' \ud83e\udc93\u2193\u2b07\ufc2c\ud83e\udc47' arr_downs = ' \u2193\u2b07\ufc2c\ud83e\udc47' arr_ups = ' \u2191\u2b06\uf478\ud83e\udc45' s = [] CPUs = psutil . cpu_count () # normal way to read load: read /proc/stat ctx = { 'proc_stat' : [ 0 for i in range ( CPUs )], 'traffic' : [ 0 , 0 ], 'fifo' : None } bar_intv = 100.0 / len ( bars ) arr_downs_intv = 100.0 / len ( arr_downs ) arr_ups_intv = 100.0 / len ( arr_ups ) arrows = [[ arr_downs , arr_downs_intv ], [ arr_ups , arr_ups_intv ]] # delivers the *cummulated* load values - per cpu. # A difference of 100 within 1 sec means: fully loaded proc_stat = '/proc/stat' run_top = lambda : os . popen ( top ) . read () def cmd_colmn (): # cache the position of the COMMAND column, we need it all the time n = 'cpu_top_cmd_col' c = ctx . get ( n ) if not c : t = ctx [ 'cpu_top' ] c = ctx [ n ] = len ( t . split ( ' COMMAND' , 1 )[ 0 ] . rsplit ( ' \\n ' , 1 )[ 1 ]) return c def add_top_cpu_eaters ( r , count , cpu ): \"\"\"Get the <count> top most cpu eating procs names as shown by top\"\"\" # TODO: import re would not hurt t = ctx [ 'cpu_top' ] p = t . split ( 'COMMAND' , 1 )[ 1 ] . split ( ' \\n ' , 1 + count ) colmn = cmd_colmn () for i in range ( count , 0 , - 1 ): if cpu [ i - 1 ] < th_cpu_min_to_show_procs : continue # P = p)[nr].split()[11:]) r . insert ( 0 , ' %s ' % p [ i ][ colmn :] . replace ( ' ' , '' )[: 10 ]) class sensors : def cpu (): r = [] l = ctx . pop ( 'cpu_top' , 0 ) if l : ctx [ 'cpu_top_old' ] = l ctx [ 'cpu_top_old_ts' ] = time . time () with open ( proc_stat ) as fd : t = fd . read () o = ctx [ 'proc_stat' ] h = [] for i in range ( CPUs ): v , t = t . split ( 'cpu %s ' % i , 1 )[ 1 ] . split ( ' \\n ' , 1 ) v = int ( v . split ( ' ' , 1 )[ 0 ]) d = min ( v - o [ i ], 99.9 ) o [ i ] = v # print(i, d, file=sys.stderr) h . append ( d ) h = list ( reversed ( sorted ( h ))) # show top process: if h [ 0 ] > th_cpu_min_to_snapshot_top : # 20 ctx [ 'cpu_top' ] = run_top () # for hover tip - only when there is activity if h [ 0 ] > th_cpu_min_to_show_procs : add_top_cpu_eaters ( r , show_max_procs , h ) # for status bar ctx [ 'col_cpu' ] = col_high if h [ 0 ] > th_color_high_cpu else col_norm v = lambda d : '' if d < th_min_cpu_show_core else bars [ int ( d / bar_intv )] [ r . append ( v ( d )) for d in h ] return '' . join ( r ) # def time(): # t = time.ctime().split() # t.pop(1) # month # t.pop() # return ' '.join(t) # def mem(): # return '%s\uf85a' % psutil.virtual_memory().percent # def traffic(): # r = [] # o = ctx['traffic'] # h = psutil.net_io_counters(pernic=False) # v = [h.bytes_sent, h.bytes_recv] # print('') # for i in range(2): # d = 100 * (min((v[i] - o[i]), Traffic100 - 1) / Traffic100) # # print('%s\\t%s' % (v[i] - o[i], d)) # o[i] = v[i] # arrs, arr_int = arrows[i] # col = '\\x04' if i == 0 else '\\x03' # s = arrs[int(d / arr_int)] # r.append('%s%s' % (col, s)) # return ''.join(r) # def battery(): # B = '\uf244\uf243\uf242\uf241\uf240' # P = '\uf1e6\ufba4' # d = psutil.sensors_battery() # d, pp = int(d.percent), d.power_plugged # p = '\\x02' + P[0] if pp else '\\x04' + P[1] # s = B[int(min(d, 99) / (100 / len(B)))] # if d < 30: # s = '\\x04' + s # if d < 60: # s = '\\x03' + s # else: # s = '\\x02' + s # if d > 90 and pp: # return '' # return s + ' ' + p + ' ' # for dwm's status bar (old version, caused high cpu): # def xsetroot(sl): # if os.system('xsetroot -name \"%s\"' % sl): # print('exitting status.py') # sys.exit(1) def to_stdout ( sl ): sl = '<txt><span fgcolor=\" %s \"> %s </span></txt>' % ( ctx [ 'col_cpu' ], sl ) t = ctx . get ( 'cpu_top' ) if not t : t = ctx . get ( 'cpu_top_old' ) if t : t = ' %s Seconds Ago: \\n ' % ( int ( time . time () - ctx [ 'cpu_top_old_ts' ])) + t if t : sl += '<tool><span font_family=\"monospace\"> %s </span></tool>' % t print ( sl ) fd = ctx [ 'fd_out' ] fd . seek ( 0 ) fd . write ( sl ) fd . flush () def main (): ctx [ 'fd_out' ] = open ( fn_fifo , 'w' ) out = to_stdout while True : s . clear () for w in Sensors : k = getattr ( sensors , w )() s . append ( ' %s ' % k ) sl = '' . join ( s ) r = os . popen ( 'ls -lta --color=always' ) . read () out ( sl ) time . sleep ( 1 ) # other values: load calc must be adapted. # Created by: `HOME=~/.dwm top` -> F (select fields) -> W (write toprc) # then: # cat .dwm/.config/procps/toprc | base64 >> $HOME/bin/cpu_mon.py (is binary) top_cfg = ''' dG9wJ3MgQ29uZmlnIEZpbGUgKExpbnV4IHByb2Nlc3NlcyB3aXRoIHdpbmRvd3MpCklkOmosIE1v ZGVfYWx0c2NyPTAsIE1vZGVfaXJpeHBzPTEsIERlbGF5X3RpbWU9My4wLCBDdXJ3aW49MApEZWYJ ZmllbGRzY3VyPaWmqDO0Oz1AxLe6OcUnKSorLC0uLzAxMjU2ODw+P0FCQ0ZHSElKS0xNTk9QUVJT VFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Cgl3aW5mbGFncz0xNjEwNzYs IHNvcnRpbmR4PTE4LCBtYXh0YXNrcz0wLCBncmFwaF9jcHVzPTAsIGdyYXBoX21lbXM9MCwgZG91 YmxlX3VwPTAsIGNvbWJpbmVfY3B1cz0wCglzdW1tY2xyPTEsIG1zZ3NjbHI9MSwgaGVhZGNscj0z LCB0YXNrY2xyPTEKSm9iCWZpZWxkc2N1cj2lprm3uiiztMS7vUA8p8UpKissLS4vMDEyNTY4Pj9B QkNGR0hJSktMTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5egoJ d2luZmxhZ3M9MTkzODQ0LCBzb3J0aW5keD0wLCBtYXh0YXNrcz0wLCBncmFwaF9jcHVzPTAsIGdy YXBoX21lbXM9MCwgZG91YmxlX3VwPTAsIGNvbWJpbmVfY3B1cz0wCglzdW1tY2xyPTYsIG1zZ3Nj bHI9NiwgaGVhZGNscj03LCB0YXNrY2xyPTYKTWVtCWZpZWxkc2N1cj2lurs8vb6/wMFNQk7DRDM0 t8UmJygpKissLS4vMDEyNTY4OUZHSElKS0xPUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xt bm9wcXJzdHV2d3h5egoJd2luZmxhZ3M9MTkzODQ0LCBzb3J0aW5keD0yMSwgbWF4dGFza3M9MCwg Z3JhcGhfY3B1cz0wLCBncmFwaF9tZW1zPTAsIGRvdWJsZV91cD0wLCBjb21iaW5lX2NwdXM9MAoJ c3VtbWNscj01LCBtc2dzY2xyPTUsIGhlYWRjbHI9NCwgdGFza2Nscj01ClVzcglmaWVsZHNjdXI9 paanqKqwube6xMUpKywtLi8xMjM0NTY4Ozw9Pj9AQUJDRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xd Xl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoKCXdpbmZsYWdzPTE5Mzg0NCwgc29ydGluZHg9 MywgbWF4dGFza3M9MCwgZ3JhcGhfY3B1cz0wLCBncmFwaF9tZW1zPTAsIGRvdWJsZV91cD0wLCBj b21iaW5lX2NwdXM9MAoJc3VtbWNscj0zLCBtc2dzY2xyPTMsIGhlYWRjbHI9MiwgdGFza2Nscj0z CkZpeGVkX3dpZGVzdD0wLCBTdW1tX21zY2FsZT0xLCBUYXNrX21zY2FsZT0wLCBaZXJvX3N1cHBy ZXNzPTAK ''' . strip () import base64 def write_top_cfg (): os . makedirs ( top_rc_dir , exist_ok = True ) with open ( top_rc_dir + '/toprc' , 'wb' ) as fd : fd . write ( base64 . standard_b64decode ( top_cfg )) if __name__ == '__main__' : write_top_cfg () try : main () finally : ctx [ 'fd_out' ] . close () We basically re-used the monitor written before, for dwm's internal status bar. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"CPU Monitor"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_4_adding_our_monitor/#adding-our-cpu-monitor","text":"Having the XFCE4 panel working in dwm we remembered that we actually wanted a better CPU monitor - showing the 100% CPU eating processe(s), when there are some. The normal CPU monitor did not offer this - so we had to make a custom systray icon. Not. Since there should always be systray tools which forward stdout into the tray, no need to mess with pystray or the likes. XFCE4's version of such a generic panel item is this: Here are some nice use cases implemented using genmon. Our challenge: No one shot command. The CPU monitor should have some state, for the time delta to measure load but also to show last CPU eater, when there currently is none. That's why genmon does not offer CPU monitoring, I assume. Our Solution: As you can see, we just read a file, into which a long running process with state writes updates periodically.","title":"Adding our CPU Monitor"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_4_adding_our_monitor/#in-action","text":"Shows top cpu eater(s) - top output custom (I care about parent pids), w/o overriding global toprc: No load - shows last cpu eater:","title":"In Action"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_4_adding_our_monitor/#the-code","text":"","title":"The Code"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_4_adding_our_monitor/#preparations","text":"We put cpu_mon.py (see below) into dwm's autostart dir (and configure it to be started at dwm startup), together with a custom toprc, which is used by top by starting like so: HOME=~/.dwm top . We have to do this since by far not all config options of top are available on the command line - but writable into a (binary) config file - toprc . The tool produces each second a pango formatted status of the current CPU situation, which is read by the panel icon. The pango format comes handy to have the output of top nicely aligned, since a monospace font is chooseable.","title":"Preparations"},{"location":"ll/sl/status_bar_fun/2021.05.24_dwm_status_4_adding_our_monitor/#source-code-of-dwmcpu_monpy","text":"Here the code for the tool ~/. dwm \u276f cat cpu_mon . py #!/usr/bin/python # coding: utf-8 \"\"\" Custom CPU monitor, mainly for panels. Challenage: We want a bit of history and cpu monitoring anyway needs some delta t. So we run this as daemon. It keeps writing cpu infos to file -> for autostart.sh Hightlights: - cpu per core - top cpu eating process, customized with own config - arbitray long symbol lists, will pick per percent Lowlights: Linux Only. Not hard to rewrite but now it's just Linux Usage: use `cat $HOME/.dwm/out.cpu_mon` for the single shot tray icon command \"\"\" import os , sys , psutil , time , subprocess as sp import time here = os . path . abspath (( os . path . dirname ( __file__ ))) # ------------------------------------------------------------------------------ config col_norm = '#a093c7' col_high = '#bf568b' # we run top whenever a core if over this: th_cpu_min_to_snapshot_top = 20 # we show proc names whenever its utilizaition is over this: th_cpu_min_to_show_procs = 80 # 0: show always (>0: no space taken for core) th_min_cpu_show_core = 0 show_max_procs = 3 th_color_high_cpu = 80 top_output_max_lines = 20 top_rc_dir = here + '/.config/procps' top = 'HOME=\" %s \" top -b -1 -n 1 -w 56 | head -n %s ' % ( here , top_output_max_lines ) Sensors = [ 'cpu' ] # Sensors = ['time'] bars = ' \u2581\u2582\u2583\u2584\u2585\u2586\u2587' # -------------------------------------------------------------------------- end config # configure the panel item to cat this file: fn_fifo = here + '/out.cpu_mon' # maybe we want arrows stuff some day: Traffic100 = 1024 # bytes # arr_downs = ' \ud83e\udc93\u2193\u2b07\ufc2c\ud83e\udc47' arr_downs = ' \u2193\u2b07\ufc2c\ud83e\udc47' arr_ups = ' \u2191\u2b06\uf478\ud83e\udc45' s = [] CPUs = psutil . cpu_count () # normal way to read load: read /proc/stat ctx = { 'proc_stat' : [ 0 for i in range ( CPUs )], 'traffic' : [ 0 , 0 ], 'fifo' : None } bar_intv = 100.0 / len ( bars ) arr_downs_intv = 100.0 / len ( arr_downs ) arr_ups_intv = 100.0 / len ( arr_ups ) arrows = [[ arr_downs , arr_downs_intv ], [ arr_ups , arr_ups_intv ]] # delivers the *cummulated* load values - per cpu. # A difference of 100 within 1 sec means: fully loaded proc_stat = '/proc/stat' run_top = lambda : os . popen ( top ) . read () def cmd_colmn (): # cache the position of the COMMAND column, we need it all the time n = 'cpu_top_cmd_col' c = ctx . get ( n ) if not c : t = ctx [ 'cpu_top' ] c = ctx [ n ] = len ( t . split ( ' COMMAND' , 1 )[ 0 ] . rsplit ( ' \\n ' , 1 )[ 1 ]) return c def add_top_cpu_eaters ( r , count , cpu ): \"\"\"Get the <count> top most cpu eating procs names as shown by top\"\"\" # TODO: import re would not hurt t = ctx [ 'cpu_top' ] p = t . split ( 'COMMAND' , 1 )[ 1 ] . split ( ' \\n ' , 1 + count ) colmn = cmd_colmn () for i in range ( count , 0 , - 1 ): if cpu [ i - 1 ] < th_cpu_min_to_show_procs : continue # P = p)[nr].split()[11:]) r . insert ( 0 , ' %s ' % p [ i ][ colmn :] . replace ( ' ' , '' )[: 10 ]) class sensors : def cpu (): r = [] l = ctx . pop ( 'cpu_top' , 0 ) if l : ctx [ 'cpu_top_old' ] = l ctx [ 'cpu_top_old_ts' ] = time . time () with open ( proc_stat ) as fd : t = fd . read () o = ctx [ 'proc_stat' ] h = [] for i in range ( CPUs ): v , t = t . split ( 'cpu %s ' % i , 1 )[ 1 ] . split ( ' \\n ' , 1 ) v = int ( v . split ( ' ' , 1 )[ 0 ]) d = min ( v - o [ i ], 99.9 ) o [ i ] = v # print(i, d, file=sys.stderr) h . append ( d ) h = list ( reversed ( sorted ( h ))) # show top process: if h [ 0 ] > th_cpu_min_to_snapshot_top : # 20 ctx [ 'cpu_top' ] = run_top () # for hover tip - only when there is activity if h [ 0 ] > th_cpu_min_to_show_procs : add_top_cpu_eaters ( r , show_max_procs , h ) # for status bar ctx [ 'col_cpu' ] = col_high if h [ 0 ] > th_color_high_cpu else col_norm v = lambda d : '' if d < th_min_cpu_show_core else bars [ int ( d / bar_intv )] [ r . append ( v ( d )) for d in h ] return '' . join ( r ) # def time(): # t = time.ctime().split() # t.pop(1) # month # t.pop() # return ' '.join(t) # def mem(): # return '%s\uf85a' % psutil.virtual_memory().percent # def traffic(): # r = [] # o = ctx['traffic'] # h = psutil.net_io_counters(pernic=False) # v = [h.bytes_sent, h.bytes_recv] # print('') # for i in range(2): # d = 100 * (min((v[i] - o[i]), Traffic100 - 1) / Traffic100) # # print('%s\\t%s' % (v[i] - o[i], d)) # o[i] = v[i] # arrs, arr_int = arrows[i] # col = '\\x04' if i == 0 else '\\x03' # s = arrs[int(d / arr_int)] # r.append('%s%s' % (col, s)) # return ''.join(r) # def battery(): # B = '\uf244\uf243\uf242\uf241\uf240' # P = '\uf1e6\ufba4' # d = psutil.sensors_battery() # d, pp = int(d.percent), d.power_plugged # p = '\\x02' + P[0] if pp else '\\x04' + P[1] # s = B[int(min(d, 99) / (100 / len(B)))] # if d < 30: # s = '\\x04' + s # if d < 60: # s = '\\x03' + s # else: # s = '\\x02' + s # if d > 90 and pp: # return '' # return s + ' ' + p + ' ' # for dwm's status bar (old version, caused high cpu): # def xsetroot(sl): # if os.system('xsetroot -name \"%s\"' % sl): # print('exitting status.py') # sys.exit(1) def to_stdout ( sl ): sl = '<txt><span fgcolor=\" %s \"> %s </span></txt>' % ( ctx [ 'col_cpu' ], sl ) t = ctx . get ( 'cpu_top' ) if not t : t = ctx . get ( 'cpu_top_old' ) if t : t = ' %s Seconds Ago: \\n ' % ( int ( time . time () - ctx [ 'cpu_top_old_ts' ])) + t if t : sl += '<tool><span font_family=\"monospace\"> %s </span></tool>' % t print ( sl ) fd = ctx [ 'fd_out' ] fd . seek ( 0 ) fd . write ( sl ) fd . flush () def main (): ctx [ 'fd_out' ] = open ( fn_fifo , 'w' ) out = to_stdout while True : s . clear () for w in Sensors : k = getattr ( sensors , w )() s . append ( ' %s ' % k ) sl = '' . join ( s ) r = os . popen ( 'ls -lta --color=always' ) . read () out ( sl ) time . sleep ( 1 ) # other values: load calc must be adapted. # Created by: `HOME=~/.dwm top` -> F (select fields) -> W (write toprc) # then: # cat .dwm/.config/procps/toprc | base64 >> $HOME/bin/cpu_mon.py (is binary) top_cfg = ''' dG9wJ3MgQ29uZmlnIEZpbGUgKExpbnV4IHByb2Nlc3NlcyB3aXRoIHdpbmRvd3MpCklkOmosIE1v ZGVfYWx0c2NyPTAsIE1vZGVfaXJpeHBzPTEsIERlbGF5X3RpbWU9My4wLCBDdXJ3aW49MApEZWYJ ZmllbGRzY3VyPaWmqDO0Oz1AxLe6OcUnKSorLC0uLzAxMjU2ODw+P0FCQ0ZHSElKS0xNTk9QUVJT VFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Cgl3aW5mbGFncz0xNjEwNzYs IHNvcnRpbmR4PTE4LCBtYXh0YXNrcz0wLCBncmFwaF9jcHVzPTAsIGdyYXBoX21lbXM9MCwgZG91 YmxlX3VwPTAsIGNvbWJpbmVfY3B1cz0wCglzdW1tY2xyPTEsIG1zZ3NjbHI9MSwgaGVhZGNscj0z LCB0YXNrY2xyPTEKSm9iCWZpZWxkc2N1cj2lprm3uiiztMS7vUA8p8UpKissLS4vMDEyNTY4Pj9B QkNGR0hJSktMTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5egoJ d2luZmxhZ3M9MTkzODQ0LCBzb3J0aW5keD0wLCBtYXh0YXNrcz0wLCBncmFwaF9jcHVzPTAsIGdy YXBoX21lbXM9MCwgZG91YmxlX3VwPTAsIGNvbWJpbmVfY3B1cz0wCglzdW1tY2xyPTYsIG1zZ3Nj bHI9NiwgaGVhZGNscj03LCB0YXNrY2xyPTYKTWVtCWZpZWxkc2N1cj2lurs8vb6/wMFNQk7DRDM0 t8UmJygpKissLS4vMDEyNTY4OUZHSElKS0xPUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xt bm9wcXJzdHV2d3h5egoJd2luZmxhZ3M9MTkzODQ0LCBzb3J0aW5keD0yMSwgbWF4dGFza3M9MCwg Z3JhcGhfY3B1cz0wLCBncmFwaF9tZW1zPTAsIGRvdWJsZV91cD0wLCBjb21iaW5lX2NwdXM9MAoJ c3VtbWNscj01LCBtc2dzY2xyPTUsIGhlYWRjbHI9NCwgdGFza2Nscj01ClVzcglmaWVsZHNjdXI9 paanqKqwube6xMUpKywtLi8xMjM0NTY4Ozw9Pj9AQUJDRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xd Xl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoKCXdpbmZsYWdzPTE5Mzg0NCwgc29ydGluZHg9 MywgbWF4dGFza3M9MCwgZ3JhcGhfY3B1cz0wLCBncmFwaF9tZW1zPTAsIGRvdWJsZV91cD0wLCBj b21iaW5lX2NwdXM9MAoJc3VtbWNscj0zLCBtc2dzY2xyPTMsIGhlYWRjbHI9MiwgdGFza2Nscj0z CkZpeGVkX3dpZGVzdD0wLCBTdW1tX21zY2FsZT0xLCBUYXNrX21zY2FsZT0wLCBaZXJvX3N1cHBy ZXNzPTAK ''' . strip () import base64 def write_top_cfg (): os . makedirs ( top_rc_dir , exist_ok = True ) with open ( top_rc_dir + '/toprc' , 'wb' ) as fd : fd . write ( base64 . standard_b64decode ( top_cfg )) if __name__ == '__main__' : write_top_cfg () try : main () finally : ctx [ 'fd_out' ] . close () We basically re-used the monitor written before, for dwm's internal status bar. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Source code of /.dwm/cpu_mon.py"},{"location":"ll/vim/astro_vim/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Astro Vim \u00a4 [2022-03-20 18:58] This weekend I tested Astro Vim , which is a pretty well tuned (and good looking) LSP configuration bundle for nvim. I like the idea of having LSP treesitter telescope floatterm (...) ...out of the box - and out of the way from my local conf - also to throw it also on servers with colleagues and point them to an \"official\" repo with docs. Those are not easy to get right with so many variants. the full lua approach (but I'll have to have vim lang stuff, see below) Also, while mine became a bit laggy on big files, this one is still pretty fast, with all the LSP goodies. Here my notes about the conversion: Cleaning Up \u00a4 Backup and Remove: $HOME/.config/nvim $HOME/.cache/nvim $HOME/.local/share/nvim Install \u00a4 git clone https://github.com/kabinspace/AstroVim ~/.config/nvim nvim +PackerSync # nice then e.g. :LspInstall pyright :TSInstall python # treesitter Note All user config is in .config/nvim/lua/user , from init.lua there. Conventional Folders: ftplugin and spell: Symlinked \u00a4 Put my old ones into lua/user/<ftplugin|spell> and symlinked 2 directories up. Worked. Own Lua and Own Vimscript \u00a4 Besides a few declarative config possibilities, for own plugins, in init.lua there is a lua polish function, loaded at the end. There you hook in your stuff like this: require ( 'user.mymodule' ) -- and vimscript like this: vim . cmd ( 'source $HOME/.config/nvim/lua/user/polish.vim' ) and in vimscript then back to lua in user folder like this: nmap ,g viW\"ay:lua require('user.utils').smart_open([[<C-R>a]])<CR> Colors \u00a4 The declarative approach with colorscheme via lua failed, loading it in my .vim file at the end. Spell \u00a4 It did not ask me to download german at set spelllang=de , so: mkdir .config/nvim/spell && cd $_ ` && wget 'http://ftp.vim.org/pub/vim/runtime/spell/de.utf-8.spl' Telescope \u00a4 AstroVim Config: https://github.com/kabinspace/AstroVim/issues/141 Generic Telescope Tuning: https://github-wiki-see.page/m/nvim-telescope/telescope.nvim/wiki/Configuration-Recipes LSP \u00a4 Pretty straight forward, via their null_ls LSP \"hub\", where nvim is the direct server for all languages and calls the actual programs behind the scenes. That way one can pick from a huge list of features and just install the binaries if required ( command ), done. LSP log as always in $HOME/.cache/nvim/ , file null_ls.log . axblack \u00a4 null_ls calls black with their --stdin-filename parameter. Had to add that to axblack so that single quote formatting works, as a no op (not in use anyway for stdin/stdout based formatting). Edit: Found only later, that one can specify CLI args.... Special Plugins \u00a4 Completion \u00a4 I use \"uga-rosa/cmp-dictionary\", with 10k words. Caution For async the loading order is important (after cmp) - then the mpack import works. Edit: Nope. After a packer sync it failed again, same error (mpack.so missing - loads too eaerly again) Debugging \u00a4 lsp: ~ \u276f tail -f .cache/nvim/null-ls.log (set lsp.debug = true ) tables: lua U.dump(vim.lsp) Gotchas \u00a4 When trying cmp or lsp, always try on files which exist at vi start. Do NOT create new files, it will not work. The async flag at cmp_dictionary was behaving totally different after PackerSync calls, failed with mpack not found, allthough working before... Had to switch it off. Config Dumps \u00a4 My init.lua $ cat / home / gk / . config / nvim . personal / init . lua -- https://github.com/hrsh7th/nvim-cmp/wiki/Example-mappings#super-tab-like-mapping -- local cmp_setup = function () local _ , cmp = pcall ( require , \"cmp\" ) local _ , luasnip = pcall ( require , \"luasnip\" ) local has_words_before = function () local line , col = unpack ( vim . api . nvim_win_get_cursor ( 0 )) local lines = vim . api . nvim_buf_get_lines return col ~= 0 and lines ( 0 , line - 1 , line , true )[ 1 ]: sub ( col , col ): match ( \"%s\" ) == nil end return { mapping = { [ \"<Tab>\" ] = cmp . mapping ( function ( fallback ) if cmp . visible () then cmp . select_next_item () elseif luasnip . expand_or_jumpable () then luasnip . expand_or_jump () elseif has_words_before () then cmp . complete () else fallback () end end , { \"i\" , \"s\" }), [ \"<S-Tab>\" ] = cmp . mapping ( function ( fallback ) if cmp . visible () then cmp . select_prev_item () elseif luasnip . jumpable ( - 1 ) then luasnip . jump ( - 1 ) else fallback () end end , { \"i\" , \"s\" }), }, } end local config = { -- Set colorscheme -- colorscheme = \"default_theme\", colorscheme = \"kanagawa\" , -- Default theme configuration default_theme = { diagnostics_style = \"none\" , -- Modify the color table colors = { fg = \"#abb2bf\" }, -- Modify the highlight groups highlights = function ( highlights ) local C = require ( \"default_theme.colors\" ) highlights . Normal = { fg = C . fg , bg = C . bg } return highlights end , }, -- Disable default plugins enabled = { bufferline = true , nvim_tree = true , lualine = true , lspsaga = true , gitsigns = true , colorizer = true , toggle_term = true , comment = true , symbols_outline = true , indent_blankline = true , dashboard = true , which_key = true , neoscroll = true , ts_rainbow = true , ts_autotag = true , }, plugins = { cmp = cmp_setup (), init = { \"ThePrimeagen/refactoring.nvim\" , \"arcticicestudio/nord-vim\" , \"godlygeek/tabular\" , \"iamcco/markdown-preview.nvim\" , \"kdheepak/lazygit.nvim\" , \"matsuuu/pinkmare\" , \"rebelot/kanagawa.nvim\" , \"tpope/vim-repeat\" , \"tpope/vim-surround\" , \"voldikss/vim-floaterm\" , \"rafamadriz/friendly-snippets\" , { \"uga-rosa/cmp-dictionary\" , after = \"nvim-cmp\" , config = function () local cmp = require ( \"cmp\" ) local config = cmp . get_config () table.insert ( config . sources , { name = \"dictionary\" , keyword_length = 2 }) cmp . setup ( config ) end , require ( \"cmp_dictionary\" ). setup ({ dic = { [ \"markdown\" ] = { \"/home/gk/.config/nvim.personal/10k.txt\" }, --[\"markdown\"] = { \"/usr/share/dict/words\" }, -- [\"lua\"] = \"path/to/lua.dic\", -- [\"javascript,typescript\"] = { \"path/to/js.dic\", \"path/to/js2.dic\" }, -- filename = { -- [\"xmake.lua\"] = { \"path/to/xmake.dic\", \"path/to/lua.dic\" }, -- }, -- filepath = { -- [\"%.tmux.*%.conf\"] = \"path/to/tmux.dic\", -- }, }, -- The following are default values, so you don't need to write them if you don't want to change them -- exact = 2, -- first_case_insensitive = false, -- document = false, -- document_command = \"wn %s -over\", async = false , -- capacity = 5, -- debug = false, }) }, -- { \"andweeb/presence.nvim\" }, -- { -- \"ray-x/lsp_signature.nvim\", -- event = \"BufRead\", -- config = function() -- require(\"lsp_signature\").setup() -- end, -- }, }, -- All other entries override the setup() call for default plugins treesitter = { ensure_installed = { \"lua\" } }, packer = { compile_path = vim . fn . stdpath ( \"config\" ) .. \"/lua/packer_compiled.lua\" , }, }, -- Add paths for including more VS Code style snippets in luasnip luasnip = { vscode_snippet_paths = {}, }, -- Modify which-key registration [ \"which-key\" ] = { -- Add bindings to the normal mode <leader> mappings -- register_n_leader = {[\"N\"] = {\"<cmd>tabnew<cr>\", \"New Buffer\"}} }, -- Extend LSP configuration lsp = { -- add to the server on_attach function -- on_attach = function(client, bufnr) -- end, -- override the lsp installer server-registration function -- server_registration = function(server, opts) -- server:setup(opts) -- end -- Add overrides for LSP server settings, the keys are the name of the server [ \"server-settings\" ] = { -- example for addings schemas to yamlls -- yamlls = { -- settings = { -- yaml = { -- schemas = { -- [\"http://json.schemastore.org/github-workflow\"] = \".github/workflows/*.{yml,yaml}\", -- [\"http://json.schemastore.org/github-action\"] = \".github/action.{yml,yaml}\", -- [\"http://json.schemastore.org/ansible-stable-2.9\"] = \"roles/tasks/*.{yml,yaml}\", -- }, -- }, -- }, -- }, }, }, -- Diagnostics configuration (for vim.diagnostics.config({})) diagnostics = { virtual_text = true , underline = true }, -- null-ls configuration [ \"null-ls\" ] = function () -- Formatting and linting -- https://github.com/jose-elias-alvarez/null-ls.nvim local status_ok , null_ls = pcall ( require , \"null-ls\" ) if not status_ok then return end -- Check supported formatters -- https://github.com/jose-elias-alvarez/null-ls.nvim/tree/main/lua/null-ls/builtins/formatting -- Check supported linters -- https://github.com/jose-elias-alvarez/null-ls.nvim/tree/main/lua/null-ls/builtins/diagnostics local b = null_ls . builtins local txt = { filetypes = { \"markdown\" , \"text\" } } null_ls . setup ({ debug = true , sources = { -- https://github.com/jose-elias-alvarez/null-ls.nvim/blob/main/doc/BUILTINS.md b . code_actions . refactoring , b . code_actions . shellcheck , b . completion . luasnip , b . completion . spell . with ( txt ), b . diagnostics . misspell . with ( txt ), b . diagnostics . shellcheck , b . diagnostics . write_good , b . formatting . black . with ({ extra_args = { \"--fast\" } }), b . formatting . prettier . with ({ filetypes = { \"html\" , \"json\" , \"yaml\" } }), b . formatting . shfmt , b . formatting . stylua , b . hover . dictionary . with ( txt ), -- shift-k is hover }, -- NOTE: You can remove this on attach function to disable format on save on_attach = function ( client ) if client . resolved_capabilities . document_formatting then vim . cmd ( \"autocmd BufWritePre <buffer> lua vim.lsp.buf.formatting()\" ) end end , }) end , polish = function () local opts = { noremap = true , silent = true } local map = vim . api . nvim_set_keymap -- Set options local set = vim . opt require ( \"luasnip.loaders.from_snipmate\" ). lazy_load () -- cmp.formatting.fields = {\"kind\"} U = require ( \"user.utils\" ) -- allows :lua U.dump(vim.lsp) require ( \"luasnip.loaders.from_vscode\" ). lazy_load () set . shiftwidth = 4 -- Number of space inserted for indentation set . tabstop = 4 -- Number of spaces in a tab set . foldmethod = \"indent\" set . foldlevel = 99 -- open all set . relativenumber = true --set.dict = \"/usr/share/dict/words\" -- much more set . dict = \"~/.config/nvim.personal/10k.txt\" -- map(\"n\", \"<C-s>\", \":w!<CR>\", opts) vim . api . nvim_set_keymap ( \"v\" , \"<leader>rr\" , \"<Esc><cmd>lua require('telescope').extensions.refactoring.refactors()<CR>\" , { noremap = true } ) map ( \"n\" , \",4\" , \":ToggleTerm size=100 <CR>\" , opts ) map ( \"n\" , \",D\" , \":lua vim.diagnostic.config({virtual_text = false})<CR>\" , opts ) -- all viml: vim . cmd ( \"source $HOME/.config/nvim.personal/polish.vim\" ) -- do this only here so that require mpack works for async: end , } return config My polish.vim $ cat /home/gk/.config/nvim.personal/polish.vim \" this is simply ctrl-i: \"nnoremap <Tab> za nnoremap <C-i> za \"cnoremap <silent> x<CR> :call ConfirmQuit(1)<CR> \" \"Yank constent with D and C: nnoremap Y y$ nnoremap ,l :LazyGit<CR> nnoremap ,q :q!<CR> nnoremap ,Q :Q!<cr> nnoremap ,d :wq!<CR> nnoremap ,w :w<cr> nnoremap ,1 :source ~/.config/nvim/init.lua<CR> nnoremap ,2 :edit ~/.config/nvim/lua/user/init.lua<CR> nnoremap ,c :close<CR> \" close just a split or a tab nmap ,f za \"folds nnoremap <silent> ,3 :FloatermNew! --autoclose=2 --wintype=vsplit cd %:p:h<CR> \"\" Line join better, position cursor at join point: \" (J is 5 lines jumps) nnoremap gj $mx<cmd>join<CR>0$[`dmx \" Universal python scriptable file or browser opener over word: \"nmap ,g viW\"ay:lua require('utils').smart_open([[<C-R>a]])<CR><CR> nmap ,g viW\"ay:lua require('user.utils').smart_open([[<C-R>a]])<CR> vmap ,g :lua require('user.utils').smart_open([[visualsel]])<CR><CR> \" tabularize: nmap ga :Tabularize/ xmap ga :Tabularize/ nmap tt vip:s:,,:\\|:ge<CR>vip:Tabularize/\\|<CR> \" markdown table nnoremap ,ta vip:s/$/\\|/ge<CR>vip:s:,,:\\|:ge<CR>vip:s:^:\\|:ge<CR>vip:s:\\|\\|:\\|:ge<CR>vip:Tabularize/\\|<CR> nnoremap S :%s//gI<Left><Left><Left> \" move between splits with alt-jk nnoremap <M-j> <C-W><C-W> nnoremap <M-k> <C-W><C-W> inoremap <M-j> <ESC><C-W><C-W> inoremap <M-k> <ESC><C-W><C-W> nnoremap <C-L> <C-W><C-J> nnoremap <C-H> <C-W><C-K> \" we often have old stuff at end of files: nnoremap G G?begin_archive<CR> nmap <silent> <Leader><Leader> <Leader>ff nnoremap <silent> <Leader>j :Telescope buffers<cr> nnoremap <silent> <Leader>g :Telescope live_grep<cr> \" go to the position I was when last editing the file au BufReadPost * if line(\"'\\\"\") > 0 && line(\"'\\\"\") <= line(\"$\") | exe \"normal g'\\\"\" | endif \"colorscheme pinkmare\"colorscheme kanagawa \"\" AutoSave nmap ,s :AutoSave<CR> function! s:autosave(enable) augroup autosave autocmd! \" at $IDE we call this at ANY BufEnter, with enable=2 if a:enable == 2 if $IDE != 'true' return endif endif if a:enable autocmd TextChanged,InsertLeave <buffer> \\ if empty(&buftype) && !empty(bufname('')) \\| silent! update \\| endif endif augroup END endfunction command! -bang AutoSave call s:autosave(<bang>1) autocmd BufEnter *.* :call s:autosave(2) \" $IDE -> always \"\" Yank hilite augroup highlight_yank autocmd! au TextYankPost * silent! lua vim.highlight.on_yank({higroup=\"IncSearch\", timeout=400}) augroup END \"\" Packer augroup packer_conf autocmd! autocmd BufWritePost plugins.lua source <afile> | PackerSync augroup end typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"AstroVim"},{"location":"ll/vim/astro_vim/#astro-vim","text":"[2022-03-20 18:58] This weekend I tested Astro Vim , which is a pretty well tuned (and good looking) LSP configuration bundle for nvim. I like the idea of having LSP treesitter telescope floatterm (...) ...out of the box - and out of the way from my local conf - also to throw it also on servers with colleagues and point them to an \"official\" repo with docs. Those are not easy to get right with so many variants. the full lua approach (but I'll have to have vim lang stuff, see below) Also, while mine became a bit laggy on big files, this one is still pretty fast, with all the LSP goodies. Here my notes about the conversion:","title":"Astro Vim"},{"location":"ll/vim/astro_vim/#cleaning-up","text":"Backup and Remove: $HOME/.config/nvim $HOME/.cache/nvim $HOME/.local/share/nvim","title":"Cleaning Up"},{"location":"ll/vim/astro_vim/#install","text":"git clone https://github.com/kabinspace/AstroVim ~/.config/nvim nvim +PackerSync # nice then e.g. :LspInstall pyright :TSInstall python # treesitter Note All user config is in .config/nvim/lua/user , from init.lua there.","title":"Install"},{"location":"ll/vim/astro_vim/#conventional-folders-ftplugin-and-spell-symlinked","text":"Put my old ones into lua/user/<ftplugin|spell> and symlinked 2 directories up. Worked.","title":"Conventional Folders: ftplugin and spell: Symlinked"},{"location":"ll/vim/astro_vim/#own-lua-and-own-vimscript","text":"Besides a few declarative config possibilities, for own plugins, in init.lua there is a lua polish function, loaded at the end. There you hook in your stuff like this: require ( 'user.mymodule' ) -- and vimscript like this: vim . cmd ( 'source $HOME/.config/nvim/lua/user/polish.vim' ) and in vimscript then back to lua in user folder like this: nmap ,g viW\"ay:lua require('user.utils').smart_open([[<C-R>a]])<CR>","title":"Own Lua and Own Vimscript"},{"location":"ll/vim/astro_vim/#colors","text":"The declarative approach with colorscheme via lua failed, loading it in my .vim file at the end.","title":"Colors"},{"location":"ll/vim/astro_vim/#spell","text":"It did not ask me to download german at set spelllang=de , so: mkdir .config/nvim/spell && cd $_ ` && wget 'http://ftp.vim.org/pub/vim/runtime/spell/de.utf-8.spl'","title":"Spell"},{"location":"ll/vim/astro_vim/#telescope","text":"AstroVim Config: https://github.com/kabinspace/AstroVim/issues/141 Generic Telescope Tuning: https://github-wiki-see.page/m/nvim-telescope/telescope.nvim/wiki/Configuration-Recipes","title":"Telescope"},{"location":"ll/vim/astro_vim/#lsp","text":"Pretty straight forward, via their null_ls LSP \"hub\", where nvim is the direct server for all languages and calls the actual programs behind the scenes. That way one can pick from a huge list of features and just install the binaries if required ( command ), done. LSP log as always in $HOME/.cache/nvim/ , file null_ls.log .","title":"LSP"},{"location":"ll/vim/astro_vim/#axblack","text":"null_ls calls black with their --stdin-filename parameter. Had to add that to axblack so that single quote formatting works, as a no op (not in use anyway for stdin/stdout based formatting). Edit: Found only later, that one can specify CLI args....","title":"axblack"},{"location":"ll/vim/astro_vim/#special-plugins","text":"","title":"Special Plugins"},{"location":"ll/vim/astro_vim/#completion","text":"I use \"uga-rosa/cmp-dictionary\", with 10k words. Caution For async the loading order is important (after cmp) - then the mpack import works. Edit: Nope. After a packer sync it failed again, same error (mpack.so missing - loads too eaerly again)","title":"Completion"},{"location":"ll/vim/astro_vim/#debugging","text":"lsp: ~ \u276f tail -f .cache/nvim/null-ls.log (set lsp.debug = true ) tables: lua U.dump(vim.lsp)","title":"Debugging"},{"location":"ll/vim/astro_vim/#gotchas","text":"When trying cmp or lsp, always try on files which exist at vi start. Do NOT create new files, it will not work. The async flag at cmp_dictionary was behaving totally different after PackerSync calls, failed with mpack not found, allthough working before... Had to switch it off.","title":"Gotchas"},{"location":"ll/vim/astro_vim/#config-dumps","text":"My init.lua $ cat / home / gk / . config / nvim . personal / init . lua -- https://github.com/hrsh7th/nvim-cmp/wiki/Example-mappings#super-tab-like-mapping -- local cmp_setup = function () local _ , cmp = pcall ( require , \"cmp\" ) local _ , luasnip = pcall ( require , \"luasnip\" ) local has_words_before = function () local line , col = unpack ( vim . api . nvim_win_get_cursor ( 0 )) local lines = vim . api . nvim_buf_get_lines return col ~= 0 and lines ( 0 , line - 1 , line , true )[ 1 ]: sub ( col , col ): match ( \"%s\" ) == nil end return { mapping = { [ \"<Tab>\" ] = cmp . mapping ( function ( fallback ) if cmp . visible () then cmp . select_next_item () elseif luasnip . expand_or_jumpable () then luasnip . expand_or_jump () elseif has_words_before () then cmp . complete () else fallback () end end , { \"i\" , \"s\" }), [ \"<S-Tab>\" ] = cmp . mapping ( function ( fallback ) if cmp . visible () then cmp . select_prev_item () elseif luasnip . jumpable ( - 1 ) then luasnip . jump ( - 1 ) else fallback () end end , { \"i\" , \"s\" }), }, } end local config = { -- Set colorscheme -- colorscheme = \"default_theme\", colorscheme = \"kanagawa\" , -- Default theme configuration default_theme = { diagnostics_style = \"none\" , -- Modify the color table colors = { fg = \"#abb2bf\" }, -- Modify the highlight groups highlights = function ( highlights ) local C = require ( \"default_theme.colors\" ) highlights . Normal = { fg = C . fg , bg = C . bg } return highlights end , }, -- Disable default plugins enabled = { bufferline = true , nvim_tree = true , lualine = true , lspsaga = true , gitsigns = true , colorizer = true , toggle_term = true , comment = true , symbols_outline = true , indent_blankline = true , dashboard = true , which_key = true , neoscroll = true , ts_rainbow = true , ts_autotag = true , }, plugins = { cmp = cmp_setup (), init = { \"ThePrimeagen/refactoring.nvim\" , \"arcticicestudio/nord-vim\" , \"godlygeek/tabular\" , \"iamcco/markdown-preview.nvim\" , \"kdheepak/lazygit.nvim\" , \"matsuuu/pinkmare\" , \"rebelot/kanagawa.nvim\" , \"tpope/vim-repeat\" , \"tpope/vim-surround\" , \"voldikss/vim-floaterm\" , \"rafamadriz/friendly-snippets\" , { \"uga-rosa/cmp-dictionary\" , after = \"nvim-cmp\" , config = function () local cmp = require ( \"cmp\" ) local config = cmp . get_config () table.insert ( config . sources , { name = \"dictionary\" , keyword_length = 2 }) cmp . setup ( config ) end , require ( \"cmp_dictionary\" ). setup ({ dic = { [ \"markdown\" ] = { \"/home/gk/.config/nvim.personal/10k.txt\" }, --[\"markdown\"] = { \"/usr/share/dict/words\" }, -- [\"lua\"] = \"path/to/lua.dic\", -- [\"javascript,typescript\"] = { \"path/to/js.dic\", \"path/to/js2.dic\" }, -- filename = { -- [\"xmake.lua\"] = { \"path/to/xmake.dic\", \"path/to/lua.dic\" }, -- }, -- filepath = { -- [\"%.tmux.*%.conf\"] = \"path/to/tmux.dic\", -- }, }, -- The following are default values, so you don't need to write them if you don't want to change them -- exact = 2, -- first_case_insensitive = false, -- document = false, -- document_command = \"wn %s -over\", async = false , -- capacity = 5, -- debug = false, }) }, -- { \"andweeb/presence.nvim\" }, -- { -- \"ray-x/lsp_signature.nvim\", -- event = \"BufRead\", -- config = function() -- require(\"lsp_signature\").setup() -- end, -- }, }, -- All other entries override the setup() call for default plugins treesitter = { ensure_installed = { \"lua\" } }, packer = { compile_path = vim . fn . stdpath ( \"config\" ) .. \"/lua/packer_compiled.lua\" , }, }, -- Add paths for including more VS Code style snippets in luasnip luasnip = { vscode_snippet_paths = {}, }, -- Modify which-key registration [ \"which-key\" ] = { -- Add bindings to the normal mode <leader> mappings -- register_n_leader = {[\"N\"] = {\"<cmd>tabnew<cr>\", \"New Buffer\"}} }, -- Extend LSP configuration lsp = { -- add to the server on_attach function -- on_attach = function(client, bufnr) -- end, -- override the lsp installer server-registration function -- server_registration = function(server, opts) -- server:setup(opts) -- end -- Add overrides for LSP server settings, the keys are the name of the server [ \"server-settings\" ] = { -- example for addings schemas to yamlls -- yamlls = { -- settings = { -- yaml = { -- schemas = { -- [\"http://json.schemastore.org/github-workflow\"] = \".github/workflows/*.{yml,yaml}\", -- [\"http://json.schemastore.org/github-action\"] = \".github/action.{yml,yaml}\", -- [\"http://json.schemastore.org/ansible-stable-2.9\"] = \"roles/tasks/*.{yml,yaml}\", -- }, -- }, -- }, -- }, }, }, -- Diagnostics configuration (for vim.diagnostics.config({})) diagnostics = { virtual_text = true , underline = true }, -- null-ls configuration [ \"null-ls\" ] = function () -- Formatting and linting -- https://github.com/jose-elias-alvarez/null-ls.nvim local status_ok , null_ls = pcall ( require , \"null-ls\" ) if not status_ok then return end -- Check supported formatters -- https://github.com/jose-elias-alvarez/null-ls.nvim/tree/main/lua/null-ls/builtins/formatting -- Check supported linters -- https://github.com/jose-elias-alvarez/null-ls.nvim/tree/main/lua/null-ls/builtins/diagnostics local b = null_ls . builtins local txt = { filetypes = { \"markdown\" , \"text\" } } null_ls . setup ({ debug = true , sources = { -- https://github.com/jose-elias-alvarez/null-ls.nvim/blob/main/doc/BUILTINS.md b . code_actions . refactoring , b . code_actions . shellcheck , b . completion . luasnip , b . completion . spell . with ( txt ), b . diagnostics . misspell . with ( txt ), b . diagnostics . shellcheck , b . diagnostics . write_good , b . formatting . black . with ({ extra_args = { \"--fast\" } }), b . formatting . prettier . with ({ filetypes = { \"html\" , \"json\" , \"yaml\" } }), b . formatting . shfmt , b . formatting . stylua , b . hover . dictionary . with ( txt ), -- shift-k is hover }, -- NOTE: You can remove this on attach function to disable format on save on_attach = function ( client ) if client . resolved_capabilities . document_formatting then vim . cmd ( \"autocmd BufWritePre <buffer> lua vim.lsp.buf.formatting()\" ) end end , }) end , polish = function () local opts = { noremap = true , silent = true } local map = vim . api . nvim_set_keymap -- Set options local set = vim . opt require ( \"luasnip.loaders.from_snipmate\" ). lazy_load () -- cmp.formatting.fields = {\"kind\"} U = require ( \"user.utils\" ) -- allows :lua U.dump(vim.lsp) require ( \"luasnip.loaders.from_vscode\" ). lazy_load () set . shiftwidth = 4 -- Number of space inserted for indentation set . tabstop = 4 -- Number of spaces in a tab set . foldmethod = \"indent\" set . foldlevel = 99 -- open all set . relativenumber = true --set.dict = \"/usr/share/dict/words\" -- much more set . dict = \"~/.config/nvim.personal/10k.txt\" -- map(\"n\", \"<C-s>\", \":w!<CR>\", opts) vim . api . nvim_set_keymap ( \"v\" , \"<leader>rr\" , \"<Esc><cmd>lua require('telescope').extensions.refactoring.refactors()<CR>\" , { noremap = true } ) map ( \"n\" , \",4\" , \":ToggleTerm size=100 <CR>\" , opts ) map ( \"n\" , \",D\" , \":lua vim.diagnostic.config({virtual_text = false})<CR>\" , opts ) -- all viml: vim . cmd ( \"source $HOME/.config/nvim.personal/polish.vim\" ) -- do this only here so that require mpack works for async: end , } return config My polish.vim $ cat /home/gk/.config/nvim.personal/polish.vim \" this is simply ctrl-i: \"nnoremap <Tab> za nnoremap <C-i> za \"cnoremap <silent> x<CR> :call ConfirmQuit(1)<CR> \" \"Yank constent with D and C: nnoremap Y y$ nnoremap ,l :LazyGit<CR> nnoremap ,q :q!<CR> nnoremap ,Q :Q!<cr> nnoremap ,d :wq!<CR> nnoremap ,w :w<cr> nnoremap ,1 :source ~/.config/nvim/init.lua<CR> nnoremap ,2 :edit ~/.config/nvim/lua/user/init.lua<CR> nnoremap ,c :close<CR> \" close just a split or a tab nmap ,f za \"folds nnoremap <silent> ,3 :FloatermNew! --autoclose=2 --wintype=vsplit cd %:p:h<CR> \"\" Line join better, position cursor at join point: \" (J is 5 lines jumps) nnoremap gj $mx<cmd>join<CR>0$[`dmx \" Universal python scriptable file or browser opener over word: \"nmap ,g viW\"ay:lua require('utils').smart_open([[<C-R>a]])<CR><CR> nmap ,g viW\"ay:lua require('user.utils').smart_open([[<C-R>a]])<CR> vmap ,g :lua require('user.utils').smart_open([[visualsel]])<CR><CR> \" tabularize: nmap ga :Tabularize/ xmap ga :Tabularize/ nmap tt vip:s:,,:\\|:ge<CR>vip:Tabularize/\\|<CR> \" markdown table nnoremap ,ta vip:s/$/\\|/ge<CR>vip:s:,,:\\|:ge<CR>vip:s:^:\\|:ge<CR>vip:s:\\|\\|:\\|:ge<CR>vip:Tabularize/\\|<CR> nnoremap S :%s//gI<Left><Left><Left> \" move between splits with alt-jk nnoremap <M-j> <C-W><C-W> nnoremap <M-k> <C-W><C-W> inoremap <M-j> <ESC><C-W><C-W> inoremap <M-k> <ESC><C-W><C-W> nnoremap <C-L> <C-W><C-J> nnoremap <C-H> <C-W><C-K> \" we often have old stuff at end of files: nnoremap G G?begin_archive<CR> nmap <silent> <Leader><Leader> <Leader>ff nnoremap <silent> <Leader>j :Telescope buffers<cr> nnoremap <silent> <Leader>g :Telescope live_grep<cr> \" go to the position I was when last editing the file au BufReadPost * if line(\"'\\\"\") > 0 && line(\"'\\\"\") <= line(\"$\") | exe \"normal g'\\\"\" | endif \"colorscheme pinkmare\"colorscheme kanagawa \"\" AutoSave nmap ,s :AutoSave<CR> function! s:autosave(enable) augroup autosave autocmd! \" at $IDE we call this at ANY BufEnter, with enable=2 if a:enable == 2 if $IDE != 'true' return endif endif if a:enable autocmd TextChanged,InsertLeave <buffer> \\ if empty(&buftype) && !empty(bufname('')) \\| silent! update \\| endif endif augroup END endfunction command! -bang AutoSave call s:autosave(<bang>1) autocmd BufEnter *.* :call s:autosave(2) \" $IDE -> always \"\" Yank hilite augroup highlight_yank autocmd! au TextYankPost * silent! lua vim.highlight.on_yank({higroup=\"IncSearch\", timeout=400}) augroup END \"\" Packer augroup packer_conf autocmd! autocmd BufWritePost plugins.lua source <afile> | PackerSync augroup end typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Config Dumps"},{"location":"ll/vim/astro_vim_null_ls_builtins/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Built-in LSP Sources \u00a4 [2022-03-21 17;13] gk: I've put this here w/o sub headers, in order to have a better overview and search. This is an automatically generated list of all null-ls built-in sources (source: https://github.com/jose-elias-alvarez/null-ls.nvim/blob/main/doc/BUILTINS.md ) I've See BUILTIN_CONFIG to learn how to set up and configure these sources. Code Actions \u00a4 eslint \u00a4 Injects actions to fix ESLint issues or ignore broken rules. local sources = { null_ls . builtins . code_actions . eslint } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\" } Method: code_action Command: eslint Args: { \"-f\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" } eslint_d \u00a4 Injects actions to fix ESLint issues or ignore broken rules. Like ESLint, but faster. local sources = { null_ls . builtins . code_actions . eslint_d } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\" } Method: code_action Command: eslint_d Args: { \"-f\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" } gitrebase \u00a4 Injects actions to change gitrebase command (e.g. using squash instead of pick ). local sources = { null_ls . builtins . code_actions . gitrebase } Defaults Filetypes: { \"gitrebase\" } Method: code_action gitsigns \u00a4 Injects code actions for Git operations at the current cursor position (stage / preview / reset hunks, blame, etc.). local sources = { null_ls . builtins . code_actions . gitsigns } Defaults Filetypes: {} Method: code_action proselint \u00a4 An English prose linter. Can fix some issues via code actions. local sources = { null_ls . builtins . code_actions . proselint } Defaults Filetypes: { \"markdown\", \"tex\" } Method: code_action Command: proselint Args: { \"--json\" } refactoring \u00a4 The Refactoring library based off the Refactoring book by Martin Fowler. local sources = { null_ls . builtins . code_actions . refactoring } Defaults Filetypes: { \"go\", \"javascript\", \"lua\", \"python\", \"typescript\" } Method: code_action Notes Requires visually selecting the code you want to refactor and calling :'<,'>lua vim.lsp.buf.range_code_action() (for the default handler) or :'<,'>Telescope lsp_range_code_actions (for Telescope). shellcheck \u00a4 Provides actions to disable ShellCheck errors/warnings, either for the current line or for the entire file. local sources = { null_ls . builtins . code_actions . shellcheck } Defaults Filetypes: { \"sh\" } Method: code_action Command: shellcheck Args: { \"--format\", \"json1\", \"--source-path=$DIRNAME\", \"--external-sources\", \"-\" } Notes Running the action to disable a rule for the current line adds a disable directive above the line or appends the rule to an existing disable directive for that line. Running the action to disable a rule for the current file adds a disable directive at the top of the file or appends the rule to an existing file disable directive. The first non-comment line in a script is not eligible for a line-level disable directive. See shellcheck#1877 . statix \u00a4 Lints and suggestions for the nix programming language. local sources = { null_ls . builtins . code_actions . statix } Defaults Filetypes: { \"nix\" } Method: code_action Command: statix Args: { \"check\", \"--stdin\", \"--format=json\" } xo \u00a4 \u2764\ufe0f JavaScript/TypeScript linter (ESLint wrapper) with great defaults local sources = { null_ls . builtins . code_actions . xo } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\" } Method: code_action Command: xo Args: { \"--reporter\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" } Completion \u00a4 luasnip \u00a4 Snippet engine for Neovim, written in Lua. local sources = { null_ls . builtins . completion . luasnip } Defaults Filetypes: {} Method: completion Notes Registering this source will show available snippets in the completion list, but luasnip is in charge of expanding them. Consult luasnip's documentation to set up keymaps for expansion and jumping. spell \u00a4 Spell suggestions completion source. local sources = { null_ls . builtins . completion . spell } Defaults Filetypes: {} Method: completion tags \u00a4 Tags completion source. local sources = { null_ls . builtins . completion . tags } Defaults Filetypes: {} Method: completion vsnip \u00a4 Snippets managed by vim-vsnip. local sources = { null_ls . builtins . completion . vsnip } Defaults Filetypes: {} Method: completion Notes Registering this source will show available snippets in the completion list, but vim-vsnip is in charge of expanding them. See vim-vsnip's documentation for setup instructions. Diagnostics \u00a4 actionlint \u00a4 Actionlint is a static checker for GitHub Actions workflow files. local sources = { null_ls . builtins . diagnostics . actionlint } Defaults Filetypes: { \"yaml\" } Method: diagnostics Command: actionlint Args: { \"-no-color\", \"-format\", \"{{json .}}\", \"-\" } alex \u00a4 Catch insensitive, inconsiderate writing. local sources = { null_ls . builtins . diagnostics . alex } Defaults Filetypes: { \"markdown\" } Method: diagnostics Command: alex Args: { \"--stdin\", \"--quiet\" } ansiblelint \u00a4 Linter for Ansible playbooks, roles and collections. local sources = { null_ls . builtins . diagnostics . ansiblelint } Defaults Filetypes: { \"yaml.ansible\" } Method: diagnostics Command: ansible-lint Args: { \"-f\", \"codeclimate\", \"-q\", \"--nocolor\", \"$FILENAME\" } buildifier \u00a4 buildifier is a tool for formatting and linting bazel BUILD, WORKSPACE, and .bzl files. local sources = { null_ls . builtins . diagnostics . buildifier } Defaults Filetypes: { \"bzl\" } Method: diagnostics Command: buildifier Args: { \"-mode=check\", \"-lint=warn\", \"-format=json\", \"-path=$FILENAME\" } checkmake \u00a4 make linter. local sources = { null_ls . builtins . diagnostics . checkmake } Defaults Filetypes: { \"make\" } Method: diagnostics Command: checkmake Args: { \"--format='{{.LineNumber}}:{{.Rule}}:{{.Violation}}'\", \"$FILENAME\" } chktex \u00a4 latex semantic linter. local sources = { null_ls . builtins . diagnostics . chktex } Defaults Filetypes: { \"tex\" } Method: diagnostics Command: chktex Args: { \"-q\", \"-f%l:%c:%d:%k:%n:%m\\n\" } codespell \u00a4 Codespell finds common misspellings in text files. local sources = { null_ls . builtins . diagnostics . codespell } Defaults Filetypes: {} Method: diagnostics Command: codespell Args: { \"-\" } cppcheck \u00a4 A tool for fast static analysis of C/C++ code. local sources = { null_ls . builtins . diagnostics . cppcheck } Defaults Filetypes: { \"cpp\", \"c\" } Method: diagnostics Command: cppcheck Args: { \"--enable=warning,style,performance,portability\", \"--template=gcc\", \"$FILENAME\" } credo \u00a4 Static analysis of elixir files for enforcing code consistency. local sources = { null_ls . builtins . diagnostics . credo } Defaults Filetypes: { \"elixir\" } Method: diagnostics Command: mix Args: { \"credo\", \"suggest\", \"--format\", \"json\", \"--read-from-stdin\", \"$FILENAME\" } Notes Searches upwards from the buffer to the project root and tries to find the first .credo.exs file in case the project has nested credo configs. cspell \u00a4 cspell is a spell checker for code. local sources = { null_ls . builtins . diagnostics . cspell } Defaults Filetypes: {} Method: diagnostics Command: cspell Args: dynamically resolved (see source ) cue_fmt \u00a4 Reports on formatting errors in .cue language files. local sources = { null_ls . builtins . diagnostics . cue_fmt } Defaults Filetypes: { \"cue\" } Method: diagnostics Command: cue Args: { \"fmt\", \"$FILENAME\" } curlylint \u00a4 Experimental HTML templates linting for Jinja, Nunjucks, Django templates, Twig, and Liquid. local sources = { null_ls . builtins . diagnostics . curlylint } Defaults Filetypes: { \"jinja.html\", \"htmldjango\" } Method: diagnostics Command: curlylint Args: { \"--quiet\", \"-\", \"--format\", \"json\", \"--stdin-filepath\", \"$FILENAME\" } deadnix \u00a4 Scan Nix files for dead code. local sources = { null_ls . builtins . diagnostics . deadnix } Defaults Filetypes: { \"nix\" } Method: diagnostics Command: deadnix Args: { \"--output-format=json\", \"$FILENAME\" } djlint \u00a4 \u2728 \ud83d\udcdc \ud83e\ude84 \u2728 HTML Template Linter and Formatter. local sources = { null_ls . builtins . diagnostics . djlint } Defaults Filetypes: { \"django\", \"jinja.html\", \"htmldjango\" } Method: diagnostics Command: djlint Args: { \"$FILENAME\" } editorconfig_checker \u00a4 A tool to verify that your files are in harmony with your .editorconfig . local sources = { null_ls . builtins . diagnostics . editorconfig_checker } Defaults Filetypes: {} Method: diagnostics Command: ec Args: { \"-no-color\", \"$FILENAME\" } eslint \u00a4 A linter for the JavaScript ecosystem. local sources = { null_ls . builtins . diagnostics . eslint } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\" } Method: diagnostics Command: eslint Args: { \"-f\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" } eslint_d \u00a4 Like ESLint, but faster. local sources = { null_ls . builtins . diagnostics . eslint_d } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\" } Method: diagnostics Command: eslint_d Args: { \"-f\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" } flake8 \u00a4 flake8 is a python tool that glues together pycodestyle, pyflakes, mccabe, and third-party plugins to check the style and quality of Python code. local sources = { null_ls . builtins . diagnostics . flake8 } Defaults Filetypes: { \"python\" } Method: diagnostics Command: flake8 Args: { \"--format\", \"default\", \"--stdin-display-name\", \"$FILENAME\", \"-\" } gccdiag \u00a4 gccdiag is a wrapper for any C/C++ compiler (gcc, avr-gcc, arm-none-eabi-gcc, etc) that automatically uses the correct compiler arguments for a file in your project by parsing the compile_commands.json file at the root of your project. local sources = { null_ls . builtins . diagnostics . gccdiag } Defaults Filetypes: { \"c\", \"cpp\" } Method: diagnostics_on_save Command: gccdiag Args: { \"--default-args\", \"-S -x $FILEEXT\", \"-i\", \"-fdiagnostics-color\", \"--\", \"$FILENAME\" } gitlint \u00a4 Linter for Git commit messages. local sources = { null_ls . builtins . diagnostics . gitlint } Defaults Filetypes: { \"gitcommit\" } Method: diagnostics Command: gitlint Args: { \"--msg-filename\", \"$FILENAME\" } golangci_lint \u00a4 A Go linter aggregator. local sources = { null_ls . builtins . diagnostics . golangci_lint } Defaults Filetypes: { \"go\" } Method: diagnostics_on_save Command: golangci-lint Args: { \"run\", \"--fix=false\", \"--fast\", \"--out-format=json\", \"$DIRNAME\", \"--path-prefix\", \"$ROOT\" } hadolint \u00a4 A smarter Dockerfile linter that helps you build best practice Docker images. local sources = { null_ls . builtins . diagnostics . hadolint } Defaults Filetypes: { \"dockerfile\" } Method: diagnostics Command: hadolint Args: { \"--no-fail\", \"--format=json\", \"$FILENAME\" } haml_lint \u00a4 Tool for writing clean and consistent HAML. local sources = { null_ls . builtins . diagnostics . haml_lint } Defaults Filetypes: { \"haml\" } Method: diagnostics Command: haml-lint Args: { \"--reporter\", \"json\", \"$FILENAME\" } jsonlint \u00a4 A pure JavaScript version of the service provided at jsonlint.com. local sources = { null_ls . builtins . diagnostics . jsonlint } Defaults Filetypes: { \"json\" } Method: diagnostics Command: jsonlint Args: { \"--compact\" } ktlint \u00a4 An anti-bikeshedding Kotlin linter with built-in formatter. local sources = { null_ls . builtins . diagnostics . ktlint } Defaults Filetypes: { \"kotlin\" } Method: diagnostics_on_save Command: ktlint Args: { \"--relative\", \"--reporter=json\" } luacheck \u00a4 A tool for linting and static analysis of Lua code. local sources = { null_ls . builtins . diagnostics . luacheck } Defaults Filetypes: { \"lua\" } Method: diagnostics Command: luacheck Args: { \"--formatter\", \"plain\", \"--codes\", \"--ranges\", \"--filename\", \"$FILENAME\", \"-\" } markdownlint \u00a4 Markdown style and syntax checker. local sources = { null_ls . builtins . diagnostics . markdownlint } Defaults Filetypes: { \"markdown\" } Method: diagnostics Command: markdownlint Args: { \"--stdin\" } mdl \u00a4 A tool to check Markdown files and flag style issues. local sources = { null_ls . builtins . diagnostics . mdl } Defaults Filetypes: { \"markdown\" } Method: diagnostics Command: mdl Args: { \"--json\" } misspell \u00a4 Checks commonly misspelled English words in source files. local sources = { null_ls . builtins . diagnostics . misspell } Defaults Filetypes: {} Method: diagnostics Command: misspell mlint \u00a4 Linter for MATLAB files local sources = { null_ls . builtins . diagnostics . mlint } Defaults Filetypes: { \"matlab\" } Method: diagnostics_on_save Command: mlint Args: { \"$FILENAME\" } mypy \u00a4 Mypy is an optional static type checker for Python that aims to combine the benefits of dynamic (or \"duck\") typing and static typing. local sources = { null_ls . builtins . diagnostics . mypy } Defaults Filetypes: { \"python\" } Method: diagnostics Command: mypy Args: dynamically resolved (see source ) php \u00a4 Uses the php command-line tool's built in -l flag to check for syntax errors. local sources = { null_ls . builtins . diagnostics . php } Defaults Filetypes: { \"php\" } Method: diagnostics Command: php Args: { \"-l\", \"-d\", \"display_errors=STDERR\", \"-d\", \" log_errors=Off\" } phpcs \u00a4 PHP_CodeSniffer is a script that tokenizes PHP, JavaScript and CSS files to detect violations of a defined coding standard. local sources = { null_ls . builtins . diagnostics . phpcs } Defaults Filetypes: { \"php\" } Method: diagnostics Command: phpcs Args: { \"--report=json\", \"-q\", \"-s\", \"--runtime-set\", \"ignore_warnings_on_exit\", \"1\", \"--runtime-set\", \"ignore_errors_on_exit\", \"1\", \"-\" } phpmd \u00a4 Runs PHP Mess Detector against PHP files. local sources = { null_ls . builtins . diagnostics . phpmd } Defaults Filetypes: { \"php\" } Method: diagnostics Command: phpmd Args: { \"$FILENAME\", \"json\" } phpstan \u00a4 PHP static analysis tool. local sources = { null_ls . builtins . diagnostics . phpstan } Defaults Filetypes: { \"php\" } Method: diagnostics Command: phpstan Args: { \"analyze\", \"--error-format\", \"json\", \"--no-progress\", \"$FILENAME\" } Notes Requires a valid phpstan.neon at root. proselint \u00a4 An English prose linter. local sources = { null_ls . builtins . diagnostics . proselint } Defaults Filetypes: { \"markdown\", \"tex\" } Method: diagnostics Command: proselint Args: { \"--json\" } protoc_gen_lint \u00a4 A plug-in for Google's Protocol Buffers (protobufs) compiler to lint .proto files for style violations. local sources = { null_ls . builtins . diagnostics . protoc_gen_lint } Defaults Filetypes: { \"proto\" } Method: diagnostics Command: protoc Args: { \"--lint_out\", \"$FILENAME\", \"-I\", \"/tmp\", \"$FILENAME\" } protolint \u00a4 A pluggable linter and fixer to enforce Protocol Buffer style and conventions. local sources = { null_ls . builtins . diagnostics . protolint } Defaults Filetypes: { \"proto\" } Method: diagnostics Command: protolint Args: { \"--reporter\", \"json\", \"$FILENAME\" } psalm \u00a4 A static analysis tool for finding errors in PHP applications. local sources = { null_ls . builtins . diagnostics . psalm } Defaults Filetypes: { \"php\" } Method: diagnostics Command: psalm Args: { \"--output-format=json\", \"--no-progress\", \"$FILENAME\" } puglint \u00a4 An unopinionated and configurable linter and style checker for Pug. local sources = { null_ls . builtins . diagnostics . puglint } Defaults Filetypes: { \"pug\" } Method: diagnostics Command: pug-lint Args: { \"--reporter=inline\", \"$FILENAME\" } puppet_lint \u00a4 Check that your Puppet manifest conforms to the style guide. local sources = { null_ls . builtins . diagnostics . puppet_lint } Defaults Filetypes: { \"puppet\", \"epuppet\" } Method: diagnostics Command: puppet-lint Args: { \"--json\", \"$FILENAME\" } pydocstyle \u00a4 pydocstyle is a static analysis tool for checking compliance with Python docstring conventions. local sources = { null_ls . builtins . diagnostics . pydocstyle } Defaults Filetypes: { \"python\" } Method: diagnostics Command: pydocstyle Args: { \"$FILENAME\" } Notes May fail to resolve config files. See the wiki for workarounds. pylama \u00a4 Code audit tool for Python. local sources = { null_ls . builtins . diagnostics . pylama } Defaults Filetypes: { \"python\" } Method: diagnostics Command: pylama Args: { \"--from-stdin\", \"$FILENAME\", \"-f\", \"json\" } pylint \u00a4 Pylint is a Python static code analysis tool which looks for programming errors, helps enforcing a coding standard, sniffs for code smells and offers simple refactoring suggestions. local sources = { null_ls . builtins . diagnostics . pylint } Defaults Filetypes: { \"python\" } Method: diagnostics Command: pylint Args: { \"--from-stdin\", \"$FILENAME\", \"-f\", \"json\" } pyproject_flake8 \u00a4 pyproject-flake8 is a flake8 wrapper to use with pyproject.toml configuration. local sources = { null_ls . builtins . diagnostics . pyproject_flake8 } Defaults Filetypes: { \"python\" } Method: diagnostics Command: pflake8 Args: { \"--format\", \"default\", \"--stdin-display-name\", \"$FILENAME\", \"-\" } qmllint \u00a4 qmllint is a tool shipped with Qt that verifies the syntatic validity of QML files. It also warns about some QML anti-patterns. local sources = { null_ls . builtins . diagnostics . qmllint } Defaults Filetypes: { \"qml\" } Method: diagnostics Command: qmllint Args: { \"$FILENAME\" } revive \u00a4 Fast, configurable, extensible, flexible, and beautiful linter for Go. local sources = { null_ls . builtins . diagnostics . revive } Defaults Filetypes: { \"go\" } Method: diagnostics_on_save Command: revive Args: { \"-formatter\", \"json\", \"./...\" } rpmspec \u00a4 Command line tool to parse RPM spec files. local sources = { null_ls . builtins . diagnostics . rpmspec } Defaults Filetypes: { \"spec\" } Method: diagnostics Command: rpmspec Args: { \"-P\", \"$FILENAME\" } rstcheck \u00a4 Checks syntax of reStructuredText and code blocks nested within it. local sources = { null_ls . builtins . diagnostics . rstcheck } Defaults Filetypes: { \"rst\" } Method: diagnostics_on_save Command: rstcheck Args: { \"-r\", \"$DIRNAME\" } rubocop \u00a4 The Ruby Linter/Formatter that Serves and Protects. local sources = { null_ls . builtins . diagnostics . rubocop } Defaults Filetypes: { \"ruby\" } Method: diagnostics Command: rubocop Args: { \"-f\", \"json\", \"--stdin\", \"$FILENAME\" } selene \u00a4 Command line tool designed to help write correct and idiomatic Lua code. local sources = { null_ls . builtins . diagnostics . selene } Defaults Filetypes: { \"lua\" } Method: diagnostics Command: selene Args: { \"--display-style\", \"quiet\", \"-\" } semgrep \u00a4 Semgrep is a fast, open-source, static analysis tool for finding bugs and enforcing code standards at editor, commit, and CI time. local sources = { null_ls . builtins . diagnostics . semgrep } Defaults Filetypes: { \"typescript\", \"typescriptreact\", \"ruby\", \"python\", \"java\", \"go\" } Method: diagnostics Command: semgrep Args: { \"-q\", \"--json\", \"$FILENAME\" } shellcheck \u00a4 A shell script static analysis tool. local sources = { null_ls . builtins . diagnostics . shellcheck } Defaults Filetypes: { \"sh\" } Method: diagnostics Command: shellcheck Args: { \"--format\", \"json1\", \"--source-path=$DIRNAME\", \"--external-sources\", \"-\" } standardjs \u00a4 JavaScript style guide, linter, and formatter. local sources = { null_ls . builtins . diagnostics . standardjs } Defaults Filetypes: { \"javascript\", \"javascriptreact\" } Method: diagnostics Command: standard Args: { \"--stdin\" } standardrb \u00a4 Ruby style guide, linter, and formatter. local sources = { null_ls . builtins . diagnostics . standardrb } Defaults Filetypes: { \"ruby\" } Method: diagnostics Command: standardrb Args: { \"--no-fix\", \"-f\", \"json\", \"--stdin\", \"$FILENAME\" } staticcheck \u00a4 Advanced Go linter. local sources = { null_ls . builtins . diagnostics . staticcheck } Defaults Filetypes: { \"go\" } Method: diagnostics_on_save Command: staticcheck Args: { \"-f\", \"json\", \"./...\" } statix \u00a4 Lints and suggestions for the Nix programming language. local sources = { null_ls . builtins . diagnostics . statix } Defaults Filetypes: { \"nix\" } Method: diagnostics Command: statix Args: { \"check\", \"--stdin\", \"--format=errfmt\" } stylelint \u00a4 A mighty, modern linter that helps you avoid errors and enforce conventions in your styles. local sources = { null_ls . builtins . diagnostics . stylelint } Defaults Filetypes: { \"scss\", \"less\", \"css\", \"sass\" } Method: diagnostics Command: stylelint Args: { \"--formatter\", \"json\", \"--stdin-filename\", \"$FILENAME\" } stylint \u00a4 A linter for the Stylus CSS preprocessor. local sources = { null_ls . builtins . diagnostics . stylint } Defaults Filetypes: { \"stylus\" } Method: diagnostics Command: stylint Args: { \"$FILENAME\" } teal \u00a4 The compiler for Teal, a typed dialect of Lua. local sources = { null_ls . builtins . diagnostics . teal } Defaults Filetypes: { \"teal\" } Method: diagnostics Command: tl Args: { \"check\", \"$FILENAME\" } textlint \u00a4 The pluggable linting tool for text and Markdown. local sources = { null_ls . builtins . diagnostics . textlint } Defaults Filetypes: {} Method: diagnostics Command: textlint Args: { \"-f\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" } tidy \u00a4 Tidy corrects and cleans up HTML and XML documents by fixing markup errors and upgrading legacy code to modern standards. local sources = { null_ls . builtins . diagnostics . tidy } Defaults Filetypes: { \"html\", \"xml\" } Method: diagnostics Command: tidy Args: dynamically resolved (see source ) trail_space \u00a4 Uses inbuilt Lua code to detect lines with trailing whitespace and show a diagnostic warning on each line where it's present. local sources = { null_ls . builtins . diagnostics . trail_space } Defaults Filetypes: {} Method: diagnostics tsc \u00a4 Parses diagnostics from the TypeScript compiler. local sources = { null_ls . builtins . diagnostics . tsc } Defaults Filetypes: { \"typescript\", \"typescriptreact\" } Method: diagnostics_on_save Command: tsc Args: { \"--pretty\", \"false\", \"--noEmit\" } twigcs \u00a4 Runs Twigcs against Twig files. local sources = { null_ls . builtins . diagnostics . twigcs } Defaults Filetypes: { \"twig\" } Method: diagnostics Command: twigcs Args: { \"--reporter\", \"json\", \"$FILENAME\" } vale \u00a4 Syntax-aware linter for prose built with speed and extensibility in mind. local sources = { null_ls . builtins . diagnostics . vale } Defaults Filetypes: { \"markdown\", \"tex\", \"asciidoc\" } Method: diagnostics Command: vale Args: dynamically resolved (see source ) Notes vale does not include a syntax by itself, so you probably need to grab a vale.ini (at ~/.vale.ini ) and a StylesPath (somewhere, pointed from vale.ini ) from the list of configurations . vint \u00a4 Linter for Vimscript. local sources = { null_ls . builtins . diagnostics . vint } Defaults Filetypes: { \"vim\" } Method: diagnostics Command: vint Args: { \"--style-problem\", \"--json\", \"$FILENAME\" } vulture \u00a4 Vulture finds unused code in Python programs. local sources = { null_ls . builtins . diagnostics . vulture } Defaults Filetypes: { \"python\" } Method: diagnostics Command: vulture Args: { \"$FILENAME\" } write_good \u00a4 English prose linter. local sources = { null_ls . builtins . diagnostics . write_good } Defaults Filetypes: { \"markdown\" } Method: diagnostics Command: write-good Args: { \"--text=$TEXT\", \"--parse\" } xo \u00a4 \u2764\ufe0f JavaScript/TypeScript linter (ESLint wrapper) with great defaults. local sources = { null_ls . builtins . diagnostics . xo } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\" } Method: diagnostics Command: xo Args: { \"--reporter\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" } yamllint \u00a4 A linter for YAML files. local sources = { null_ls . builtins . diagnostics . yamllint } Defaults Filetypes: { \"yaml\" } Method: diagnostics Command: yamllint Args: { \"--format\", \"parsable\", \"-\" } zsh \u00a4 Uses zsh's own -n option to evaluate, but not execute, zsh scripts. Effectively, this acts somewhat like a linter, although it only really checks for serious errors - and will likely only show the first error. local sources = { null_ls . builtins . diagnostics . zsh } Defaults Filetypes: { \"zsh\" } Method: diagnostics Command: zsh Args: { \"-n\", \"$FILENAME\" } Formatting \u00a4 asmfmt \u00a4 Format your assembler code in a similar way that gofmt formats your go code. local sources = { null_ls . builtins . formatting . asmfmt } Defaults Filetypes: { \"asm\" } Method: formatting Command: asmfmt astyle \u00a4 Artistic Style is a source code indenter, formatter, and beautifier for the C, C++, C++/CLI, Objective\u2011C, C# and Java programming languages. This formatter works well for Arduino project files and is the same formatter used in the Arduino IDE. local sources = { null_ls . builtins . formatting . astyle } Defaults Filetypes: { \"arduino\", \"c\", \"cpp\", \"cs\", \"java\" } Method: formatting Command: astyle Args: { \"--quiet\" } autopep8 \u00a4 A tool that automatically formats Python code to conform to the PEP 8 style guide. local sources = { null_ls . builtins . formatting . autopep8 } Defaults Filetypes: { \"python\" } Methods: formatting, range_formatting Command: autopep8 Args: dynamically resolved (see source ) bean_format \u00a4 This pure text processing tool will reformat beancount input to right-align all the numbers at the same, minimal column. local sources = { null_ls . builtins . formatting . bean_format } Defaults Filetypes: { \"beancount\" } Method: formatting Command: bean-format Notes It left-aligns all the currencies. It only modifies whitespace. black \u00a4 The uncompromising Python code formatter local sources = { null_ls . builtins . formatting . black } Defaults Filetypes: { \"python\" } Method: formatting Command: black Args: { \"--stdin-filename\", \"$FILENAME\", \"--quiet\", \"-\" } brittany \u00a4 haskell source code formatter local sources = { null_ls . builtins . formatting . brittany } Defaults Filetypes: { \"haskell\" } Method: formatting Command: brittany buildifier \u00a4 buildifier is a tool for formatting and linting bazel BUILD, WORKSPACE, and .bzl files. local sources = { null_ls . builtins . formatting . buildifier } Defaults Filetypes: { \"bzl\" } Method: formatting Command: buildifier Args: { \"-path=$FILENAME\" } cabal_fmt \u00a4 Format .cabal files preserving the original field ordering, and comments. local sources = { null_ls . builtins . formatting . cabal_fmt } Defaults Filetypes: { \"cabal\" } Method: formatting Command: cabal-fmt clang_format \u00a4 Tool to format C/C++/\u2026 code according to a set of rules and heuristics. local sources = { null_ls . builtins . formatting . clang_format } Defaults Filetypes: { \"c\", \"cpp\", \"cs\", \"java\" } Method: formatting Command: clang-format Args: { \"-assume-filename\", \"$FILENAME\" } cljstyle \u00a4 Formatter for Clojure code. local sources = { null_ls . builtins . formatting . cljstyle } Defaults Filetypes: { \"clojure\" } Method: formatting Command: cljstyle Args: { \"pipe\" } cmake_format \u00a4 Parse cmake listfiles and format them nicely. local sources = { null_ls . builtins . formatting . cmake_format } Defaults Filetypes: { \"cmake\" } Method: formatting Command: cmake-format Args: { \"-\" } codespell \u00a4 Fix common misspellings in text files. local sources = { null_ls . builtins . formatting . codespell } Defaults Filetypes: {} Method: formatting Command: codespell Args: { \"--write-changes\", \"$FILENAME\" } crystal_format \u00a4 A tool for automatically checking and correcting the style of code in a project. local sources = { null_ls . builtins . formatting . crystal_format } Defaults Filetypes: { \"crystal\" } Method: formatting Command: crystal Args: { \"tool\", \"format\" } cue_fmt \u00a4 A CUE language formatter. local sources = { null_ls . builtins . formatting . cue_fmt } Defaults Filetypes: { \"cue\" } Method: formatting Command: cue Args: { \"fmt\", \"$FILENAME\" } dart_format \u00a4 Replace the whitespace in your program with formatting that follows Dart guidelines. local sources = { null_ls . builtins . formatting . dart_format } Defaults Filetypes: { \"dart\" } Method: formatting Command: dart Args: { \"format\" } deno_fmt \u00a4 Use Deno to format TypeScript and JavaScript code. local sources = { null_ls . builtins . formatting . deno_fmt } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\" } Method: formatting Command: deno Args: { \"fmt\", \"-\" } dfmt \u00a4 Formatter for D source code. local sources = { null_ls . builtins . formatting . dfmt } Defaults Filetypes: { \"d\" } Method: formatting Command: dfmt djhtml \u00a4 A pure-Python Django/Jinja template indenter without dependencies. local sources = { null_ls . builtins . formatting . djhtml } Defaults Filetypes: { \"django\", \"jinja.html\", \"htmldjango\" } Method: formatting Command: djhtml djlint \u00a4 \u2728 \ud83d\udcdc \ud83e\ude84 \u2728 HTML Template Linter and Formatter. local sources = { null_ls . builtins . formatting . djlint } Defaults Filetypes: { \"django\", \"jinja.html\", \"htmldjango\" } Method: formatting Command: djlint Args: { \"--reformat\", \"-\" } elm_format \u00a4 elm-format formats Elm source code according to a standard set of rules based on the official Elm Style Guide . local sources = { null_ls . builtins . formatting . elm_format } Defaults Filetypes: { \"elm\" } Method: formatting Command: elm-format Args: { \"--stdin\" } erlfmt \u00a4 An opinionated Erlang code formatter. local sources = { null_ls . builtins . formatting . erlfmt } Defaults Filetypes: { \"erlang\" } Method: formatting Command: erlfmt Args: { \"-\" } eslint \u00a4 Find and fix problems in your JavaScript code. local sources = { null_ls . builtins . formatting . eslint } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\" } Method: formatting Command: eslint Args: { \"--fix-dry-run\", \"--format\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" } Notes Slow and not suitable for formatting on save. If at all possible, use eslint_d . eslint_d \u00a4 Makes eslint the fastest linter on the planet. local sources = { null_ls . builtins . formatting . eslint_d } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\" } Method: formatting Command: eslint_d Args: { \"--fix-to-stdout\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" } fish_indent \u00a4 Indent or otherwise prettify a piece of fish code. local sources = { null_ls . builtins . formatting . fish_indent } Defaults Filetypes: { \"fish\" } Method: formatting Command: fish_indent fixjson \u00a4 A JSON file fixer/formatter for humans using (relaxed) JSON5. local sources = { null_ls . builtins . formatting . fixjson } Defaults Filetypes: { \"json\" } Method: formatting Command: fixjson fnlfmt \u00a4 fnlfmt is a Fennel code formatter which follows established Lisp conventions when determining how to format a given piece of code. local sources = { null_ls . builtins . formatting . fnlfmt } Defaults Filetypes: { \"fennel\", \"fnl\" } Method: formatting Command: fnlfmt Args: { \"-\" } format_r \u00a4 Format R code automatically. local sources = { null_ls . builtins . formatting . format_r } Defaults Filetypes: { \"r\", \"rmd\" } Method: formatting Command: R Args: dynamically resolved (see source ) fourmolu \u00a4 Fourmolu is a formatter for Haskell source code. local sources = { null_ls . builtins . formatting . fourmolu } Defaults Filetypes: { \"haskell\" } Method: formatting Command: fourmolu fprettify \u00a4 fprettify is an auto-formatter for modern Fortran code that imposes strict whitespace formatting, written in Python. local sources = { null_ls . builtins . formatting . fprettify } Defaults Filetypes: { \"fortran\" } Method: formatting Command: fprettify Args: { \"--silent\" } gofmt \u00a4 Formats go programs. local sources = { null_ls . builtins . formatting . gofmt } Defaults Filetypes: { \"go\" } Method: formatting Command: gofmt Notes It uses tabs for indentation and blanks for alignment. Aligntment assumes that the editor is using a fixed-width font. gofumpt \u00a4 Enforce a stricter format than gofmt, while being backwards compatible. That is, gofumpt is happy with a subset of the formats that gofmt is happy with. local sources = { null_ls . builtins . formatting . gofumpt } Defaults Filetypes: { \"go\" } Method: formatting Command: gofumpt goimports \u00a4 Updates your Go import lines, adding missing ones and removing unreferenced ones. local sources = { null_ls . builtins . formatting . goimports } Defaults Filetypes: { \"go\" } Method: formatting Command: goimports Args: { \"-srcdir\", \"$DIRNAME\" } golines \u00a4 Applies a base formatter (eg. goimports or gofmt), then shortens long lines of code. local sources = { null_ls . builtins . formatting . golines } Defaults Filetypes: { \"go\" } Method: formatting Command: golines google_java_format \u00a4 Reformats Java source code according to Google Java Style. local sources = { null_ls . builtins . formatting . google_java_format } Defaults Filetypes: { \"java\" } Method: formatting Command: google-java-format Args: { \"-\" } isort \u00a4 Python utility / library to sort imports alphabetically and automatically separate them into sections and by type. local sources = { null_ls . builtins . formatting . isort } Defaults Filetypes: { \"python\" } Method: formatting Command: isort Args: { \"--stdout\", \"--filename\", \"$FILENAME\", \"-\" } joker \u00a4 joker is a small Clojure interpreter, linter and formatter written in Go. local sources = { null_ls . builtins . formatting . joker } Defaults Filetypes: { \"clj\" } Method: formatting Command: joker Args: { \"--format\", \"-\" } json_tool \u00a4 Provides a simple command line interface to validate and pretty-print JSON objects. local sources = { null_ls . builtins . formatting . json_tool } Defaults Filetypes: { \"json\" } Method: formatting Command: python Args: { \"-m\", \"json.tool\" } ktlint \u00a4 An anti-bikeshedding Kotlin linter with built-in formatter. local sources = { null_ls . builtins . formatting . ktlint } Defaults Filetypes: { \"kotlin\" } Method: formatting Command: ktlint Args: { \"--format\", \"--stdin\" } latexindent \u00a4 A perl script for formatting LaTeX files that is generally included in major TeX distributions. local sources = { null_ls . builtins . formatting . latexindent } Defaults Filetypes: { \"tex\" } Method: formatting Command: latexindent Args: { \"-\" } lua_format \u00a4 Reformats your Lua source code. local sources = { null_ls . builtins . formatting . lua_format } Defaults Filetypes: { \"lua\" } Method: formatting Command: lua-format Args: { \"-i\" } markdownlint \u00a4 A Node.js style checker and lint tool for Markdown/CommonMark files. local sources = { null_ls . builtins . formatting . markdownlint } Defaults Filetypes: { \"markdown\" } Method: formatting Command: markdownlint Args: { \"--fix\", \"$FILENAME\" } Notes Can fix some (but not all!) markdownlint issues. If possible, use Prettier , which can also fix Markdown files. mix \u00a4 Build tool that provides tasks for creating, compiling, and testing elixir projects, managing its dependencies, and more. local sources = { null_ls . builtins . formatting . mix } Defaults Filetypes: { \"elixir\" } Method: formatting Command: mix Args: { \"format\", \"-\" } nginx_beautifier \u00a4 Beautifies and formats nginx configuration files. local sources = { null_ls . builtins . formatting . nginx_beautifier } Defaults Filetypes: { \"nginx\" } Method: formatting Command: nginxbeautifier Args: { \"-i\", \"-o\", \"$FILENAME\" } nimpretty \u00a4 nimpretty is a Nim source code beautifier, to format code according to the official style guide. local sources = { null_ls . builtins . formatting . nimpretty } Defaults Filetypes: { \"nim\" } Method: formatting Command: nimpretty Args: { \"$FILENAME\" } nixfmt \u00a4 nixfmt is a formatter for Nix code, intended to apply a uniform style. local sources = { null_ls . builtins . formatting . nixfmt } Defaults Filetypes: { \"nix\" } Method: formatting Command: nixfmt nixpkgs_fmt \u00a4 nixpkgs-fmt is a Nix code formatter for nixpkgs. local sources = { null_ls . builtins . formatting . nixpkgs_fmt } Defaults Filetypes: { \"nix\" } Method: formatting Command: nixpkgs-fmt perltidy \u00a4 perl script which indents and reformats perl scripts to make them easier to read. If you write perl scripts, or spend much time reading them, you will probably find it useful. local sources = { null_ls . builtins . formatting . perltidy } Defaults Filetypes: { \"perl\" } Method: formatting Command: perltidy Args: { \"-q\" } pg_format \u00a4 PostgreSQL SQL syntax beautifier local sources = { null_ls . builtins . formatting . pg_format } Defaults Filetypes: { \"sql\", \"pgsql\" } Method: formatting Command: pg_format phpcbf \u00a4 Tokenizes PHP files and detects violations of a defined set of coding standards. local sources = { null_ls . builtins . formatting . phpcbf } Defaults Filetypes: { \"php\" } Method: formatting Command: phpcbf Args: { \"-q\", \"--stdin-path=$FILENAME\", \"-\" } phpcsfixer \u00a4 Formatter for php files. local sources = { null_ls . builtins . formatting . phpcsfixer } Defaults Filetypes: { \"php\" } Method: formatting Command: php-cs-fixer Args: { \"--no-interaction\", \"--quiet\", \"fix\", \"$FILENAME\" } prettier \u00a4 Prettier is an opinionated code formatter. It enforces a consistent style by parsing your code and re-printing it with its own rules that take the maximum line length into account, wrapping code when necessary. local sources = { null_ls . builtins . formatting . prettier } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\", \"css\", \"scss\", \"less\", \"html\", \"json\", \"jsonc\", \"yaml\", \"markdown\", \"graphql\", \"handlebars\" } Methods: formatting, range_formatting Command: prettier Args: dynamically resolved (see source ) Notes Supports more filetypes such as Svelte and TOML via plugins. These filetypes are not enabled by default, but you can follow the instructions here to define your own list of filetypes. To increase speed, you may want to try prettierd . You can also set up eslint-plugin-prettier and format via eslint_d . prettierd \u00a4 prettier, as a daemon, for ludicrous formatting speed. local sources = { null_ls . builtins . formatting . prettierd } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\", \"css\", \"scss\", \"less\", \"html\", \"json\", \"jsonc\", \"yaml\", \"markdown\", \"graphql\", \"handlebars\" } Method: formatting Command: prettierd Args: { \"$FILENAME\" } prettier_d_slim \u00a4 Makes prettier fast. local sources = { null_ls . builtins . formatting . prettier_d_slim } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\", \"css\", \"scss\", \"less\", \"html\", \"json\", \"jsonc\", \"yaml\", \"markdown\", \"graphql\", \"handlebars\" } Methods: formatting, range_formatting Command: prettier_d_slim Args: dynamically resolved (see source ) Notes May not work on some filetypes. prettierd is more stable and recommended. prettier_standard \u00a4 Formats with Prettier and lints with ESLint+Standard! (\u273f\u25e0\u203f\u25e0) local sources = { null_ls . builtins . formatting . prettier_standard } Defaults Filetypes: { \"javascript\", \"javascriptreact\" } Method: formatting Command: prettier-standard Args: { \"--stdin\" } prismaFmt \u00a4 Formatter for the prisma filetype. local sources = { null_ls . builtins . formatting . prismaFmt } Defaults Filetypes: { \"prisma\" } Method: formatting Command: prisma-fmt Args: { \"format\", \"-i\", \"$FILENAME\" } protolint \u00a4 A pluggable linter and fixer to enforce Protocol Buffer style and conventions. local sources = { null_ls . builtins . formatting . protolint } Defaults Filetypes: { \"proto\" } Method: formatting Command: protolint Args: { \"--fix\", \"$FILENAME\" } ptop \u00a4 The FPC Pascal configurable source beautifier. Name means 'Pascal-TO-Pascal'. local sources = { null_ls . builtins . formatting . ptop } Defaults Filetypes: { \"pascal\", \"delphi\" } Method: formatting Command: ptop Args: { \"$FILENAME\", \"$FILENAME\" } puppet_lint \u00a4 Check that your Puppet manifest conforms to the style guide local sources = { null_ls . builtins . formatting . puppet_lint } Defaults Filetypes: { \"puppet\", \"epuppet\" } Method: formatting Command: puppet-lint Args: { \"--fix\", \"$FILENAME\" } qmlformat \u00a4 qmlformat is a tool that automatically formats QML files according to the QML Coding Conventions. local sources = { null_ls . builtins . formatting . qmlformat } Defaults Filetypes: { \"qml\" } Method: formatting Command: qmlformat Args: { \"-i\", \"$FILENAME\" } raco_fmt \u00a4 The fmt package provides an extensible tool to format Racket code, using an expressive pretty printer library to compute the optimal layout. local sources = { null_ls . builtins . formatting . raco_fmt } Defaults Filetypes: { \"racket\" } Method: formatting Command: raco Args: { \"fmt\" } Notes Requires Racket 8.0 or later Install with raco pkg install fmt remark \u00a4 remark is an extensive and complex Markdown formatter/prettifier. local sources = { null_ls . builtins . formatting . remark } Defaults Filetypes: { \"markdown\" } Method: formatting Command: remark Args: { \"--no-color\", \"--silent\" } Notes Depends on remark-cli . reorder_python_imports \u00a4 Tool for automatically reordering python imports. Similar to isort but uses static analysis more. local sources = { null_ls . builtins . formatting . reorder_python_imports } Defaults Filetypes: { \"python\" } Method: formatting Command: reorder-python-imports Args: { \"-\", \"--exit-zero-even-if-changed\" } rescript \u00a4 The ReScript format builtin. local sources = { null_ls . builtins . formatting . rescript } Defaults Filetypes: { \"rescript\" } Method: formatting Command: rescript Args: dynamically resolved (see source ) rubocop \u00a4 Ruby static code analyzer and formatter, based on the community Ruby style guide. local sources = { null_ls . builtins . formatting . rubocop } Defaults Filetypes: { \"ruby\" } Method: formatting Command: rubocop Args: { \"--auto-correct\", \"-f\", \"quiet\", \"--stderr\", \"--stdin\", \"$FILENAME\" } rufo \u00a4 Opinionated ruby formatter. local sources = { null_ls . builtins . formatting . rufo } Defaults Filetypes: { \"ruby\" } Method: formatting Command: rufo Args: { \"-x\" } rustfmt \u00a4 A tool for formatting rust code according to style guidelines. local sources = { null_ls . builtins . formatting . rustfmt } Defaults Filetypes: { \"rust\" } Method: formatting Command: rustfmt Args: { \"--emit=stdout\" } Notes --edition defaults to 2015 . To set a different edition, use extra_args . See the wiki for other workarounds. rustywind \u00a4 CLI for organizing Tailwind CSS classes. local sources = { null_ls . builtins . formatting . rustywind } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\", \"svelte\", \"html\" } Method: formatting Command: rustywind Args: { \"--stdin\" } scalafmt \u00a4 Code formatter for Scala local sources = { null_ls . builtins . formatting . scalafmt } Defaults Filetypes: { \"scala\" } Method: formatting Command: scalafmt Args: { \"--stdin\" } shellharden \u00a4 Hardens shell scripts by quoting variables, replacing function_call with $(function_call) , and more. local sources = { null_ls . builtins . formatting . shellharden } Defaults Filetypes: { \"sh\" } Method: formatting Command: shellharden Args: { \"--transform\", \"\" } shfmt \u00a4 A shell parser, formatter, and interpreter with bash support. local sources = { null_ls . builtins . formatting . shfmt } Defaults Filetypes: { \"sh\" } Method: formatting Command: shfmt Args: { \"-filename\", \"$FILENAME\" } sqlformat \u00a4 The sqlformat command-line tool can reformat SQL files according to specified options. local sources = { null_ls . builtins . formatting . sqlformat } Defaults Filetypes: { \"sql\" } Method: formatting Command: sqlformat Args: { \"-\" } standardjs \u00a4 JavaScript Standard Style, a no-configuration automatic code formatter that just works. local sources = { null_ls . builtins . formatting . standardjs } Defaults Filetypes: { \"javascript\", \"javascriptreact\" } Method: formatting Command: standard Args: { \"--stdin\", \"--fix\" } standardrb \u00a4 Ruby Style Guide, with linter & automatic code fixer. Based on Rubocop. local sources = { null_ls . builtins . formatting . standardrb } Defaults Filetypes: { \"ruby\" } Method: formatting Command: standardrb Args: { \"--fix\", \"--format\", \"quiet\", \"--stderr\", \"--stdin\", \"$FILENAME\" } stylelint \u00a4 A mighty, modern linter that helps you avoid errors and enforce conventions in your styles. local sources = { null_ls . builtins . formatting . stylelint } Defaults Filetypes: { \"scss\", \"less\", \"css\", \"sass\" } Method: formatting Command: stylelint Args: { \"--fix\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" } styler \u00a4 Non-invasive pretty printing of R code. local sources = { null_ls . builtins . formatting . styler } Defaults Filetypes: { \"r\", \"rmd\" } Method: formatting Command: R Args: dynamically resolved (see source ) stylua \u00a4 An opinionated code formatter for Lua. local sources = { null_ls . builtins . formatting . stylua } Defaults Filetypes: { \"lua\" } Methods: formatting, range_formatting Command: stylua Args: dynamically resolved (see source ) surface \u00a4 A code formatter for Surface, the server-side rendering component library for Phoenix. local sources = { null_ls . builtins . formatting . surface } Defaults Filetypes: { \"elixir\", \"surface\" } Method: formatting Command: mix Args: { \"surface.format\", \"-\" } swiftformat \u00a4 SwiftFormat is a code library and command-line tool for reformatting swift code on macOS or Linux. local sources = { null_ls . builtins . formatting . swiftformat } Defaults Filetypes: { \"swift\" } Method: formatting Command: swiftformat taplo \u00a4 A versatile, feature-rich TOML toolkit. local sources = { null_ls . builtins . formatting . taplo } Defaults Filetypes: { \"toml\" } Method: formatting Command: taplo Args: { \"format\", \"-\" } terrafmt \u00a4 The terrafmt command formats terraform blocks embedded in Markdown files. local sources = { null_ls . builtins . formatting . terrafmt } Defaults Filetypes: { \"markdown\" } Method: formatting Command: terrafmt Args: { \"fmt\", \"$FILENAME\" } terraform_fmt \u00a4 The terraform-fmt command rewrites terraform configuration files to a canonical format and style. local sources = { null_ls . builtins . formatting . terraform_fmt } Defaults Filetypes: { \"terraform\", \"tf\" } Method: formatting Command: terraform Args: { \"fmt\", \"-\" } tidy \u00a4 Tidy corrects and cleans up HTML and XML documents by fixing markup errors and upgrading legacy code to modern standards. local sources = { null_ls . builtins . formatting . tidy } Defaults Filetypes: { \"html\", \"xml\" } Method: formatting Command: tidy Args: { \"--tidy-mark\", \"no\", \"-quiet\", \"-indent\", \"-wrap\", \"-\" } trim_newlines \u00a4 A simple wrapper around awk to remove trailing newlines. local sources = { null_ls . builtins . formatting . trim_newlines } Defaults Filetypes: {} Method: formatting Command: awk Args: { 'NF{print s $0; s=\"\"; next} {s=s ORS}' } trim_whitespace \u00a4 A simple wrapper around awk to remove trailing whitespace. local sources = { null_ls . builtins . formatting . trim_whitespace } Defaults Filetypes: {} Method: formatting Command: awk Args: { '{ sub(/[ \\t]+$/, \"\"); print }' } uncrustify \u00a4 A source code beautifier for C, C++, C#, ObjectiveC, D, Java, Pawn and Vala. local sources = { null_ls . builtins . formatting . uncrustify } Defaults Filetypes: { \"c\", \"cpp\", \"cs\", \"java\" } Method: formatting Command: uncrustify Args: dynamically resolved (see source ) xmllint \u00a4 Despite the name, xmllint can be used to format XML files as well as lint them, and that's the mode this builtin is using. local sources = { null_ls . builtins . formatting . xmllint } Defaults Filetypes: { \"xml\" } Method: formatting Command: xmllint Args: { \"--format\", \"-\" } yapf \u00a4 Formatter for Python. local sources = { null_ls . builtins . formatting . yapf } Defaults Filetypes: { \"python\" } Methods: formatting, range_formatting Command: yapf Args: dynamically resolved (see source ) zigfmt \u00a4 Reformat Zig source into canonical form. local sources = { null_ls . builtins . formatting . zigfmt } Defaults Filetypes: { \"zig\" } Method: formatting Command: zig Args: { \"fmt\", \"--stdin\" } Hover \u00a4 dictionary \u00a4 Shows the first available definition for the current word under the cursor. local sources = { null_ls . builtins . hover . dictionary } Defaults Filetypes: { \"text\", \"markdown\" } Method: hover Notes Depends on Plenary's curl module, which itself depends on having curl installed and available on your $PATH . typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"AstroVimLspBuiltins"},{"location":"ll/vim/astro_vim_null_ls_builtins/#built-in-lsp-sources","text":"[2022-03-21 17;13] gk: I've put this here w/o sub headers, in order to have a better overview and search. This is an automatically generated list of all null-ls built-in sources (source: https://github.com/jose-elias-alvarez/null-ls.nvim/blob/main/doc/BUILTINS.md ) I've See BUILTIN_CONFIG to learn how to set up and configure these sources.","title":"Built-in LSP Sources"},{"location":"ll/vim/astro_vim_null_ls_builtins/#code-actions","text":"","title":"Code Actions"},{"location":"ll/vim/astro_vim_null_ls_builtins/#eslint","text":"Injects actions to fix ESLint issues or ignore broken rules. local sources = { null_ls . builtins . code_actions . eslint } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\" } Method: code_action Command: eslint Args: { \"-f\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" }","title":"eslint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#eslint_d","text":"Injects actions to fix ESLint issues or ignore broken rules. Like ESLint, but faster. local sources = { null_ls . builtins . code_actions . eslint_d } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\" } Method: code_action Command: eslint_d Args: { \"-f\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" }","title":"eslint_d"},{"location":"ll/vim/astro_vim_null_ls_builtins/#gitrebase","text":"Injects actions to change gitrebase command (e.g. using squash instead of pick ). local sources = { null_ls . builtins . code_actions . gitrebase } Defaults Filetypes: { \"gitrebase\" } Method: code_action","title":"gitrebase"},{"location":"ll/vim/astro_vim_null_ls_builtins/#gitsigns","text":"Injects code actions for Git operations at the current cursor position (stage / preview / reset hunks, blame, etc.). local sources = { null_ls . builtins . code_actions . gitsigns } Defaults Filetypes: {} Method: code_action","title":"gitsigns"},{"location":"ll/vim/astro_vim_null_ls_builtins/#proselint","text":"An English prose linter. Can fix some issues via code actions. local sources = { null_ls . builtins . code_actions . proselint } Defaults Filetypes: { \"markdown\", \"tex\" } Method: code_action Command: proselint Args: { \"--json\" }","title":"proselint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#refactoring","text":"The Refactoring library based off the Refactoring book by Martin Fowler. local sources = { null_ls . builtins . code_actions . refactoring } Defaults Filetypes: { \"go\", \"javascript\", \"lua\", \"python\", \"typescript\" } Method: code_action Notes Requires visually selecting the code you want to refactor and calling :'<,'>lua vim.lsp.buf.range_code_action() (for the default handler) or :'<,'>Telescope lsp_range_code_actions (for Telescope).","title":"refactoring"},{"location":"ll/vim/astro_vim_null_ls_builtins/#shellcheck","text":"Provides actions to disable ShellCheck errors/warnings, either for the current line or for the entire file. local sources = { null_ls . builtins . code_actions . shellcheck } Defaults Filetypes: { \"sh\" } Method: code_action Command: shellcheck Args: { \"--format\", \"json1\", \"--source-path=$DIRNAME\", \"--external-sources\", \"-\" } Notes Running the action to disable a rule for the current line adds a disable directive above the line or appends the rule to an existing disable directive for that line. Running the action to disable a rule for the current file adds a disable directive at the top of the file or appends the rule to an existing file disable directive. The first non-comment line in a script is not eligible for a line-level disable directive. See shellcheck#1877 .","title":"shellcheck"},{"location":"ll/vim/astro_vim_null_ls_builtins/#statix","text":"Lints and suggestions for the nix programming language. local sources = { null_ls . builtins . code_actions . statix } Defaults Filetypes: { \"nix\" } Method: code_action Command: statix Args: { \"check\", \"--stdin\", \"--format=json\" }","title":"statix"},{"location":"ll/vim/astro_vim_null_ls_builtins/#xo","text":"\u2764\ufe0f JavaScript/TypeScript linter (ESLint wrapper) with great defaults local sources = { null_ls . builtins . code_actions . xo } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\" } Method: code_action Command: xo Args: { \"--reporter\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" }","title":"xo"},{"location":"ll/vim/astro_vim_null_ls_builtins/#completion","text":"","title":"Completion"},{"location":"ll/vim/astro_vim_null_ls_builtins/#luasnip","text":"Snippet engine for Neovim, written in Lua. local sources = { null_ls . builtins . completion . luasnip } Defaults Filetypes: {} Method: completion Notes Registering this source will show available snippets in the completion list, but luasnip is in charge of expanding them. Consult luasnip's documentation to set up keymaps for expansion and jumping.","title":"luasnip"},{"location":"ll/vim/astro_vim_null_ls_builtins/#spell","text":"Spell suggestions completion source. local sources = { null_ls . builtins . completion . spell } Defaults Filetypes: {} Method: completion","title":"spell"},{"location":"ll/vim/astro_vim_null_ls_builtins/#tags","text":"Tags completion source. local sources = { null_ls . builtins . completion . tags } Defaults Filetypes: {} Method: completion","title":"tags"},{"location":"ll/vim/astro_vim_null_ls_builtins/#vsnip","text":"Snippets managed by vim-vsnip. local sources = { null_ls . builtins . completion . vsnip } Defaults Filetypes: {} Method: completion Notes Registering this source will show available snippets in the completion list, but vim-vsnip is in charge of expanding them. See vim-vsnip's documentation for setup instructions.","title":"vsnip"},{"location":"ll/vim/astro_vim_null_ls_builtins/#diagnostics","text":"","title":"Diagnostics"},{"location":"ll/vim/astro_vim_null_ls_builtins/#actionlint","text":"Actionlint is a static checker for GitHub Actions workflow files. local sources = { null_ls . builtins . diagnostics . actionlint } Defaults Filetypes: { \"yaml\" } Method: diagnostics Command: actionlint Args: { \"-no-color\", \"-format\", \"{{json .}}\", \"-\" }","title":"actionlint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#alex","text":"Catch insensitive, inconsiderate writing. local sources = { null_ls . builtins . diagnostics . alex } Defaults Filetypes: { \"markdown\" } Method: diagnostics Command: alex Args: { \"--stdin\", \"--quiet\" }","title":"alex"},{"location":"ll/vim/astro_vim_null_ls_builtins/#ansiblelint","text":"Linter for Ansible playbooks, roles and collections. local sources = { null_ls . builtins . diagnostics . ansiblelint } Defaults Filetypes: { \"yaml.ansible\" } Method: diagnostics Command: ansible-lint Args: { \"-f\", \"codeclimate\", \"-q\", \"--nocolor\", \"$FILENAME\" }","title":"ansiblelint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#buildifier","text":"buildifier is a tool for formatting and linting bazel BUILD, WORKSPACE, and .bzl files. local sources = { null_ls . builtins . diagnostics . buildifier } Defaults Filetypes: { \"bzl\" } Method: diagnostics Command: buildifier Args: { \"-mode=check\", \"-lint=warn\", \"-format=json\", \"-path=$FILENAME\" }","title":"buildifier"},{"location":"ll/vim/astro_vim_null_ls_builtins/#checkmake","text":"make linter. local sources = { null_ls . builtins . diagnostics . checkmake } Defaults Filetypes: { \"make\" } Method: diagnostics Command: checkmake Args: { \"--format='{{.LineNumber}}:{{.Rule}}:{{.Violation}}'\", \"$FILENAME\" }","title":"checkmake"},{"location":"ll/vim/astro_vim_null_ls_builtins/#chktex","text":"latex semantic linter. local sources = { null_ls . builtins . diagnostics . chktex } Defaults Filetypes: { \"tex\" } Method: diagnostics Command: chktex Args: { \"-q\", \"-f%l:%c:%d:%k:%n:%m\\n\" }","title":"chktex"},{"location":"ll/vim/astro_vim_null_ls_builtins/#codespell","text":"Codespell finds common misspellings in text files. local sources = { null_ls . builtins . diagnostics . codespell } Defaults Filetypes: {} Method: diagnostics Command: codespell Args: { \"-\" }","title":"codespell"},{"location":"ll/vim/astro_vim_null_ls_builtins/#cppcheck","text":"A tool for fast static analysis of C/C++ code. local sources = { null_ls . builtins . diagnostics . cppcheck } Defaults Filetypes: { \"cpp\", \"c\" } Method: diagnostics Command: cppcheck Args: { \"--enable=warning,style,performance,portability\", \"--template=gcc\", \"$FILENAME\" }","title":"cppcheck"},{"location":"ll/vim/astro_vim_null_ls_builtins/#credo","text":"Static analysis of elixir files for enforcing code consistency. local sources = { null_ls . builtins . diagnostics . credo } Defaults Filetypes: { \"elixir\" } Method: diagnostics Command: mix Args: { \"credo\", \"suggest\", \"--format\", \"json\", \"--read-from-stdin\", \"$FILENAME\" } Notes Searches upwards from the buffer to the project root and tries to find the first .credo.exs file in case the project has nested credo configs.","title":"credo"},{"location":"ll/vim/astro_vim_null_ls_builtins/#cspell","text":"cspell is a spell checker for code. local sources = { null_ls . builtins . diagnostics . cspell } Defaults Filetypes: {} Method: diagnostics Command: cspell Args: dynamically resolved (see source )","title":"cspell"},{"location":"ll/vim/astro_vim_null_ls_builtins/#cue_fmt","text":"Reports on formatting errors in .cue language files. local sources = { null_ls . builtins . diagnostics . cue_fmt } Defaults Filetypes: { \"cue\" } Method: diagnostics Command: cue Args: { \"fmt\", \"$FILENAME\" }","title":"cue_fmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#curlylint","text":"Experimental HTML templates linting for Jinja, Nunjucks, Django templates, Twig, and Liquid. local sources = { null_ls . builtins . diagnostics . curlylint } Defaults Filetypes: { \"jinja.html\", \"htmldjango\" } Method: diagnostics Command: curlylint Args: { \"--quiet\", \"-\", \"--format\", \"json\", \"--stdin-filepath\", \"$FILENAME\" }","title":"curlylint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#deadnix","text":"Scan Nix files for dead code. local sources = { null_ls . builtins . diagnostics . deadnix } Defaults Filetypes: { \"nix\" } Method: diagnostics Command: deadnix Args: { \"--output-format=json\", \"$FILENAME\" }","title":"deadnix"},{"location":"ll/vim/astro_vim_null_ls_builtins/#djlint","text":"\u2728 \ud83d\udcdc \ud83e\ude84 \u2728 HTML Template Linter and Formatter. local sources = { null_ls . builtins . diagnostics . djlint } Defaults Filetypes: { \"django\", \"jinja.html\", \"htmldjango\" } Method: diagnostics Command: djlint Args: { \"$FILENAME\" }","title":"djlint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#editorconfig_checker","text":"A tool to verify that your files are in harmony with your .editorconfig . local sources = { null_ls . builtins . diagnostics . editorconfig_checker } Defaults Filetypes: {} Method: diagnostics Command: ec Args: { \"-no-color\", \"$FILENAME\" }","title":"editorconfig_checker"},{"location":"ll/vim/astro_vim_null_ls_builtins/#eslint_1","text":"A linter for the JavaScript ecosystem. local sources = { null_ls . builtins . diagnostics . eslint } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\" } Method: diagnostics Command: eslint Args: { \"-f\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" }","title":"eslint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#eslint_d_1","text":"Like ESLint, but faster. local sources = { null_ls . builtins . diagnostics . eslint_d } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\" } Method: diagnostics Command: eslint_d Args: { \"-f\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" }","title":"eslint_d"},{"location":"ll/vim/astro_vim_null_ls_builtins/#flake8","text":"flake8 is a python tool that glues together pycodestyle, pyflakes, mccabe, and third-party plugins to check the style and quality of Python code. local sources = { null_ls . builtins . diagnostics . flake8 } Defaults Filetypes: { \"python\" } Method: diagnostics Command: flake8 Args: { \"--format\", \"default\", \"--stdin-display-name\", \"$FILENAME\", \"-\" }","title":"flake8"},{"location":"ll/vim/astro_vim_null_ls_builtins/#gccdiag","text":"gccdiag is a wrapper for any C/C++ compiler (gcc, avr-gcc, arm-none-eabi-gcc, etc) that automatically uses the correct compiler arguments for a file in your project by parsing the compile_commands.json file at the root of your project. local sources = { null_ls . builtins . diagnostics . gccdiag } Defaults Filetypes: { \"c\", \"cpp\" } Method: diagnostics_on_save Command: gccdiag Args: { \"--default-args\", \"-S -x $FILEEXT\", \"-i\", \"-fdiagnostics-color\", \"--\", \"$FILENAME\" }","title":"gccdiag"},{"location":"ll/vim/astro_vim_null_ls_builtins/#gitlint","text":"Linter for Git commit messages. local sources = { null_ls . builtins . diagnostics . gitlint } Defaults Filetypes: { \"gitcommit\" } Method: diagnostics Command: gitlint Args: { \"--msg-filename\", \"$FILENAME\" }","title":"gitlint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#golangci_lint","text":"A Go linter aggregator. local sources = { null_ls . builtins . diagnostics . golangci_lint } Defaults Filetypes: { \"go\" } Method: diagnostics_on_save Command: golangci-lint Args: { \"run\", \"--fix=false\", \"--fast\", \"--out-format=json\", \"$DIRNAME\", \"--path-prefix\", \"$ROOT\" }","title":"golangci_lint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#hadolint","text":"A smarter Dockerfile linter that helps you build best practice Docker images. local sources = { null_ls . builtins . diagnostics . hadolint } Defaults Filetypes: { \"dockerfile\" } Method: diagnostics Command: hadolint Args: { \"--no-fail\", \"--format=json\", \"$FILENAME\" }","title":"hadolint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#haml_lint","text":"Tool for writing clean and consistent HAML. local sources = { null_ls . builtins . diagnostics . haml_lint } Defaults Filetypes: { \"haml\" } Method: diagnostics Command: haml-lint Args: { \"--reporter\", \"json\", \"$FILENAME\" }","title":"haml_lint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#jsonlint","text":"A pure JavaScript version of the service provided at jsonlint.com. local sources = { null_ls . builtins . diagnostics . jsonlint } Defaults Filetypes: { \"json\" } Method: diagnostics Command: jsonlint Args: { \"--compact\" }","title":"jsonlint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#ktlint","text":"An anti-bikeshedding Kotlin linter with built-in formatter. local sources = { null_ls . builtins . diagnostics . ktlint } Defaults Filetypes: { \"kotlin\" } Method: diagnostics_on_save Command: ktlint Args: { \"--relative\", \"--reporter=json\" }","title":"ktlint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#luacheck","text":"A tool for linting and static analysis of Lua code. local sources = { null_ls . builtins . diagnostics . luacheck } Defaults Filetypes: { \"lua\" } Method: diagnostics Command: luacheck Args: { \"--formatter\", \"plain\", \"--codes\", \"--ranges\", \"--filename\", \"$FILENAME\", \"-\" }","title":"luacheck"},{"location":"ll/vim/astro_vim_null_ls_builtins/#markdownlint","text":"Markdown style and syntax checker. local sources = { null_ls . builtins . diagnostics . markdownlint } Defaults Filetypes: { \"markdown\" } Method: diagnostics Command: markdownlint Args: { \"--stdin\" }","title":"markdownlint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#mdl","text":"A tool to check Markdown files and flag style issues. local sources = { null_ls . builtins . diagnostics . mdl } Defaults Filetypes: { \"markdown\" } Method: diagnostics Command: mdl Args: { \"--json\" }","title":"mdl"},{"location":"ll/vim/astro_vim_null_ls_builtins/#misspell","text":"Checks commonly misspelled English words in source files. local sources = { null_ls . builtins . diagnostics . misspell } Defaults Filetypes: {} Method: diagnostics Command: misspell","title":"misspell"},{"location":"ll/vim/astro_vim_null_ls_builtins/#mlint","text":"Linter for MATLAB files local sources = { null_ls . builtins . diagnostics . mlint } Defaults Filetypes: { \"matlab\" } Method: diagnostics_on_save Command: mlint Args: { \"$FILENAME\" }","title":"mlint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#mypy","text":"Mypy is an optional static type checker for Python that aims to combine the benefits of dynamic (or \"duck\") typing and static typing. local sources = { null_ls . builtins . diagnostics . mypy } Defaults Filetypes: { \"python\" } Method: diagnostics Command: mypy Args: dynamically resolved (see source )","title":"mypy"},{"location":"ll/vim/astro_vim_null_ls_builtins/#php","text":"Uses the php command-line tool's built in -l flag to check for syntax errors. local sources = { null_ls . builtins . diagnostics . php } Defaults Filetypes: { \"php\" } Method: diagnostics Command: php Args: { \"-l\", \"-d\", \"display_errors=STDERR\", \"-d\", \" log_errors=Off\" }","title":"php"},{"location":"ll/vim/astro_vim_null_ls_builtins/#phpcs","text":"PHP_CodeSniffer is a script that tokenizes PHP, JavaScript and CSS files to detect violations of a defined coding standard. local sources = { null_ls . builtins . diagnostics . phpcs } Defaults Filetypes: { \"php\" } Method: diagnostics Command: phpcs Args: { \"--report=json\", \"-q\", \"-s\", \"--runtime-set\", \"ignore_warnings_on_exit\", \"1\", \"--runtime-set\", \"ignore_errors_on_exit\", \"1\", \"-\" }","title":"phpcs"},{"location":"ll/vim/astro_vim_null_ls_builtins/#phpmd","text":"Runs PHP Mess Detector against PHP files. local sources = { null_ls . builtins . diagnostics . phpmd } Defaults Filetypes: { \"php\" } Method: diagnostics Command: phpmd Args: { \"$FILENAME\", \"json\" }","title":"phpmd"},{"location":"ll/vim/astro_vim_null_ls_builtins/#phpstan","text":"PHP static analysis tool. local sources = { null_ls . builtins . diagnostics . phpstan } Defaults Filetypes: { \"php\" } Method: diagnostics Command: phpstan Args: { \"analyze\", \"--error-format\", \"json\", \"--no-progress\", \"$FILENAME\" } Notes Requires a valid phpstan.neon at root.","title":"phpstan"},{"location":"ll/vim/astro_vim_null_ls_builtins/#proselint_1","text":"An English prose linter. local sources = { null_ls . builtins . diagnostics . proselint } Defaults Filetypes: { \"markdown\", \"tex\" } Method: diagnostics Command: proselint Args: { \"--json\" }","title":"proselint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#protoc_gen_lint","text":"A plug-in for Google's Protocol Buffers (protobufs) compiler to lint .proto files for style violations. local sources = { null_ls . builtins . diagnostics . protoc_gen_lint } Defaults Filetypes: { \"proto\" } Method: diagnostics Command: protoc Args: { \"--lint_out\", \"$FILENAME\", \"-I\", \"/tmp\", \"$FILENAME\" }","title":"protoc_gen_lint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#protolint","text":"A pluggable linter and fixer to enforce Protocol Buffer style and conventions. local sources = { null_ls . builtins . diagnostics . protolint } Defaults Filetypes: { \"proto\" } Method: diagnostics Command: protolint Args: { \"--reporter\", \"json\", \"$FILENAME\" }","title":"protolint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#psalm","text":"A static analysis tool for finding errors in PHP applications. local sources = { null_ls . builtins . diagnostics . psalm } Defaults Filetypes: { \"php\" } Method: diagnostics Command: psalm Args: { \"--output-format=json\", \"--no-progress\", \"$FILENAME\" }","title":"psalm"},{"location":"ll/vim/astro_vim_null_ls_builtins/#puglint","text":"An unopinionated and configurable linter and style checker for Pug. local sources = { null_ls . builtins . diagnostics . puglint } Defaults Filetypes: { \"pug\" } Method: diagnostics Command: pug-lint Args: { \"--reporter=inline\", \"$FILENAME\" }","title":"puglint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#puppet_lint","text":"Check that your Puppet manifest conforms to the style guide. local sources = { null_ls . builtins . diagnostics . puppet_lint } Defaults Filetypes: { \"puppet\", \"epuppet\" } Method: diagnostics Command: puppet-lint Args: { \"--json\", \"$FILENAME\" }","title":"puppet_lint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#pydocstyle","text":"pydocstyle is a static analysis tool for checking compliance with Python docstring conventions. local sources = { null_ls . builtins . diagnostics . pydocstyle } Defaults Filetypes: { \"python\" } Method: diagnostics Command: pydocstyle Args: { \"$FILENAME\" } Notes May fail to resolve config files. See the wiki for workarounds.","title":"pydocstyle"},{"location":"ll/vim/astro_vim_null_ls_builtins/#pylama","text":"Code audit tool for Python. local sources = { null_ls . builtins . diagnostics . pylama } Defaults Filetypes: { \"python\" } Method: diagnostics Command: pylama Args: { \"--from-stdin\", \"$FILENAME\", \"-f\", \"json\" }","title":"pylama"},{"location":"ll/vim/astro_vim_null_ls_builtins/#pylint","text":"Pylint is a Python static code analysis tool which looks for programming errors, helps enforcing a coding standard, sniffs for code smells and offers simple refactoring suggestions. local sources = { null_ls . builtins . diagnostics . pylint } Defaults Filetypes: { \"python\" } Method: diagnostics Command: pylint Args: { \"--from-stdin\", \"$FILENAME\", \"-f\", \"json\" }","title":"pylint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#pyproject_flake8","text":"pyproject-flake8 is a flake8 wrapper to use with pyproject.toml configuration. local sources = { null_ls . builtins . diagnostics . pyproject_flake8 } Defaults Filetypes: { \"python\" } Method: diagnostics Command: pflake8 Args: { \"--format\", \"default\", \"--stdin-display-name\", \"$FILENAME\", \"-\" }","title":"pyproject_flake8"},{"location":"ll/vim/astro_vim_null_ls_builtins/#qmllint","text":"qmllint is a tool shipped with Qt that verifies the syntatic validity of QML files. It also warns about some QML anti-patterns. local sources = { null_ls . builtins . diagnostics . qmllint } Defaults Filetypes: { \"qml\" } Method: diagnostics Command: qmllint Args: { \"$FILENAME\" }","title":"qmllint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#revive","text":"Fast, configurable, extensible, flexible, and beautiful linter for Go. local sources = { null_ls . builtins . diagnostics . revive } Defaults Filetypes: { \"go\" } Method: diagnostics_on_save Command: revive Args: { \"-formatter\", \"json\", \"./...\" }","title":"revive"},{"location":"ll/vim/astro_vim_null_ls_builtins/#rpmspec","text":"Command line tool to parse RPM spec files. local sources = { null_ls . builtins . diagnostics . rpmspec } Defaults Filetypes: { \"spec\" } Method: diagnostics Command: rpmspec Args: { \"-P\", \"$FILENAME\" }","title":"rpmspec"},{"location":"ll/vim/astro_vim_null_ls_builtins/#rstcheck","text":"Checks syntax of reStructuredText and code blocks nested within it. local sources = { null_ls . builtins . diagnostics . rstcheck } Defaults Filetypes: { \"rst\" } Method: diagnostics_on_save Command: rstcheck Args: { \"-r\", \"$DIRNAME\" }","title":"rstcheck"},{"location":"ll/vim/astro_vim_null_ls_builtins/#rubocop","text":"The Ruby Linter/Formatter that Serves and Protects. local sources = { null_ls . builtins . diagnostics . rubocop } Defaults Filetypes: { \"ruby\" } Method: diagnostics Command: rubocop Args: { \"-f\", \"json\", \"--stdin\", \"$FILENAME\" }","title":"rubocop"},{"location":"ll/vim/astro_vim_null_ls_builtins/#selene","text":"Command line tool designed to help write correct and idiomatic Lua code. local sources = { null_ls . builtins . diagnostics . selene } Defaults Filetypes: { \"lua\" } Method: diagnostics Command: selene Args: { \"--display-style\", \"quiet\", \"-\" }","title":"selene"},{"location":"ll/vim/astro_vim_null_ls_builtins/#semgrep","text":"Semgrep is a fast, open-source, static analysis tool for finding bugs and enforcing code standards at editor, commit, and CI time. local sources = { null_ls . builtins . diagnostics . semgrep } Defaults Filetypes: { \"typescript\", \"typescriptreact\", \"ruby\", \"python\", \"java\", \"go\" } Method: diagnostics Command: semgrep Args: { \"-q\", \"--json\", \"$FILENAME\" }","title":"semgrep"},{"location":"ll/vim/astro_vim_null_ls_builtins/#shellcheck_1","text":"A shell script static analysis tool. local sources = { null_ls . builtins . diagnostics . shellcheck } Defaults Filetypes: { \"sh\" } Method: diagnostics Command: shellcheck Args: { \"--format\", \"json1\", \"--source-path=$DIRNAME\", \"--external-sources\", \"-\" }","title":"shellcheck"},{"location":"ll/vim/astro_vim_null_ls_builtins/#standardjs","text":"JavaScript style guide, linter, and formatter. local sources = { null_ls . builtins . diagnostics . standardjs } Defaults Filetypes: { \"javascript\", \"javascriptreact\" } Method: diagnostics Command: standard Args: { \"--stdin\" }","title":"standardjs"},{"location":"ll/vim/astro_vim_null_ls_builtins/#standardrb","text":"Ruby style guide, linter, and formatter. local sources = { null_ls . builtins . diagnostics . standardrb } Defaults Filetypes: { \"ruby\" } Method: diagnostics Command: standardrb Args: { \"--no-fix\", \"-f\", \"json\", \"--stdin\", \"$FILENAME\" }","title":"standardrb"},{"location":"ll/vim/astro_vim_null_ls_builtins/#staticcheck","text":"Advanced Go linter. local sources = { null_ls . builtins . diagnostics . staticcheck } Defaults Filetypes: { \"go\" } Method: diagnostics_on_save Command: staticcheck Args: { \"-f\", \"json\", \"./...\" }","title":"staticcheck"},{"location":"ll/vim/astro_vim_null_ls_builtins/#statix_1","text":"Lints and suggestions for the Nix programming language. local sources = { null_ls . builtins . diagnostics . statix } Defaults Filetypes: { \"nix\" } Method: diagnostics Command: statix Args: { \"check\", \"--stdin\", \"--format=errfmt\" }","title":"statix"},{"location":"ll/vim/astro_vim_null_ls_builtins/#stylelint","text":"A mighty, modern linter that helps you avoid errors and enforce conventions in your styles. local sources = { null_ls . builtins . diagnostics . stylelint } Defaults Filetypes: { \"scss\", \"less\", \"css\", \"sass\" } Method: diagnostics Command: stylelint Args: { \"--formatter\", \"json\", \"--stdin-filename\", \"$FILENAME\" }","title":"stylelint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#stylint","text":"A linter for the Stylus CSS preprocessor. local sources = { null_ls . builtins . diagnostics . stylint } Defaults Filetypes: { \"stylus\" } Method: diagnostics Command: stylint Args: { \"$FILENAME\" }","title":"stylint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#teal","text":"The compiler for Teal, a typed dialect of Lua. local sources = { null_ls . builtins . diagnostics . teal } Defaults Filetypes: { \"teal\" } Method: diagnostics Command: tl Args: { \"check\", \"$FILENAME\" }","title":"teal"},{"location":"ll/vim/astro_vim_null_ls_builtins/#textlint","text":"The pluggable linting tool for text and Markdown. local sources = { null_ls . builtins . diagnostics . textlint } Defaults Filetypes: {} Method: diagnostics Command: textlint Args: { \"-f\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" }","title":"textlint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#tidy","text":"Tidy corrects and cleans up HTML and XML documents by fixing markup errors and upgrading legacy code to modern standards. local sources = { null_ls . builtins . diagnostics . tidy } Defaults Filetypes: { \"html\", \"xml\" } Method: diagnostics Command: tidy Args: dynamically resolved (see source )","title":"tidy"},{"location":"ll/vim/astro_vim_null_ls_builtins/#trail_space","text":"Uses inbuilt Lua code to detect lines with trailing whitespace and show a diagnostic warning on each line where it's present. local sources = { null_ls . builtins . diagnostics . trail_space } Defaults Filetypes: {} Method: diagnostics","title":"trail_space"},{"location":"ll/vim/astro_vim_null_ls_builtins/#tsc","text":"Parses diagnostics from the TypeScript compiler. local sources = { null_ls . builtins . diagnostics . tsc } Defaults Filetypes: { \"typescript\", \"typescriptreact\" } Method: diagnostics_on_save Command: tsc Args: { \"--pretty\", \"false\", \"--noEmit\" }","title":"tsc"},{"location":"ll/vim/astro_vim_null_ls_builtins/#twigcs","text":"Runs Twigcs against Twig files. local sources = { null_ls . builtins . diagnostics . twigcs } Defaults Filetypes: { \"twig\" } Method: diagnostics Command: twigcs Args: { \"--reporter\", \"json\", \"$FILENAME\" }","title":"twigcs"},{"location":"ll/vim/astro_vim_null_ls_builtins/#vale","text":"Syntax-aware linter for prose built with speed and extensibility in mind. local sources = { null_ls . builtins . diagnostics . vale } Defaults Filetypes: { \"markdown\", \"tex\", \"asciidoc\" } Method: diagnostics Command: vale Args: dynamically resolved (see source ) Notes vale does not include a syntax by itself, so you probably need to grab a vale.ini (at ~/.vale.ini ) and a StylesPath (somewhere, pointed from vale.ini ) from the list of configurations .","title":"vale"},{"location":"ll/vim/astro_vim_null_ls_builtins/#vint","text":"Linter for Vimscript. local sources = { null_ls . builtins . diagnostics . vint } Defaults Filetypes: { \"vim\" } Method: diagnostics Command: vint Args: { \"--style-problem\", \"--json\", \"$FILENAME\" }","title":"vint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#vulture","text":"Vulture finds unused code in Python programs. local sources = { null_ls . builtins . diagnostics . vulture } Defaults Filetypes: { \"python\" } Method: diagnostics Command: vulture Args: { \"$FILENAME\" }","title":"vulture"},{"location":"ll/vim/astro_vim_null_ls_builtins/#write_good","text":"English prose linter. local sources = { null_ls . builtins . diagnostics . write_good } Defaults Filetypes: { \"markdown\" } Method: diagnostics Command: write-good Args: { \"--text=$TEXT\", \"--parse\" }","title":"write_good"},{"location":"ll/vim/astro_vim_null_ls_builtins/#xo_1","text":"\u2764\ufe0f JavaScript/TypeScript linter (ESLint wrapper) with great defaults. local sources = { null_ls . builtins . diagnostics . xo } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\" } Method: diagnostics Command: xo Args: { \"--reporter\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" }","title":"xo"},{"location":"ll/vim/astro_vim_null_ls_builtins/#yamllint","text":"A linter for YAML files. local sources = { null_ls . builtins . diagnostics . yamllint } Defaults Filetypes: { \"yaml\" } Method: diagnostics Command: yamllint Args: { \"--format\", \"parsable\", \"-\" }","title":"yamllint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#zsh","text":"Uses zsh's own -n option to evaluate, but not execute, zsh scripts. Effectively, this acts somewhat like a linter, although it only really checks for serious errors - and will likely only show the first error. local sources = { null_ls . builtins . diagnostics . zsh } Defaults Filetypes: { \"zsh\" } Method: diagnostics Command: zsh Args: { \"-n\", \"$FILENAME\" }","title":"zsh"},{"location":"ll/vim/astro_vim_null_ls_builtins/#formatting","text":"","title":"Formatting"},{"location":"ll/vim/astro_vim_null_ls_builtins/#asmfmt","text":"Format your assembler code in a similar way that gofmt formats your go code. local sources = { null_ls . builtins . formatting . asmfmt } Defaults Filetypes: { \"asm\" } Method: formatting Command: asmfmt","title":"asmfmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#astyle","text":"Artistic Style is a source code indenter, formatter, and beautifier for the C, C++, C++/CLI, Objective\u2011C, C# and Java programming languages. This formatter works well for Arduino project files and is the same formatter used in the Arduino IDE. local sources = { null_ls . builtins . formatting . astyle } Defaults Filetypes: { \"arduino\", \"c\", \"cpp\", \"cs\", \"java\" } Method: formatting Command: astyle Args: { \"--quiet\" }","title":"astyle"},{"location":"ll/vim/astro_vim_null_ls_builtins/#autopep8","text":"A tool that automatically formats Python code to conform to the PEP 8 style guide. local sources = { null_ls . builtins . formatting . autopep8 } Defaults Filetypes: { \"python\" } Methods: formatting, range_formatting Command: autopep8 Args: dynamically resolved (see source )","title":"autopep8"},{"location":"ll/vim/astro_vim_null_ls_builtins/#bean_format","text":"This pure text processing tool will reformat beancount input to right-align all the numbers at the same, minimal column. local sources = { null_ls . builtins . formatting . bean_format } Defaults Filetypes: { \"beancount\" } Method: formatting Command: bean-format Notes It left-aligns all the currencies. It only modifies whitespace.","title":"bean_format"},{"location":"ll/vim/astro_vim_null_ls_builtins/#black","text":"The uncompromising Python code formatter local sources = { null_ls . builtins . formatting . black } Defaults Filetypes: { \"python\" } Method: formatting Command: black Args: { \"--stdin-filename\", \"$FILENAME\", \"--quiet\", \"-\" }","title":"black"},{"location":"ll/vim/astro_vim_null_ls_builtins/#brittany","text":"haskell source code formatter local sources = { null_ls . builtins . formatting . brittany } Defaults Filetypes: { \"haskell\" } Method: formatting Command: brittany","title":"brittany"},{"location":"ll/vim/astro_vim_null_ls_builtins/#buildifier_1","text":"buildifier is a tool for formatting and linting bazel BUILD, WORKSPACE, and .bzl files. local sources = { null_ls . builtins . formatting . buildifier } Defaults Filetypes: { \"bzl\" } Method: formatting Command: buildifier Args: { \"-path=$FILENAME\" }","title":"buildifier"},{"location":"ll/vim/astro_vim_null_ls_builtins/#cabal_fmt","text":"Format .cabal files preserving the original field ordering, and comments. local sources = { null_ls . builtins . formatting . cabal_fmt } Defaults Filetypes: { \"cabal\" } Method: formatting Command: cabal-fmt","title":"cabal_fmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#clang_format","text":"Tool to format C/C++/\u2026 code according to a set of rules and heuristics. local sources = { null_ls . builtins . formatting . clang_format } Defaults Filetypes: { \"c\", \"cpp\", \"cs\", \"java\" } Method: formatting Command: clang-format Args: { \"-assume-filename\", \"$FILENAME\" }","title":"clang_format"},{"location":"ll/vim/astro_vim_null_ls_builtins/#cljstyle","text":"Formatter for Clojure code. local sources = { null_ls . builtins . formatting . cljstyle } Defaults Filetypes: { \"clojure\" } Method: formatting Command: cljstyle Args: { \"pipe\" }","title":"cljstyle"},{"location":"ll/vim/astro_vim_null_ls_builtins/#cmake_format","text":"Parse cmake listfiles and format them nicely. local sources = { null_ls . builtins . formatting . cmake_format } Defaults Filetypes: { \"cmake\" } Method: formatting Command: cmake-format Args: { \"-\" }","title":"cmake_format"},{"location":"ll/vim/astro_vim_null_ls_builtins/#codespell_1","text":"Fix common misspellings in text files. local sources = { null_ls . builtins . formatting . codespell } Defaults Filetypes: {} Method: formatting Command: codespell Args: { \"--write-changes\", \"$FILENAME\" }","title":"codespell"},{"location":"ll/vim/astro_vim_null_ls_builtins/#crystal_format","text":"A tool for automatically checking and correcting the style of code in a project. local sources = { null_ls . builtins . formatting . crystal_format } Defaults Filetypes: { \"crystal\" } Method: formatting Command: crystal Args: { \"tool\", \"format\" }","title":"crystal_format"},{"location":"ll/vim/astro_vim_null_ls_builtins/#cue_fmt_1","text":"A CUE language formatter. local sources = { null_ls . builtins . formatting . cue_fmt } Defaults Filetypes: { \"cue\" } Method: formatting Command: cue Args: { \"fmt\", \"$FILENAME\" }","title":"cue_fmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#dart_format","text":"Replace the whitespace in your program with formatting that follows Dart guidelines. local sources = { null_ls . builtins . formatting . dart_format } Defaults Filetypes: { \"dart\" } Method: formatting Command: dart Args: { \"format\" }","title":"dart_format"},{"location":"ll/vim/astro_vim_null_ls_builtins/#deno_fmt","text":"Use Deno to format TypeScript and JavaScript code. local sources = { null_ls . builtins . formatting . deno_fmt } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\" } Method: formatting Command: deno Args: { \"fmt\", \"-\" }","title":"deno_fmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#dfmt","text":"Formatter for D source code. local sources = { null_ls . builtins . formatting . dfmt } Defaults Filetypes: { \"d\" } Method: formatting Command: dfmt","title":"dfmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#djhtml","text":"A pure-Python Django/Jinja template indenter without dependencies. local sources = { null_ls . builtins . formatting . djhtml } Defaults Filetypes: { \"django\", \"jinja.html\", \"htmldjango\" } Method: formatting Command: djhtml","title":"djhtml"},{"location":"ll/vim/astro_vim_null_ls_builtins/#djlint_1","text":"\u2728 \ud83d\udcdc \ud83e\ude84 \u2728 HTML Template Linter and Formatter. local sources = { null_ls . builtins . formatting . djlint } Defaults Filetypes: { \"django\", \"jinja.html\", \"htmldjango\" } Method: formatting Command: djlint Args: { \"--reformat\", \"-\" }","title":"djlint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#elm_format","text":"elm-format formats Elm source code according to a standard set of rules based on the official Elm Style Guide . local sources = { null_ls . builtins . formatting . elm_format } Defaults Filetypes: { \"elm\" } Method: formatting Command: elm-format Args: { \"--stdin\" }","title":"elm_format"},{"location":"ll/vim/astro_vim_null_ls_builtins/#erlfmt","text":"An opinionated Erlang code formatter. local sources = { null_ls . builtins . formatting . erlfmt } Defaults Filetypes: { \"erlang\" } Method: formatting Command: erlfmt Args: { \"-\" }","title":"erlfmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#eslint_2","text":"Find and fix problems in your JavaScript code. local sources = { null_ls . builtins . formatting . eslint } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\" } Method: formatting Command: eslint Args: { \"--fix-dry-run\", \"--format\", \"json\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" } Notes Slow and not suitable for formatting on save. If at all possible, use eslint_d .","title":"eslint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#eslint_d_2","text":"Makes eslint the fastest linter on the planet. local sources = { null_ls . builtins . formatting . eslint_d } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\" } Method: formatting Command: eslint_d Args: { \"--fix-to-stdout\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" }","title":"eslint_d"},{"location":"ll/vim/astro_vim_null_ls_builtins/#fish_indent","text":"Indent or otherwise prettify a piece of fish code. local sources = { null_ls . builtins . formatting . fish_indent } Defaults Filetypes: { \"fish\" } Method: formatting Command: fish_indent","title":"fish_indent"},{"location":"ll/vim/astro_vim_null_ls_builtins/#fixjson","text":"A JSON file fixer/formatter for humans using (relaxed) JSON5. local sources = { null_ls . builtins . formatting . fixjson } Defaults Filetypes: { \"json\" } Method: formatting Command: fixjson","title":"fixjson"},{"location":"ll/vim/astro_vim_null_ls_builtins/#fnlfmt","text":"fnlfmt is a Fennel code formatter which follows established Lisp conventions when determining how to format a given piece of code. local sources = { null_ls . builtins . formatting . fnlfmt } Defaults Filetypes: { \"fennel\", \"fnl\" } Method: formatting Command: fnlfmt Args: { \"-\" }","title":"fnlfmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#format_r","text":"Format R code automatically. local sources = { null_ls . builtins . formatting . format_r } Defaults Filetypes: { \"r\", \"rmd\" } Method: formatting Command: R Args: dynamically resolved (see source )","title":"format_r"},{"location":"ll/vim/astro_vim_null_ls_builtins/#fourmolu","text":"Fourmolu is a formatter for Haskell source code. local sources = { null_ls . builtins . formatting . fourmolu } Defaults Filetypes: { \"haskell\" } Method: formatting Command: fourmolu","title":"fourmolu"},{"location":"ll/vim/astro_vim_null_ls_builtins/#fprettify","text":"fprettify is an auto-formatter for modern Fortran code that imposes strict whitespace formatting, written in Python. local sources = { null_ls . builtins . formatting . fprettify } Defaults Filetypes: { \"fortran\" } Method: formatting Command: fprettify Args: { \"--silent\" }","title":"fprettify"},{"location":"ll/vim/astro_vim_null_ls_builtins/#gofmt","text":"Formats go programs. local sources = { null_ls . builtins . formatting . gofmt } Defaults Filetypes: { \"go\" } Method: formatting Command: gofmt Notes It uses tabs for indentation and blanks for alignment. Aligntment assumes that the editor is using a fixed-width font.","title":"gofmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#gofumpt","text":"Enforce a stricter format than gofmt, while being backwards compatible. That is, gofumpt is happy with a subset of the formats that gofmt is happy with. local sources = { null_ls . builtins . formatting . gofumpt } Defaults Filetypes: { \"go\" } Method: formatting Command: gofumpt","title":"gofumpt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#goimports","text":"Updates your Go import lines, adding missing ones and removing unreferenced ones. local sources = { null_ls . builtins . formatting . goimports } Defaults Filetypes: { \"go\" } Method: formatting Command: goimports Args: { \"-srcdir\", \"$DIRNAME\" }","title":"goimports"},{"location":"ll/vim/astro_vim_null_ls_builtins/#golines","text":"Applies a base formatter (eg. goimports or gofmt), then shortens long lines of code. local sources = { null_ls . builtins . formatting . golines } Defaults Filetypes: { \"go\" } Method: formatting Command: golines","title":"golines"},{"location":"ll/vim/astro_vim_null_ls_builtins/#google_java_format","text":"Reformats Java source code according to Google Java Style. local sources = { null_ls . builtins . formatting . google_java_format } Defaults Filetypes: { \"java\" } Method: formatting Command: google-java-format Args: { \"-\" }","title":"google_java_format"},{"location":"ll/vim/astro_vim_null_ls_builtins/#isort","text":"Python utility / library to sort imports alphabetically and automatically separate them into sections and by type. local sources = { null_ls . builtins . formatting . isort } Defaults Filetypes: { \"python\" } Method: formatting Command: isort Args: { \"--stdout\", \"--filename\", \"$FILENAME\", \"-\" }","title":"isort"},{"location":"ll/vim/astro_vim_null_ls_builtins/#joker","text":"joker is a small Clojure interpreter, linter and formatter written in Go. local sources = { null_ls . builtins . formatting . joker } Defaults Filetypes: { \"clj\" } Method: formatting Command: joker Args: { \"--format\", \"-\" }","title":"joker"},{"location":"ll/vim/astro_vim_null_ls_builtins/#json_tool","text":"Provides a simple command line interface to validate and pretty-print JSON objects. local sources = { null_ls . builtins . formatting . json_tool } Defaults Filetypes: { \"json\" } Method: formatting Command: python Args: { \"-m\", \"json.tool\" }","title":"json_tool"},{"location":"ll/vim/astro_vim_null_ls_builtins/#ktlint_1","text":"An anti-bikeshedding Kotlin linter with built-in formatter. local sources = { null_ls . builtins . formatting . ktlint } Defaults Filetypes: { \"kotlin\" } Method: formatting Command: ktlint Args: { \"--format\", \"--stdin\" }","title":"ktlint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#latexindent","text":"A perl script for formatting LaTeX files that is generally included in major TeX distributions. local sources = { null_ls . builtins . formatting . latexindent } Defaults Filetypes: { \"tex\" } Method: formatting Command: latexindent Args: { \"-\" }","title":"latexindent"},{"location":"ll/vim/astro_vim_null_ls_builtins/#lua_format","text":"Reformats your Lua source code. local sources = { null_ls . builtins . formatting . lua_format } Defaults Filetypes: { \"lua\" } Method: formatting Command: lua-format Args: { \"-i\" }","title":"lua_format"},{"location":"ll/vim/astro_vim_null_ls_builtins/#markdownlint_1","text":"A Node.js style checker and lint tool for Markdown/CommonMark files. local sources = { null_ls . builtins . formatting . markdownlint } Defaults Filetypes: { \"markdown\" } Method: formatting Command: markdownlint Args: { \"--fix\", \"$FILENAME\" } Notes Can fix some (but not all!) markdownlint issues. If possible, use Prettier , which can also fix Markdown files.","title":"markdownlint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#mix","text":"Build tool that provides tasks for creating, compiling, and testing elixir projects, managing its dependencies, and more. local sources = { null_ls . builtins . formatting . mix } Defaults Filetypes: { \"elixir\" } Method: formatting Command: mix Args: { \"format\", \"-\" }","title":"mix"},{"location":"ll/vim/astro_vim_null_ls_builtins/#nginx_beautifier","text":"Beautifies and formats nginx configuration files. local sources = { null_ls . builtins . formatting . nginx_beautifier } Defaults Filetypes: { \"nginx\" } Method: formatting Command: nginxbeautifier Args: { \"-i\", \"-o\", \"$FILENAME\" }","title":"nginx_beautifier"},{"location":"ll/vim/astro_vim_null_ls_builtins/#nimpretty","text":"nimpretty is a Nim source code beautifier, to format code according to the official style guide. local sources = { null_ls . builtins . formatting . nimpretty } Defaults Filetypes: { \"nim\" } Method: formatting Command: nimpretty Args: { \"$FILENAME\" }","title":"nimpretty"},{"location":"ll/vim/astro_vim_null_ls_builtins/#nixfmt","text":"nixfmt is a formatter for Nix code, intended to apply a uniform style. local sources = { null_ls . builtins . formatting . nixfmt } Defaults Filetypes: { \"nix\" } Method: formatting Command: nixfmt","title":"nixfmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#nixpkgs_fmt","text":"nixpkgs-fmt is a Nix code formatter for nixpkgs. local sources = { null_ls . builtins . formatting . nixpkgs_fmt } Defaults Filetypes: { \"nix\" } Method: formatting Command: nixpkgs-fmt","title":"nixpkgs_fmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#perltidy","text":"perl script which indents and reformats perl scripts to make them easier to read. If you write perl scripts, or spend much time reading them, you will probably find it useful. local sources = { null_ls . builtins . formatting . perltidy } Defaults Filetypes: { \"perl\" } Method: formatting Command: perltidy Args: { \"-q\" }","title":"perltidy"},{"location":"ll/vim/astro_vim_null_ls_builtins/#pg_format","text":"PostgreSQL SQL syntax beautifier local sources = { null_ls . builtins . formatting . pg_format } Defaults Filetypes: { \"sql\", \"pgsql\" } Method: formatting Command: pg_format","title":"pg_format"},{"location":"ll/vim/astro_vim_null_ls_builtins/#phpcbf","text":"Tokenizes PHP files and detects violations of a defined set of coding standards. local sources = { null_ls . builtins . formatting . phpcbf } Defaults Filetypes: { \"php\" } Method: formatting Command: phpcbf Args: { \"-q\", \"--stdin-path=$FILENAME\", \"-\" }","title":"phpcbf"},{"location":"ll/vim/astro_vim_null_ls_builtins/#phpcsfixer","text":"Formatter for php files. local sources = { null_ls . builtins . formatting . phpcsfixer } Defaults Filetypes: { \"php\" } Method: formatting Command: php-cs-fixer Args: { \"--no-interaction\", \"--quiet\", \"fix\", \"$FILENAME\" }","title":"phpcsfixer"},{"location":"ll/vim/astro_vim_null_ls_builtins/#prettier","text":"Prettier is an opinionated code formatter. It enforces a consistent style by parsing your code and re-printing it with its own rules that take the maximum line length into account, wrapping code when necessary. local sources = { null_ls . builtins . formatting . prettier } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\", \"css\", \"scss\", \"less\", \"html\", \"json\", \"jsonc\", \"yaml\", \"markdown\", \"graphql\", \"handlebars\" } Methods: formatting, range_formatting Command: prettier Args: dynamically resolved (see source ) Notes Supports more filetypes such as Svelte and TOML via plugins. These filetypes are not enabled by default, but you can follow the instructions here to define your own list of filetypes. To increase speed, you may want to try prettierd . You can also set up eslint-plugin-prettier and format via eslint_d .","title":"prettier"},{"location":"ll/vim/astro_vim_null_ls_builtins/#prettierd","text":"prettier, as a daemon, for ludicrous formatting speed. local sources = { null_ls . builtins . formatting . prettierd } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\", \"css\", \"scss\", \"less\", \"html\", \"json\", \"jsonc\", \"yaml\", \"markdown\", \"graphql\", \"handlebars\" } Method: formatting Command: prettierd Args: { \"$FILENAME\" }","title":"prettierd"},{"location":"ll/vim/astro_vim_null_ls_builtins/#prettier_d_slim","text":"Makes prettier fast. local sources = { null_ls . builtins . formatting . prettier_d_slim } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\", \"css\", \"scss\", \"less\", \"html\", \"json\", \"jsonc\", \"yaml\", \"markdown\", \"graphql\", \"handlebars\" } Methods: formatting, range_formatting Command: prettier_d_slim Args: dynamically resolved (see source ) Notes May not work on some filetypes. prettierd is more stable and recommended.","title":"prettier_d_slim"},{"location":"ll/vim/astro_vim_null_ls_builtins/#prettier_standard","text":"Formats with Prettier and lints with ESLint+Standard! (\u273f\u25e0\u203f\u25e0) local sources = { null_ls . builtins . formatting . prettier_standard } Defaults Filetypes: { \"javascript\", \"javascriptreact\" } Method: formatting Command: prettier-standard Args: { \"--stdin\" }","title":"prettier_standard"},{"location":"ll/vim/astro_vim_null_ls_builtins/#prismafmt","text":"Formatter for the prisma filetype. local sources = { null_ls . builtins . formatting . prismaFmt } Defaults Filetypes: { \"prisma\" } Method: formatting Command: prisma-fmt Args: { \"format\", \"-i\", \"$FILENAME\" }","title":"prismaFmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#protolint_1","text":"A pluggable linter and fixer to enforce Protocol Buffer style and conventions. local sources = { null_ls . builtins . formatting . protolint } Defaults Filetypes: { \"proto\" } Method: formatting Command: protolint Args: { \"--fix\", \"$FILENAME\" }","title":"protolint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#ptop","text":"The FPC Pascal configurable source beautifier. Name means 'Pascal-TO-Pascal'. local sources = { null_ls . builtins . formatting . ptop } Defaults Filetypes: { \"pascal\", \"delphi\" } Method: formatting Command: ptop Args: { \"$FILENAME\", \"$FILENAME\" }","title":"ptop"},{"location":"ll/vim/astro_vim_null_ls_builtins/#puppet_lint_1","text":"Check that your Puppet manifest conforms to the style guide local sources = { null_ls . builtins . formatting . puppet_lint } Defaults Filetypes: { \"puppet\", \"epuppet\" } Method: formatting Command: puppet-lint Args: { \"--fix\", \"$FILENAME\" }","title":"puppet_lint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#qmlformat","text":"qmlformat is a tool that automatically formats QML files according to the QML Coding Conventions. local sources = { null_ls . builtins . formatting . qmlformat } Defaults Filetypes: { \"qml\" } Method: formatting Command: qmlformat Args: { \"-i\", \"$FILENAME\" }","title":"qmlformat"},{"location":"ll/vim/astro_vim_null_ls_builtins/#raco_fmt","text":"The fmt package provides an extensible tool to format Racket code, using an expressive pretty printer library to compute the optimal layout. local sources = { null_ls . builtins . formatting . raco_fmt } Defaults Filetypes: { \"racket\" } Method: formatting Command: raco Args: { \"fmt\" } Notes Requires Racket 8.0 or later Install with raco pkg install fmt","title":"raco_fmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#remark","text":"remark is an extensive and complex Markdown formatter/prettifier. local sources = { null_ls . builtins . formatting . remark } Defaults Filetypes: { \"markdown\" } Method: formatting Command: remark Args: { \"--no-color\", \"--silent\" } Notes Depends on remark-cli .","title":"remark"},{"location":"ll/vim/astro_vim_null_ls_builtins/#reorder_python_imports","text":"Tool for automatically reordering python imports. Similar to isort but uses static analysis more. local sources = { null_ls . builtins . formatting . reorder_python_imports } Defaults Filetypes: { \"python\" } Method: formatting Command: reorder-python-imports Args: { \"-\", \"--exit-zero-even-if-changed\" }","title":"reorder_python_imports"},{"location":"ll/vim/astro_vim_null_ls_builtins/#rescript","text":"The ReScript format builtin. local sources = { null_ls . builtins . formatting . rescript } Defaults Filetypes: { \"rescript\" } Method: formatting Command: rescript Args: dynamically resolved (see source )","title":"rescript"},{"location":"ll/vim/astro_vim_null_ls_builtins/#rubocop_1","text":"Ruby static code analyzer and formatter, based on the community Ruby style guide. local sources = { null_ls . builtins . formatting . rubocop } Defaults Filetypes: { \"ruby\" } Method: formatting Command: rubocop Args: { \"--auto-correct\", \"-f\", \"quiet\", \"--stderr\", \"--stdin\", \"$FILENAME\" }","title":"rubocop"},{"location":"ll/vim/astro_vim_null_ls_builtins/#rufo","text":"Opinionated ruby formatter. local sources = { null_ls . builtins . formatting . rufo } Defaults Filetypes: { \"ruby\" } Method: formatting Command: rufo Args: { \"-x\" }","title":"rufo"},{"location":"ll/vim/astro_vim_null_ls_builtins/#rustfmt","text":"A tool for formatting rust code according to style guidelines. local sources = { null_ls . builtins . formatting . rustfmt } Defaults Filetypes: { \"rust\" } Method: formatting Command: rustfmt Args: { \"--emit=stdout\" } Notes --edition defaults to 2015 . To set a different edition, use extra_args . See the wiki for other workarounds.","title":"rustfmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#rustywind","text":"CLI for organizing Tailwind CSS classes. local sources = { null_ls . builtins . formatting . rustywind } Defaults Filetypes: { \"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\", \"vue\", \"svelte\", \"html\" } Method: formatting Command: rustywind Args: { \"--stdin\" }","title":"rustywind"},{"location":"ll/vim/astro_vim_null_ls_builtins/#scalafmt","text":"Code formatter for Scala local sources = { null_ls . builtins . formatting . scalafmt } Defaults Filetypes: { \"scala\" } Method: formatting Command: scalafmt Args: { \"--stdin\" }","title":"scalafmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#shellharden","text":"Hardens shell scripts by quoting variables, replacing function_call with $(function_call) , and more. local sources = { null_ls . builtins . formatting . shellharden } Defaults Filetypes: { \"sh\" } Method: formatting Command: shellharden Args: { \"--transform\", \"\" }","title":"shellharden"},{"location":"ll/vim/astro_vim_null_ls_builtins/#shfmt","text":"A shell parser, formatter, and interpreter with bash support. local sources = { null_ls . builtins . formatting . shfmt } Defaults Filetypes: { \"sh\" } Method: formatting Command: shfmt Args: { \"-filename\", \"$FILENAME\" }","title":"shfmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#sqlformat","text":"The sqlformat command-line tool can reformat SQL files according to specified options. local sources = { null_ls . builtins . formatting . sqlformat } Defaults Filetypes: { \"sql\" } Method: formatting Command: sqlformat Args: { \"-\" }","title":"sqlformat"},{"location":"ll/vim/astro_vim_null_ls_builtins/#standardjs_1","text":"JavaScript Standard Style, a no-configuration automatic code formatter that just works. local sources = { null_ls . builtins . formatting . standardjs } Defaults Filetypes: { \"javascript\", \"javascriptreact\" } Method: formatting Command: standard Args: { \"--stdin\", \"--fix\" }","title":"standardjs"},{"location":"ll/vim/astro_vim_null_ls_builtins/#standardrb_1","text":"Ruby Style Guide, with linter & automatic code fixer. Based on Rubocop. local sources = { null_ls . builtins . formatting . standardrb } Defaults Filetypes: { \"ruby\" } Method: formatting Command: standardrb Args: { \"--fix\", \"--format\", \"quiet\", \"--stderr\", \"--stdin\", \"$FILENAME\" }","title":"standardrb"},{"location":"ll/vim/astro_vim_null_ls_builtins/#stylelint_1","text":"A mighty, modern linter that helps you avoid errors and enforce conventions in your styles. local sources = { null_ls . builtins . formatting . stylelint } Defaults Filetypes: { \"scss\", \"less\", \"css\", \"sass\" } Method: formatting Command: stylelint Args: { \"--fix\", \"--stdin\", \"--stdin-filename\", \"$FILENAME\" }","title":"stylelint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#styler","text":"Non-invasive pretty printing of R code. local sources = { null_ls . builtins . formatting . styler } Defaults Filetypes: { \"r\", \"rmd\" } Method: formatting Command: R Args: dynamically resolved (see source )","title":"styler"},{"location":"ll/vim/astro_vim_null_ls_builtins/#stylua","text":"An opinionated code formatter for Lua. local sources = { null_ls . builtins . formatting . stylua } Defaults Filetypes: { \"lua\" } Methods: formatting, range_formatting Command: stylua Args: dynamically resolved (see source )","title":"stylua"},{"location":"ll/vim/astro_vim_null_ls_builtins/#surface","text":"A code formatter for Surface, the server-side rendering component library for Phoenix. local sources = { null_ls . builtins . formatting . surface } Defaults Filetypes: { \"elixir\", \"surface\" } Method: formatting Command: mix Args: { \"surface.format\", \"-\" }","title":"surface"},{"location":"ll/vim/astro_vim_null_ls_builtins/#swiftformat","text":"SwiftFormat is a code library and command-line tool for reformatting swift code on macOS or Linux. local sources = { null_ls . builtins . formatting . swiftformat } Defaults Filetypes: { \"swift\" } Method: formatting Command: swiftformat","title":"swiftformat"},{"location":"ll/vim/astro_vim_null_ls_builtins/#taplo","text":"A versatile, feature-rich TOML toolkit. local sources = { null_ls . builtins . formatting . taplo } Defaults Filetypes: { \"toml\" } Method: formatting Command: taplo Args: { \"format\", \"-\" }","title":"taplo"},{"location":"ll/vim/astro_vim_null_ls_builtins/#terrafmt","text":"The terrafmt command formats terraform blocks embedded in Markdown files. local sources = { null_ls . builtins . formatting . terrafmt } Defaults Filetypes: { \"markdown\" } Method: formatting Command: terrafmt Args: { \"fmt\", \"$FILENAME\" }","title":"terrafmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#terraform_fmt","text":"The terraform-fmt command rewrites terraform configuration files to a canonical format and style. local sources = { null_ls . builtins . formatting . terraform_fmt } Defaults Filetypes: { \"terraform\", \"tf\" } Method: formatting Command: terraform Args: { \"fmt\", \"-\" }","title":"terraform_fmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#tidy_1","text":"Tidy corrects and cleans up HTML and XML documents by fixing markup errors and upgrading legacy code to modern standards. local sources = { null_ls . builtins . formatting . tidy } Defaults Filetypes: { \"html\", \"xml\" } Method: formatting Command: tidy Args: { \"--tidy-mark\", \"no\", \"-quiet\", \"-indent\", \"-wrap\", \"-\" }","title":"tidy"},{"location":"ll/vim/astro_vim_null_ls_builtins/#trim_newlines","text":"A simple wrapper around awk to remove trailing newlines. local sources = { null_ls . builtins . formatting . trim_newlines } Defaults Filetypes: {} Method: formatting Command: awk Args: { 'NF{print s $0; s=\"\"; next} {s=s ORS}' }","title":"trim_newlines"},{"location":"ll/vim/astro_vim_null_ls_builtins/#trim_whitespace","text":"A simple wrapper around awk to remove trailing whitespace. local sources = { null_ls . builtins . formatting . trim_whitespace } Defaults Filetypes: {} Method: formatting Command: awk Args: { '{ sub(/[ \\t]+$/, \"\"); print }' }","title":"trim_whitespace"},{"location":"ll/vim/astro_vim_null_ls_builtins/#uncrustify","text":"A source code beautifier for C, C++, C#, ObjectiveC, D, Java, Pawn and Vala. local sources = { null_ls . builtins . formatting . uncrustify } Defaults Filetypes: { \"c\", \"cpp\", \"cs\", \"java\" } Method: formatting Command: uncrustify Args: dynamically resolved (see source )","title":"uncrustify"},{"location":"ll/vim/astro_vim_null_ls_builtins/#xmllint","text":"Despite the name, xmllint can be used to format XML files as well as lint them, and that's the mode this builtin is using. local sources = { null_ls . builtins . formatting . xmllint } Defaults Filetypes: { \"xml\" } Method: formatting Command: xmllint Args: { \"--format\", \"-\" }","title":"xmllint"},{"location":"ll/vim/astro_vim_null_ls_builtins/#yapf","text":"Formatter for Python. local sources = { null_ls . builtins . formatting . yapf } Defaults Filetypes: { \"python\" } Methods: formatting, range_formatting Command: yapf Args: dynamically resolved (see source )","title":"yapf"},{"location":"ll/vim/astro_vim_null_ls_builtins/#zigfmt","text":"Reformat Zig source into canonical form. local sources = { null_ls . builtins . formatting . zigfmt } Defaults Filetypes: { \"zig\" } Method: formatting Command: zig Args: { \"fmt\", \"--stdin\" }","title":"zigfmt"},{"location":"ll/vim/astro_vim_null_ls_builtins/#hover","text":"","title":"Hover"},{"location":"ll/vim/astro_vim_null_ls_builtins/#dictionary","text":"Shows the first available definition for the current word under the cursor. local sources = { null_ls . builtins . hover . dictionary } Defaults Filetypes: { \"text\", \"markdown\" } Method: hover Notes Depends on Plenary's curl module, which itself depends on having curl installed and available on your $PATH . typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"dictionary"},{"location":"ll/vim/html/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Thoughts About Writing HTML in vim \u00a4 Email with inline pictures is very unconvenient in Thunderbird. Why not write in vim. CTRL-E -> tb-edit transfers content to external editor This sends result via mutt, as html: mutt -e 'set content_type=text/html' -s 'My subject' -e 'set from = \" user@domain.com \"' -e 'set realname = \"Realname of the user\"' ' gk@axiros.com , gunther.klessinger@axiros.com ' < email.html\\n This also: https://pypi.org/project/sender/ This downloads a web page into a single file, with only required / minimum CSS (see Settings of the chrome plugin) edge://extensions/?options=mpiodijhokgodhhofbcjdecpffjipkle Beauty: the external images are uuencoded and put into the html, so email clients will show them MDPreview to render from vim typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"HTML"},{"location":"ll/vim/html/#thoughts-about-writing-html-in-vim","text":"Email with inline pictures is very unconvenient in Thunderbird. Why not write in vim. CTRL-E -> tb-edit transfers content to external editor This sends result via mutt, as html: mutt -e 'set content_type=text/html' -s 'My subject' -e 'set from = \" user@domain.com \"' -e 'set realname = \"Realname of the user\"' ' gk@axiros.com , gunther.klessinger@axiros.com ' < email.html\\n This also: https://pypi.org/project/sender/ This downloads a web page into a single file, with only required / minimum CSS (see Settings of the chrome plugin) edge://extensions/?options=mpiodijhokgodhhofbcjdecpffjipkle Beauty: the external images are uuencoded and put into the html, so email clients will show them MDPreview to render from vim typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Thoughts About Writing HTML in vim"},{"location":"ll/vim/ultisnips/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Ultisnips \u00a4 -- the machinery use \"SirVer/ultisnips\" -- tons of language snippets use \"honza/vim-snippets\" Navigation: Tab only (i.e. you jump e.g. back via Shift-Tab): \u00a4 let g :UltiSnipsSnippetsDir = \"~/.config/nvim/ultisnips\" let g :UltiSnipsExpandTrigger = \"<tab>\" let g :UltiSnipsJumpForwardTrigger = \"<tab>\" let g :UltiSnipsJumpBackwardTrigger = \"<s-tab>\" Options \u00a4 w: Only expand when its a full word b: Only at beginning of line A: Autoexpand when expansion crits are met Cool Stuffs \u00a4 :Snippets in vim and you get an FZF list of all snippets defined for the current buffer TODO: Add the content... for html its pure joy: any tagname -> TAB -> done Gotchas \u00a4 configure in init.vim not in lua [2021-08-18 00:55] Drove me crazy that lua based config in packer did only work ...50%, e.g. the second parameter never hightlighted, jumps wrong, tab not working. GRR. Simple solution: Do this: let g :SuperTabDefaultCompletionType = \"<c-n>\" let g :UltiSnipsSnippetsDir = \"~/.config/nvim/ultisnips\" let g :UltiSnipsExpandTrigger = \"<tab>\" let g :UltiSnipsJumpForwardTrigger = \"<tab>\" let g :UltiSnipsJumpBackwardTrigger = \"<s-tab>\" instead of: use \"SirVer/ultisnips\" config = function () vim . g . UltiSnipsSnippetsDir = \"~/.config/nvim/ultisnips\" vim . g . UltiSnipsSnippetDirectories = { \"ultisnips\" } vim . g . UltiSnipsJumpForwardTrigger = { \"<tab>\" } end } and it works like a charm. Advanced \u00a4 Dynamic Tabstop Generation - in general: how to modify the body programmatically, incl variables you set at invokation See also the logbook Resources \u00a4 tutorial Youtube Taking Advantage of Using Snippets with UltiSnips and Vim-Snippets 0:00 -- What we'll cover in this video 0:49 -- Adding a div + paragraph with and without using snippets 2:08 -- Using snippets from multiple file types in the same file 4:06 -- Dealing with multiple snippets that have the same name 4:58 -- Using snippets in a Python file 5:56 -- Fuzzy finding available snippets using Vim FZF 7:36 -- Skimming the README file for UltiSnips and vim-snippets 8:41 -- Installing both Vim plugins with Vim Plug 9:38 -- Looking at a few Markdown / podcast related custom snippets 12:29 -- Looking at few more Markdown / blog related custom snippets 14:07 -- Defining your own custom snippets 16:31 -- Why I prefer using snippets over using language servers typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Ultisnips"},{"location":"ll/vim/ultisnips/#ultisnips","text":"-- the machinery use \"SirVer/ultisnips\" -- tons of language snippets use \"honza/vim-snippets\"","title":"Ultisnips"},{"location":"ll/vim/ultisnips/#navigation-tab-only-ie-you-jump-eg-back-via-shift-tab","text":"let g :UltiSnipsSnippetsDir = \"~/.config/nvim/ultisnips\" let g :UltiSnipsExpandTrigger = \"<tab>\" let g :UltiSnipsJumpForwardTrigger = \"<tab>\" let g :UltiSnipsJumpBackwardTrigger = \"<s-tab>\"","title":"Navigation: Tab only (i.e. you jump e.g. back via Shift-Tab):"},{"location":"ll/vim/ultisnips/#options","text":"w: Only expand when its a full word b: Only at beginning of line A: Autoexpand when expansion crits are met","title":"Options"},{"location":"ll/vim/ultisnips/#cool-stuffs","text":":Snippets in vim and you get an FZF list of all snippets defined for the current buffer TODO: Add the content... for html its pure joy: any tagname -> TAB -> done","title":"Cool Stuffs"},{"location":"ll/vim/ultisnips/#gotchas","text":"configure in init.vim not in lua [2021-08-18 00:55] Drove me crazy that lua based config in packer did only work ...50%, e.g. the second parameter never hightlighted, jumps wrong, tab not working. GRR. Simple solution: Do this: let g :SuperTabDefaultCompletionType = \"<c-n>\" let g :UltiSnipsSnippetsDir = \"~/.config/nvim/ultisnips\" let g :UltiSnipsExpandTrigger = \"<tab>\" let g :UltiSnipsJumpForwardTrigger = \"<tab>\" let g :UltiSnipsJumpBackwardTrigger = \"<s-tab>\" instead of: use \"SirVer/ultisnips\" config = function () vim . g . UltiSnipsSnippetsDir = \"~/.config/nvim/ultisnips\" vim . g . UltiSnipsSnippetDirectories = { \"ultisnips\" } vim . g . UltiSnipsJumpForwardTrigger = { \"<tab>\" } end } and it works like a charm.","title":"Gotchas"},{"location":"ll/vim/ultisnips/#advanced","text":"Dynamic Tabstop Generation - in general: how to modify the body programmatically, incl variables you set at invokation See also the logbook","title":"Advanced"},{"location":"ll/vim/ultisnips/#resources","text":"tutorial Youtube Taking Advantage of Using Snippets with UltiSnips and Vim-Snippets 0:00 -- What we'll cover in this video 0:49 -- Adding a div + paragraph with and without using snippets 2:08 -- Using snippets from multiple file types in the same file 4:06 -- Dealing with multiple snippets that have the same name 4:58 -- Using snippets in a Python file 5:56 -- Fuzzy finding available snippets using Vim FZF 7:36 -- Skimming the README file for UltiSnips and vim-snippets 8:41 -- Installing both Vim plugins with Vim Plug 9:38 -- Looking at a few Markdown / podcast related custom snippets 12:29 -- Looking at few more Markdown / blog related custom snippets 14:07 -- Defining your own custom snippets 16:31 -- Why I prefer using snippets over using language servers typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Resources"},{"location":"ll/vim/vim/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } (Neo)Vim \u00a4 After a few intense rounds with emacs and vscode I'm back to vim, specifically NeoVim. For publishing papers I'd stick to doom emacs and org -> latex -> pdf, but for the rest I'm in vim. There are two game changers why I think: vim is not \"better\" than emacs - but there are no killer features for normal text editing left, available only in emacs. Game Changers \u00a4 fzf-vim \u00a4 fzf really simplifies tons of operations involving lists: Matching files, commits, colorschemes, buffers, ripgrep results, whatever - it all is now at your fingertips in a convenient, lighting fast, fuzzy finding interface. Meanwhile there is an alternative with Telescope - but for me FZF is still the better working tool. Battle proven. Lua \u00a4 The big plus for emacs was that elisp >> vimscript. But now with lua that changed. We have a real programming language now and integration with vim is first class! Hacks \u00a4 I won't discuss all my config, just a few hacks of myself, maybe of interest to others. Python \u00a4 Cmd Output $ bat -f --terminal-width = 200 ~/.config/nvim/ftplugin/python.vim $ bat -f --terminal-width=200 ~/.config/nvim/ftplugin/python.vim \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m\u2502 \u001b[0mFile: \u001b[1m/home/gk/.config/nvim/ftplugin/python.vim\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m 1\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239msetlocal\u001b[0m\u001b[38;2;248;248;242m textwidth=\u001b[0m\u001b[38;2;190;132;255m88\u001b[0m \u001b[38;5;238m 2\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239msetlocal\u001b[0m\u001b[38;2;248;248;242m foldmethod=indent\u001b[0m \u001b[38;5;238m 3\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239msetlocal\u001b[0m\u001b[38;2;248;248;242m foldlevel=\u001b[0m\u001b[38;2;190;132;255m99\u001b[0m \u001b[38;5;238m 4\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mlet\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mg:SimpylFold_docstring_preview\u001b[0m\u001b[38;2;248;248;242m = \u001b[0m\u001b[38;2;190;132;255m1\u001b[0m \u001b[38;5;238m 5\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mmap\u001b[0m\u001b[38;2;248;248;242m ,b \u001b[0m\u001b[38;2;102;217;239mObreakpoint\u001b[0m\u001b[38;2;248;248;242m() # FIXME BREAKPOINT\u001b[0m\u001b[38;2;166;226;46m<C-c>\u001b[0m \u001b[38;5;238m 6\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mmap\u001b[0m\u001b[38;2;248;248;242m ,e Otry:\u001b[0m\u001b[38;2;166;226;46m<Esc>\u001b[0m\u001b[38;2;248;248;242mj^i\u001b[0m\u001b[38;2;166;226;46m<TAB>\u001b[0m\u001b[38;2;166;226;46m<Esc>\u001b[0m\u001b[38;2;248;248;242moexcept Exception as ex:\u001b[0m\u001b[38;2;166;226;46m<CR>\u001b[0m\u001b[38;2;102;217;239mprint\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m'breakpoint set'\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;166;226;46m<CR>\u001b[0m\u001b[38;2;102;217;239mbreakpoint\u001b[0m\u001b[38;2;248;248;242m()\u001b[0m\u001b[38;2;166;226;46m<CR>\u001b[0m\u001b[38;2;248;248;242mkeep_ctx=True\u001b[0m\u001b[38;2;166;226;46m<Esc>\u001b[0m\u001b[38;2;248;248;242m^\u001b[0m \u001b[38;5;238m 7\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239msetlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mexpandtab\u001b[0m \u001b[38;5;238m 8\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239msetlocal\u001b[0m\u001b[38;2;248;248;242m shiftwidth=\u001b[0m\u001b[38;2;190;132;255m4\u001b[0m \u001b[38;5;238m 9\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239msetlocal\u001b[0m\u001b[38;2;248;248;242m softtabstop=\u001b[0m\u001b[38;2;190;132;255m4\u001b[0m \u001b[38;5;238m 10\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m\" on demand, pyright LSP is just the right amount of information for me:\u001b[0m \u001b[38;5;238m 11\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m:ALEDisable\u001b[0m \u001b[38;5;238m 12\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 13\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m Wrapping of code into try except blocks: (AX)Black \u00a4 Simple running axblack as external program on the current buffer, e.g. at save ( ,w ) has a big downside: All your jump marks are gone. First I solved this by using efm-lsp and Lukas Reineke's approach . But I found that NeoFormat does the job quite well, they trick nvim into a line by line mode when formatting - so all marks are preserved and single-transaction undos can also be made working via a modified undojoin: --vim.cmd [[autocmd BufWritePre * undojoin | Neoformat]] --but https://github.com/sbdchd/neoformat/issues/134 vim . cmd [[ au BufWritePre * try | undojoin | Neoformat | catch /^Vim\\%((\\a\\+)\\)\\=:E790/ | finally | silent Neoformat | endtry ]] Here I set a mark ( b ), show LSP completion, then write a double quoted value. Then reformat (on save), then jump back to the mark. Then I undo all transactions: Neoformat's approach also works for other language formatters, clear. See their list of supported formatters. Useful(?) in General \u00a4 Color Picker \u00a4 This is my version - scans all available colorschemes and toggles transparency as well: When set as default it writes a file which is sourced by init.vim . Cmd Output $ bat -f /home/gk/.config/nvim/lua/colorpicker.lua $ bat -f /home/gk/.config/nvim/lua/colorpicker.lua \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m\u2502 \u001b[0mFile: \u001b[1m/home/gk/.config/nvim/lua/colorpicker.lua\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m 1\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mfzf\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mfzf\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfzf\u001b[0m \u001b[38;5;238m 2\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255maction\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mfzf.actions\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242maction\u001b[0m \u001b[38;5;238m 3\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mos\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 4\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 5\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mbg_is_transp\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mfalse\u001b[0m \u001b[38;5;238m 6\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 7\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mget_colorschemes\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 8\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcolorscheme_vim_files\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfn\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mglobpath\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mo\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mrtp\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcolors/*.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 9\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcolorschemes\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 10\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mtable\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;102;217;239minsert\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mcolorschemes\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcolors_name\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m first one selected\u001b[0m \u001b[38;5;238m 11\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mfor\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255m_\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcolorscheme_file\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114min\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mipairs\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mcolorscheme_vim_files\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mdo\u001b[0m \u001b[38;5;238m 12\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcolorscheme\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfn\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfnamemodify\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mcolorscheme_file\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m:t:r\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 13\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mtable\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;102;217;239minsert\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mcolorschemes\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcolorscheme\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 14\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 15\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mreturn\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcolorschemes\u001b[0m \u001b[38;5;238m 16\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 17\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 18\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mtoggle_background_transparency\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;253;151;31mtoggle\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 19\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m when toggle is set we change, otherwise we set it transparent when it should be (required after colorscheme change)\u001b[0m \u001b[38;5;238m 20\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mif\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mbg_is_transp\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m==\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 21\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mos.execute(\"notify-send toggle\")\u001b[0m \u001b[38;5;238m 22\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mbg_is_transp\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mfalse\u001b[0m \u001b[38;5;238m 23\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcmd\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcolorscheme \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mget_current_colorscheme\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 24\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114melse\u001b[0m \u001b[38;5;238m 25\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mbg_is_transp\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m \u001b[38;5;238m 26\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcmd\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mhi Normal guibg=NONE ctermbg=NONE\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 27\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 28\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 29\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 30\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mget_current_colorscheme\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 31\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mif\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcolors_name\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 32\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mreturn\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcolors_name\u001b[0m \u001b[38;5;238m 33\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114melse\u001b[0m \u001b[38;5;238m 34\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mreturn\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mdefault\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mnot all have the colors_name exposed\u001b[0m \u001b[38;5;238m 35\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 36\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 37\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 38\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mset_color_scheme\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;253;151;31mname\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 39\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcmd\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcolorscheme \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mname\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 40\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mif\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mbg_is_transp\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m==\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 41\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcmd\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mhi Normal guibg=NONE ctermbg=NONE\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 42\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 43\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 44\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 45\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mcoroutine\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;102;217;239mwrap\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 46\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 47\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mpreview_function\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m \u001b[38;5;238m 48\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242maction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 49\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;253;151;31margs\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 50\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mif\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255margs\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 51\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mset_color_scheme\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255margs\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 52\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 53\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 54\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 55\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mwhile\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m==\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mdo\u001b[0m \u001b[38;5;238m 56\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcurrent_colorscheme\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mget_current_colorscheme\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 57\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m os.execute ('notify-send ' .. current_colorscheme)\u001b[0m \u001b[38;5;238m 58\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m \u001b[38;5;238m 59\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mfzf\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 60\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mget_colorschemes\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 61\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m--header='b to toggle transp\u001b[0m\u001b[38;2;190;132;255m\\n\u001b[0m\u001b[38;2;230;219;116mD: set as default' --preview=\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m \u001b[38;5;238m 62\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mpreview_function\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m --preview-window right:0 --bind=j:down,k:up,q:abort --expect=b --expect=D\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 63\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116mheight\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mo\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mlines\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m-\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m10\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mwidth\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m30\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mrow\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 64\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 65\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mif\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mnot\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 66\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcmd\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcolorscheme \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcurrent_colorscheme\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 67\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mbreak\u001b[0m \u001b[38;5;238m 68\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114melse\u001b[0m \u001b[38;5;238m 69\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mif\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m==\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mb\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 70\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mtoggle_background_transparency\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 71\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114melseif\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m==\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mD\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 72\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mfn\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m/home/gk/.config/nvim/cur_colorscheme.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 73\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mio\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;102;217;239mopen\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mfn\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mw\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 74\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;248;248;242m:\u001b[0m\u001b[38;2;248;248;242mwrite\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcolorscheme \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;190;132;255m2\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 75\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;248;248;242m:\u001b[0m\u001b[38;2;248;248;242mclose\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 76\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mos\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;102;217;239mexecute\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnotify-send 'colorscheme written \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;190;132;255m2\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m' '\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mfn\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m'\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 77\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mset_color_scheme\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;190;132;255m2\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 78\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mbreak\u001b[0m \u001b[38;5;238m 79\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114melse\u001b[0m \u001b[38;5;238m 80\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mset_color_scheme\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;190;132;255m2\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 81\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mbreak\u001b[0m \u001b[38;5;238m 82\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 83\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 84\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 85\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 86\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m Smart Goto \u00a4 Example use case: We want to open the preprocessing source files for markdown, as soon as ,g is invoked on a link to its rendering result, e.g. in mkdocs.yml 's nav section. The file can be anywhere in the whole subtree, i.e. in the docs folder... When the selection is URL or a file not findable in the subtree we open in the browser: Cursor over word or visual selection ,g => open in nvim or browser Functioning Result: A python script gets the word under cursor or visual selection and can decide if to open the word as a new vim buffer or send it to the browser as URL or as google search string. That can naturally be all done in lua but I wanted to quickly change the decisioning process - and I'm not fit enough in lua to do that on the fly. So there is the following lua python integration: In lua we use the vim api to get the current word / URL or vis selection, write that to a file, syncronously call a python subprocess and read back what it wrote into that file, than open it in vim. If there was nothing written, then we do nothing. The latter happens, when python already calls the browser. vim hotkey LUA Python \" Universal scriptable file or browser opener over word: nmap , g viW\"ay: lua require ( 'utils' ) .smart_open ( [[ < C - R > a ]] )< CR >< CR > vmap , g : lua require ( 'utils' ) .smart_open ( [[visualsel]] )< CR >< CR > local function visual_selection_range () local _ , csrow , cscol , _ = unpack ( vim . fn . getpos ( \"'<\" )) local _ , cerow , cecol , _ = unpack ( vim . fn . getpos ( \"'>\" )) if csrow < cerow or ( csrow == cerow and cscol <= cecol ) then return csrow - 1 , cscol - 1 , cerow - 1 , cecol else return cerow - 1 , cecol - 1 , csrow - 1 , cscol end end M . smart_open = function ( arg ) -- gf opens anything openable. Calls a python app, which writes back if vim should open it -- we have a vmap of ,g to this with arg \"visualsel\" -> get that selection from the buffer: if arg == \"visualsel\" then local csrow , cscol , cerow , cecol = visual_selection_range () local l = vim . api . nvim_buf_get_lines ( vim . api . nvim_get_current_buf (), csrow , csrow + 1 , true ) arg = l [ 1 ] arg = arg : sub ( cscol , cecol ) end local fn = \"/tmp/smartopen\" local file = io.open ( fn , \"w\" ) io.output ( file ) io.write ( arg ) io.close ( file ) os.execute ( os.getenv ( \"HOME\" ) .. \"/.config/nvim/smart_vi_open\" ) --local pth = arg --:gsub('\"', \"\") --pth = pth:gsub(\"'\", \"\") --pth = string.gsub(pth, \"'\", \"\") file = io.open ( fn , \"r\" ) if file ~= nil then io.input ( file ) local s = io.read () io.close ( file ) os.execute ( \"notify-send 'vi: \" .. s .. \"'\" ) vim . cmd ( \"edit \" .. s ) end return \"\" end Cmd Output $ $ cat /home/gk/.config/nvim/smart_vi_open.py #!/usr/bin/env python \"\"\" triggered from vim, by ,g on a word We try hard to find a matching file and bring it up in vim Else we open in browser. \"\"\" import os import re import sys # http://heise.de from html import escape from pathlib import Path browser = os.environ.get('BROWSER', 'microsoft-edge') exists = os.path.exists log = lambda s: open('/tmp/smartopen.log', 'a').write( '\\ncwd: %s; %s\\n' % (os.getcwd(), s) ) def notify(title, msg=''): cmd = '''notify-send -t 10 \"%s\" \"%s\\n\\n%s\\nHelp: ,g on '?' or 'help'\" &''' os.system(cmd % (title, msg, __file__)) # 'foo/bar' fn_from_lua = '/tmp/smartopen' # '/etc/hosts' die = lambda *a: sys.exit(0) pth_join = lambda dir, fn: str(Path(dir).joinpath(Path(fn))) browse = lambda lnk: os.system('%s \"%s\" >/dev/null 2>/dev/null &' % (browser, lnk)) def send_exit(fn): \"\"\"vim opens fn now:\"\"\" log('sending back: %s' % fn) with open(fn_from_lua, 'w') as fd: fd.write(fn) die() def validate_and_complete(m): if not exists(m['fn']): die(notify('bug: file does not exist: %s' % m['fn'])) log('parsed: %s' % str(m)) m['dir'] = os.path.abspath(os.path.dirname(m['fn'])) for spam in \"'\", '\"': m['word'] = m['word'].replace(spam, '') def try_(f, **m): k = '\\n'.join(['- %s: %s' % (k, v) for k, v in m.items()]) k = '\\n%s\\n' % k notify(f.__name__, k) try: f(**m) except Exception as ex: notify('Exception', str(ex)) def notify_help(): notify('Not word selected - showing help') # bring up this file itself in vim send_exit(__file__) def is_no_word_under_cursor(word, fn, **kw): if word: return if '/docs/' in fn and '/repos/' in fn and fn.endswith('.md'): # starts the mkdocs server and opens browser on the page notify('Calling opendocs (mkdocs serve)', msg=fn) cmd = '/home/gk/bin/opendocs \"%s\" --browser >/dev/null 2>/dev/null' os.system(cmd % fn) else: notify_help() die() def is_help(word, **kw): if word == 'help' or word == '?': send_exit(__file__) def is_markdown_link(word, dir, **kw): # word = '[foo](bar.md)' ? then find or create it: # first [ missing from vim, when its like [**foo**](./bar.md): m = re.match(r'.*(.*\\])(\\(.*\\)).*', word) if not m: return title = m.groups()[0][1:-1] lnk = m.groups()[1][1:-1] if '://' in lnk: die(browse(lnk)) if not lnk.strip(): if title.strip(): die(browse(title)) die() # (./parameters.md#section) lnk = lnk.split('#', 1)[0] if lnk.endswith('/'): pth = pth_join(dir, lnk + 'index.md') if exists(pth): lnk += 'index.md' if not lnk.endswith('.md'): die(browse(title + lnk)) pth = pth_join(dir, lnk) if not exists(pth): notify('Creating file', pth) os.makedirs(os.path.dirname(pth), exist_ok=True) with open(pth, 'w') as fd: fd.write('# %s' % title) send_exit(pth) def is_absolute_path(word, **kw): if exists(word): send_exit(word) def is_relative_path(word, dir, fn, **kw): f = pth_join(dir, word) if exists(f): send_exit(f) d = dir + '/docs' if word.endswith('.md') and exists(d): try_(is_relative_path, **dict(dir=d, word=word, fn=fn)) # search everything: # def is_fd(s): # if s.startswith('.'): # s = s.rsplit('/', 1)[-1] # cmd = 'fd --max-results=1 \"%s$\"' % s # log('got cmd: %s' % cmd) # fn = os.popen(cmd).read() # log('got fn: %s' % fn) # if exists(fn.strip()): # send_exit(fn) def remove_brackets_around_word(m): word = m['word'] # remove all brackets: # resolves \"[title](./file.md)\": ( before [: for k in \"''\", '\"\"', '()', '[]', '{}': word = word.replace(k, '') while k[0] in word: # log(k + s) word = word.split(k[0], 1)[1] word = word.split(k[1], 1)[0] m['word'] = word def main(): with open(fn_from_lua) as fd: expression = fd.read().strip() log('got string: ' + expression) os.unlink(fn_from_lua) m = {'word': '', 'fn': ''} for k in m: m[k] = expression.split(':-:%s:-:' % k, 1)[1].split(':-:', 1)[0].strip() validate_and_complete(m) try_(is_no_word_under_cursor, **m) try_(is_help, **m) try_(is_markdown_link, **m) try_(is_absolute_path, **m) try_(is_relative_path, **m) remove_brackets_around_word(m) # search the whole fckng directory tree: # try_fd(word) word = m['word'] # Ok, no meaningful file match => look it up in the internet: if 'http' in word: word = 'http' + word.split('http', 1)[1] # special case foo/bar , e.g. in plugins. Then github: elif len(word.split('/')) == 2: word = 'https://github.com/' + word else: o = word word = 'https://www.google.com/search?client=%s-b-d&q=' + word notify('Not found: %s' % o, 'Opening %s' % word) die(browse(word)) if __name__ == '__main__': main() Other use case: When the word under cursor is \"foo/bar\" we search github for a repo and open in browser: Plugin Usage Hints \u00a4 Stuff I keep forgetting that I have - maybe writing it down helps remembering: replace with register \u00a4 replacing from previous yank (or general register) [2021-08-22 14:01] - yank st - say: grtx and it will insert yanked stuff from cursor to next x - grr replaces hole line - gr replaces what you selected Favorite Plugins \u00a4 Ultisnips got an own page Tool What folke/which-key.nvim Absolutely amazing tool. Shows me all possible keybindings. Closes a huge gap to emacs. voldikss/vim-floatterm Shell integration key. wbthomason/packer.nvim Current Plugin Manager. Not sure if better than vim-plug. But as good. liuchengxu/vista.vim View and search LSP symbols, tags in Vim/NeoVim. neovim/nvim-lspconfig LSP default, no more coc. Coc was good though. sbdchd/neoformat Formatting via external tools but w/o breaking marks glepnir/lspsaga.nvim LSP Features like rename and reference lookups nvim-treesitter/nvim-treesitter-refactor --shows current scope usages and can rename symbol in buffer Not in use, breaks sometimes indentation. Waiting for fix. vijaymarupudi/nvim-fzf --lua bindings. kdheepak/lazygit.nvim lazygit integration tpope/vim-commentary tpope/vim-rhubarb -- :Gbrowse -> open browser in current gh repo. also autocompletes issues ... tpope/vim-surround -- ysiw -> foo -> foo* tpope/vim-repeat tpope/vim-eunuch --:Rename :Move :Delete tpope/vim-obsession -- :mksession tpope/vim-sleuth -- automatically adjusts 'shiftwidth' and 'expandtab' heuristically based on the current file, krisajenkins/vim-projectlocal --project local .vimrc files godlygeek/tabular Smart alignment dense-analysis/ale currently mainly for bash scripting, overwhelming in python, while coding folke/trouble.nvim Fix all troubled code places. folke/lsp-colors.nvim Tons of new colors for LSP related situations iamcco/markdown-preview.nvim Real time markdown previewer farmergreg/vim-lastplace Stores last edit location perfectly Here all plugins in my nvim: Cmd Output $ bat -f --terminal-width = 200 /home/gk/.config/nvim/lua/plugins.lua $ bat -f --terminal-width=200 /home/gk/.config/nvim/lua/plugins.lua \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m\u2502 \u001b[0mFile: \u001b[1m/home/gk/.config/nvim/lua/plugins.lua\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m 1\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m plugins with keymappings\u001b[0m \u001b[38;5;238m 2\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m gh shortcut opens the links\u001b[0m \u001b[38;5;238m 3\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mmap\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mutils\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mmap\u001b[0m \u001b[38;5;238m 4\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mleader\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m<space>\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 5\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 6\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mvim.g.loaded_netrwPlugin = false (gk: why did he have that - prevents gx?)\u001b[0m \u001b[38;5;238m 7\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcmd\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m[[\u001b[0m\u001b[38;2;230;219;116mpackadd cfilter\u001b[0m\u001b[38;2;230;219;116m]]\u001b[0m \u001b[38;5;238m 8\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 9\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mpacker\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mstartup\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 10\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 11\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mwbthomason/packer.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 12\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 13\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use {\u001b[0m \u001b[38;5;238m 14\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"haya14busa/incsearch.vim\",\u001b[0m \u001b[38;5;238m 15\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m config = function()\u001b[0m \u001b[38;5;238m 16\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#auto_nohlsearch\"] = true\u001b[0m \u001b[38;5;238m 17\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#magic\"] = \"\\\\v\"\u001b[0m \u001b[38;5;238m 18\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#consistent_n_direction\"] = true\u001b[0m \u001b[38;5;238m 19\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#do_not_save_error_message_history\"] = true\u001b[0m \u001b[38;5;238m 20\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m end\u001b[0m \u001b[38;5;238m 21\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 22\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 23\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m Color scheme\u001b[0m \u001b[38;5;238m 24\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 25\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mAlessandroYorba/Despacio\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 26\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116marcticicestudio/nord-vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 27\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mchriskempson/vim-tomorrow-theme\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 28\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcocopon/iceberg.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 29\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mmg979/vim-studio-dark\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m\" , :colorscheme vsark\u001b[0m \u001b[38;5;238m 30\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnavarasu/onedark.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 31\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnightsense/cosmic_latte\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 32\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnightsense/snow\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 33\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnightsense/stellarized\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 34\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116msainnhe/gruvbox-material\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 35\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116msheerun/vim-wombat-scheme\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 36\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116msjl/badwolf\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 37\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtomasiser/vim-code-dark\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 38\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtomasr/molokai\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 39\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtyrannicaltoucan/vim-deep-space\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 40\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mw0ng/vim-hybrid\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 41\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116myashguptaz/calvera-dark.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 42\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116myuttie/hydrangea-vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 43\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 44\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 45\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 46\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkyazdani42/nvim-web-devicons\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 47\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 48\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnvim-web-devicons\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242msetup\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 49\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mdefault\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m \u001b[38;5;238m 50\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 51\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 52\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 53\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m documentation stubs for python, js, ...:\u001b[0m \u001b[38;5;238m 54\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m postinstall: :call doge#install()\u001b[0m \u001b[38;5;238m 55\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m Leader D on a func sig:\u001b[0m \u001b[38;5;238m 56\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkkoomen/vim-doge\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 57\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 58\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mliuchengxu/vista.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 59\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mneovim/nvim-lspconfig\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 60\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m our link to all code formatters like prettier or black\u001b[0m \u001b[38;5;238m 61\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116msbdchd/neoformat\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 62\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mray-x/lsp_signature.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 63\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 64\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mhrsh7th/nvim-compe\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 65\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mrequires\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 66\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mhrsh7th/vim-vsnip\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 67\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m {\"andersevenrud/compe-tmux\"}\u001b[0m \u001b[38;5;238m 68\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 69\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 70\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcompe\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242msetup\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 71\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116menabled\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 72\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mautocomplete\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 73\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mdebug\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mfalse\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 74\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmin_length\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 75\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mpreselect\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116menable\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 76\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mthrottle_time\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m80\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 77\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116msource_timeout\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m200\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 78\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mresolve_timeout\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m800\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 79\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mincomplete_delay\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m400\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 80\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmax_abbr_width\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m100\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 81\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmax_kind_width\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m100\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 82\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmax_menu_width\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m100\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 83\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mdocumentation\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 84\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mborder\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m the border option is the same as `|help nvim_open_win|`\u001b[0m \u001b[38;5;238m 85\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mwinhighlight\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mNormalFloat:CompeDocumentation,FloatBorder:CompeDocumentationBorder\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 86\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmax_width\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m120\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 87\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmin_width\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m60\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 88\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmax_height\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mmath\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;102;217;239mfloor\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mo\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mlines\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m*\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m0\u001b[0m\u001b[38;2;190;132;255m.\u001b[0m\u001b[38;2;190;132;255m3\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 89\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmin_height\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m1\u001b[0m \u001b[38;5;238m 90\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 91\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116msource\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 92\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mpath\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 93\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mbuffer\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 94\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mcalc\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 95\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mnvim_lsp\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 96\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mnvim_lua\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 97\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mvsnip = true,\u001b[0m \u001b[38;5;238m 98\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116multisnips\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m \u001b[38;5;238m 99\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mluasnip = true\u001b[0m \u001b[38;5;238m 100\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 101\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 102\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 103\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 104\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mjose-elias-alvarez/nvim-lsp-ts-utils\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 105\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mglepnir/lspsaga.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 106\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m could not switch off indentation bug for python, e.g. when brackets are in the context before\u001b[0m \u001b[38;5;238m 107\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use {\u001b[0m \u001b[38;5;238m 108\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"nvim-treesitter/nvim-treesitter\",\u001b[0m \u001b[38;5;238m 109\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m run = \":TSUpdate\",\u001b[0m \u001b[38;5;238m 110\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m config = function()\u001b[0m \u001b[38;5;238m 111\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m require \"nvim-treesitter.configs\".setup {\u001b[0m \u001b[38;5;238m 112\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m ensure_installed = \"all\",\u001b[0m \u001b[38;5;238m 113\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m highlight = {\u001b[0m \u001b[38;5;238m 114\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m enable = true,\u001b[0m \u001b[38;5;238m 115\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m language_tree = true\u001b[0m \u001b[38;5;238m 116\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m },\u001b[0m \u001b[38;5;238m 117\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m indent = {\u001b[0m \u001b[38;5;238m 118\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m enable = false -- kills python indent on return\u001b[0m \u001b[38;5;238m 119\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m },\u001b[0m \u001b[38;5;238m 120\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m refactor = {\u001b[0m \u001b[38;5;238m 121\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m highlight_definitions = {\u001b[0m \u001b[38;5;238m 122\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m enable = true\u001b[0m \u001b[38;5;238m 123\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 124\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m },\u001b[0m \u001b[38;5;238m 125\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m autotag = {\u001b[0m \u001b[38;5;238m 126\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m enable = true\u001b[0m \u001b[38;5;238m 127\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m },\u001b[0m \u001b[38;5;238m 128\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m -- context_commentstring = {\u001b[0m \u001b[38;5;238m 129\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m -- enable = true\u001b[0m \u001b[38;5;238m 130\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m -- },\u001b[0m \u001b[38;5;238m 131\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m textobjects = {\u001b[0m \u001b[38;5;238m 132\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m select = {\u001b[0m \u001b[38;5;238m 133\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m enable = true,\u001b[0m \u001b[38;5;238m 134\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m keymaps = {\u001b[0m \u001b[38;5;238m 135\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m [\"af\"] = \"@function.outer\",\u001b[0m \u001b[38;5;238m 136\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m [\"if\"] = \"@function.inner\",\u001b[0m \u001b[38;5;238m 137\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m [\"ac\"] = \"@class.outer\", --vac: visual select whole class\u001b[0m \u001b[38;5;238m 138\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m [\"ic\"] = \"@class.inner\"\u001b[0m \u001b[38;5;238m 139\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 140\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 141\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 142\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 143\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m end\u001b[0m \u001b[38;5;238m 144\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 145\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use \"nvim-treesitter/nvim-treesitter-refactor\" --shows current scope usages and can rename symbol in buffer\u001b[0m \u001b[38;5;238m 146\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use \"nvim-treesitter/nvim-treesitter-textobjects\" -- allows to select e.g. class\u001b[0m \u001b[38;5;238m 147\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use \"JoosepAlviste/nvim-ts-context-commentstring\" --different commenting styles in one file\u001b[0m \u001b[38;5;238m 148\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m \u001b[38;5;238m 149\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94muse \"windwp/nvim-ts-autotag\" --renames current html tag. requires treesitter\u001b[0m \u001b[38;5;238m 150\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 151\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 152\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mjunegunn/fzf.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 153\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mrequires\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 154\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mjunegunn/fzf\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 155\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 156\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 157\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfzf_buffers_jump\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m \u001b[38;5;238m 158\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfzf_layout\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116mwindow\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116mwidth\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m0\u001b[0m\u001b[38;2;190;132;255m.\u001b[0m\u001b[38;2;190;132;255m9\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mheight\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m0\u001b[0m\u001b[38;2;190;132;255m.\u001b[0m\u001b[38;2;190;132;255m99\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116myoffset\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m0\u001b[0m\u001b[38;2;190;132;255m.\u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 159\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcmd\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m[[\u001b[0m\u001b[38;2;230;219;116mlet $FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS . ' --reverse --ansi'\u001b[0m\u001b[38;2;230;219;116m]]\u001b[0m \u001b[38;5;238m 160\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 161\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 162\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mvijaymarupudi/nvim-fzf\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mlua bindings. see mappings\u001b[0m \u001b[38;5;238m 163\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 164\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtpope/vim-commentary\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m gc, gcc\u001b[0m \u001b[38;5;238m 165\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94muse \"tpope/vim-fugitive\"\u001b[0m \u001b[38;5;238m 166\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkdheepak/lazygit.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 167\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtpope/vim-rhubarb\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m :Gbrowse -> open browser in current gh repo. also autocompletes issues ...\u001b[0m \u001b[38;5;238m 168\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtpope/vim-surround\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m ysiw* -> foo -> *foo*\u001b[0m \u001b[38;5;238m 169\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtpope/vim-repeat\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 170\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtpope/vim-eunuch\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m:Rename :Move :Delete\u001b[0m \u001b[38;5;238m 171\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtpope/vim-obsession\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m :mksession\u001b[0m \u001b[38;5;238m 172\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m problem in boxes.py (mdv): shiftwdith set to 3\u001b[0m \u001b[38;5;238m 173\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94muse \"tpope/vim-sleuth\" -- automatically adjusts 'shiftwidth' and 'expandtab' heuristically based on the current file,\u001b[0m \u001b[38;5;238m 174\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtmhedberg/SimpylFold\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m fold python only on class def (indent)\u001b[0m \u001b[38;5;238m 175\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 176\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m Projects / Git\u001b[0m \u001b[38;5;238m 177\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkrisajenkins/vim-projectlocal\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mproject local .vimrc files\u001b[0m \u001b[38;5;238m 178\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 179\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 180\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mairblade/vim-gitgutter\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mtons of features for hunks commits\u001b[0m \u001b[38;5;238m 181\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 182\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgitgutter_map_keys\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mfalse\u001b[0m \u001b[38;5;238m 183\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgitgutter_sign_added\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 184\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgitgutter_sign_modified\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 185\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgitgutter_sign_removed\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 186\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgitgutter_sign_removed_first_line\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 187\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgitgutter_sign_removed_above_and_below\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 188\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgitgutter_sign_modified_removed\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 189\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 190\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 191\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 192\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mwincent/vcs-jump\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mputs stuff into quickfix list, like hunks. See his old settings.lua to navigate that list\u001b[0m \u001b[38;5;238m 193\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 194\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 195\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m HOLY MOLY. Github w/o the browser. Everything! Uses gh command\u001b[0m \u001b[38;5;238m 196\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mpwntester/octo.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 197\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mrequires\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 198\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnvim-lua/plenary.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 199\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnvim-lua/popup.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 200\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnvim-telescope/telescope.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 201\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 202\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 203\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 204\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m online help for , and <SPC> completions\u001b[0m \u001b[38;5;238m 205\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mfolke/which-key.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 206\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 207\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 208\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mvoldikss/vim-floaterm\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 209\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 210\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfloaterm_autoclosg\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m2\u001b[0m \u001b[38;5;238m 211\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 212\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m open term at cwd:\u001b[0m \u001b[38;5;238m 213\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 214\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mrhysd/git-messenger.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mleader gm -> git commit with that change\u001b[0m \u001b[38;5;238m 215\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 216\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgit_messenger_floating_win_opts\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116mborder\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfloating_window_border_dark\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 217\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 218\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 219\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 220\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m file explorer, diretory browser\u001b[0m \u001b[38;5;238m 221\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 222\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mShougo/defx.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 223\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mrun\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m:UpdateRemotePlugins\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 224\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mrequires\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 225\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkristijanhusak/defx-git\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 226\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkristijanhusak/defx-icons\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 227\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 228\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 229\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mdefx_icons_root_opened_tree_icon\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u251c\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 230\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mdefx_icons_nested_opened_tree_icon\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u251c\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 231\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mdefx_icons_nested_closed_tree_icon\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 232\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mdefx_icons_directory_icon\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 233\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mdefx_icons_parent_icon\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u251c\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 234\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 235\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfn\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mdefx#custom#column\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 236\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mmark\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 237\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 238\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mreadonly_icon\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u25c6\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 239\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mselected_icon\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u25a0\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 240\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 241\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 242\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 243\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfn\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mdefx#custom#column\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 244\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mindent\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 245\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 246\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mindent\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 247\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 248\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 249\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 250\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfn\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mdefx#custom#option\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 251\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m_\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 252\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 253\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcolumns\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mindent:mark:icons:git:filename\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 254\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 255\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 256\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 257\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfn\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mdefx#custom#column\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 258\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mgit\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 259\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mindicators\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 260\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 261\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mModified\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u25c9\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 262\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mStaged\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u271a\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 263\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mUntracked\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u25c8\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 264\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mRenamed\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u279c\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 265\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mUnmerged\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2550\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 266\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mIgnored\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u25a8\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 267\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mDeleted\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2716\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 268\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mUnknown\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m?\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 269\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 270\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 271\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 272\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 273\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 274\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mnavigate between splits and panes (tmux)\u001b[0m \u001b[38;5;238m 275\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 276\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnumToStr/Navigator.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 277\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 278\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mNavigator\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242msetup\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 279\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 280\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 281\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 282\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mSirVer/ultisnips\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 283\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mhonza/vim-snippets\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 284\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 285\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m auto parens (with repeat by dot:)\u001b[0m \u001b[38;5;238m 286\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use {\u001b[0m \u001b[38;5;238m 287\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"cohama/lexima.vim\",\u001b[0m \u001b[38;5;238m 288\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m config = function()\u001b[0m \u001b[38;5;238m 289\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.lexima_no_default_rules = true\u001b[0m \u001b[38;5;238m 290\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.fn[\"lexima#set_default_rules\"]()\u001b[0m \u001b[38;5;238m 291\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.completion_confirm_key = \"\"\u001b[0m \u001b[38;5;238m 292\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m end\u001b[0m \u001b[38;5;238m 293\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 294\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m -- super for python: textobjects based on indent level: dai dii (inner indent) or daI dII (with line below)\u001b[0m \u001b[38;5;238m 295\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mmichaeljsmith/vim-indent-object\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 296\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mgodlygeek/tabular\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 297\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m again textobjects: cin( jumps into next bracket, changing.\u001b[0m \u001b[38;5;238m 298\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mwellle/targets.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 299\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m show colors over color code:\u001b[0m \u001b[38;5;238m 300\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 301\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mrrethy/vim-hexokinase\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 302\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mrun\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mmake hexokinase\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 303\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 304\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mHexokinase_optInPatterns\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mfull_hex,rgb,rgba,hsl,hsla\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 305\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 306\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 307\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m yy -> gcp -> inserts characterwise, w/o the new lines. and much more\u001b[0m \u001b[38;5;238m 308\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mvim-scripts/UnconditionalPaste\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 309\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 310\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m incremental searching. hefty\u001b[0m \u001b[38;5;238m 311\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 312\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use {\u001b[0m \u001b[38;5;238m 313\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"haya14busa/incsearch.vim\",\u001b[0m \u001b[38;5;238m 314\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m config = function()\u001b[0m \u001b[38;5;238m 315\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#auto_nohlsearch\"] = true\u001b[0m \u001b[38;5;238m 316\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#magic\"] = \"\\\\v\"\u001b[0m \u001b[38;5;238m 317\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#consistent_n_direction\"] = true\u001b[0m \u001b[38;5;238m 318\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#do_not_save_error_message_history\"] = true\u001b[0m \u001b[38;5;238m 319\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m end\u001b[0m \u001b[38;5;238m 320\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 321\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 322\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m e.g. /foo<C>P -> completes in commandline from buffer\u001b[0m \u001b[38;5;238m 323\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mvim-scripts/CmdlineComplete\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 324\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 325\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m like rg but matches remain in buffer split: :Ack foo\u001b[0m \u001b[38;5;238m 326\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 327\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mmileszs/ack.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 328\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 329\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mackprg\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mrg --vimgrep --no-heading --hidden --smart-case\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 330\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 331\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 332\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 333\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mromainl/vim-qf\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 334\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 335\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mqf_nowrap\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mfalse\u001b[0m \u001b[38;5;238m 336\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mqf_max_height\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m20\u001b[0m \u001b[38;5;238m 337\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 338\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 339\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 340\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mmachakann/vim-sandwich\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m operate on textobjects\u001b[0m \u001b[38;5;238m 341\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 342\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mbounceme/poppy.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m highlite parens\u001b[0m \u001b[38;5;238m 343\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 344\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use {\u001b[0m \u001b[38;5;238m 345\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"vimwiki/vimwiki\",\u001b[0m \u001b[38;5;238m 346\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m branch = \"dev\",\u001b[0m \u001b[38;5;238m 347\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m requires = {{\"inkarkat/vim-SyntaxRange\"}},\u001b[0m \u001b[38;5;238m 348\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m config = function()\u001b[0m \u001b[38;5;238m 349\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.vimwiki_list = {\u001b[0m \u001b[38;5;238m 350\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m {\u001b[0m \u001b[38;5;238m 351\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m path = \"~/vimwiki/\",\u001b[0m \u001b[38;5;238m 352\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m auto_tags = 1,\u001b[0m \u001b[38;5;238m 353\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m auto_generate_links = 1,\u001b[0m \u001b[38;5;238m 354\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m auto_generate_tags = 1,\u001b[0m \u001b[38;5;238m 355\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m links_space_char = \"-\"\u001b[0m \u001b[38;5;238m 356\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 357\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 358\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.vimwiki_folding = \"custom\"\u001b[0m \u001b[38;5;238m 359\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.vimwiki_use_calendar = 0\u001b[0m \u001b[38;5;238m 360\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.vimwiki_global_ext = 0\u001b[0m \u001b[38;5;238m 361\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.vimwiki_valid_html_tags = \"b,i,s,u,sub,sup,kbd,br,hr,span\"\u001b[0m \u001b[38;5;238m 362\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 363\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.vimwiki_key_mappings = {\u001b[0m \u001b[38;5;238m 364\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m all_maps = 1,\u001b[0m \u001b[38;5;238m 365\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m global = 0,\u001b[0m \u001b[38;5;238m 366\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m headers = 0,\u001b[0m \u001b[38;5;238m 367\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m text_objs = 1,\u001b[0m \u001b[38;5;238m 368\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m table_format = 0,\u001b[0m \u001b[38;5;238m 369\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m table_mappings = 1,\u001b[0m \u001b[38;5;238m 370\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m lists = 1,\u001b[0m \u001b[38;5;238m 371\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m links = 0,\u001b[0m \u001b[38;5;238m 372\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m html = 0,\u001b[0m \u001b[38;5;238m 373\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m mouse = 1\u001b[0m \u001b[38;5;238m 374\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 375\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m end\u001b[0m \u001b[38;5;238m 376\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 377\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mdense-analysis/ale\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 378\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mbkad/camelcasemotion\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m moves from f to b in foo_bar or fooBar or FooBar\u001b[0m \u001b[38;5;238m 379\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 380\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mvim-scripts/ReplaceWithRegister\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mgr, grrr https://github.com/vim-scripts/ReplaceWithRegister\u001b[0m \u001b[38;5;238m 381\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mvim-scripts/ReplaceWithSameIndentRegister\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 382\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 383\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116marthurxavierx/vim-caser\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 384\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 385\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mervandew/supertab\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 386\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mz1mm32m4n/vim-superman\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m man page viewer in vim\u001b[0m \u001b[38;5;238m 387\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 388\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 389\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mrhysd/clever-f.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 390\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 391\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mclever_f_fix_key_direction\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m f always forward, F always back\u001b[0m \u001b[38;5;238m 392\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mclever_f_show_prompt\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m f always forward, F always back\u001b[0m \u001b[38;5;238m 393\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 394\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 395\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 396\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mfolke/trouble.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 397\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mfolke/lsp-colors.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 398\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkepbod/quick-scope\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m shows unique matching chars the line -> f<char> there\u001b[0m \u001b[38;5;238m 399\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 400\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m displays marks\u001b[0m \u001b[38;5;238m 401\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 402\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkshenoy/vim-signature\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 403\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 404\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mSignatureForceRemoveGlobal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m \u001b[38;5;238m 405\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 406\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 407\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m Make blockwise Visual mode more useful\u001b[0m \u001b[38;5;238m 408\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkana/vim-niceblock\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 409\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m Stores edit location over file close\u001b[0m \u001b[38;5;238m 410\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94muse \"farmergreg/vim-lastplace\"\u001b[0m \u001b[38;5;238m 411\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94muse \"vim-scripts/restore_view.vim\"\u001b[0m \u001b[38;5;238m 412\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 413\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m we have our ,g\u001b[0m \u001b[38;5;238m 414\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use {\u001b[0m \u001b[38;5;238m 415\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"tyru/open-browser.vim\",\u001b[0m \u001b[38;5;238m 416\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m config = function()\u001b[0m \u001b[38;5;238m 417\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.openbrowser_default_search = \"duckduckgo\"\u001b[0m \u001b[38;5;238m 418\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m end\u001b[0m \u001b[38;5;238m 419\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 420\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m postinstall:\u001b[0m \u001b[38;5;238m 421\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m cd /home/gk/.local/share/nvim/site/pack/packer/start/markdown-preview.nvim/app\u001b[0m \u001b[38;5;238m 422\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m yarn install\u001b[0m \u001b[38;5;238m 423\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116miamcco/markdown-preview.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m, 'plasticboy/vim-markdown' }\u001b[0m \u001b[38;5;238m 424\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mdhruvasagar/vim-table-mode\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 425\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 426\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mglepnir/galaxyline.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mmhinz/vim-startify\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 427\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcespare/vim-toml\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116maklt/plantuml-syntax\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mchr4/nginx.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 428\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 429\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \", config = function()\u001b[0m \u001b[38;5;238m 430\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \" function! MKDPSplit(url)\u001b[0m \u001b[38;5;238m 431\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \" call system('firefox '.shellescape(a:url). ' &')\u001b[0m \u001b[38;5;238m 432\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \" endfunction\u001b[0m \u001b[38;5;238m 433\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \" let g:mkdp_browserfunc = 'MKDPSplit'\u001b[0m \u001b[38;5;238m 434\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \" let g:mkdp_open_to_the_world = 1\u001b[0m \u001b[38;5;238m 435\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \" let g:mkdp_auto_close = 1\u001b[0m \u001b[38;5;238m 436\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \" let g:mkdp_auto_start = 0\u001b[0m \u001b[38;5;238m 437\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 438\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94muse \"jparise/vim-graphql\"\u001b[0m \u001b[38;5;238m 439\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 440\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 441\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m begin_archive\u001b[0m \u001b[38;5;238m 442\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"/\", \"<Plug>(incsearch-forward)\", {noremap = false})\u001b[0m \u001b[38;5;238m 443\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"?\", \"<Plug>(incsearch-backward)\", {noremap = false})\u001b[0m \u001b[38;5;238m 444\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"n\", \"<Plug>(incsearch-nohl-n)\", {noremap = false})\u001b[0m \u001b[38;5;238m 445\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"N\", \"<Plug>(incsearch-nohl-N)\", {noremap = false})\u001b[0m \u001b[38;5;238m 446\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"*\", \"<Plug>(incsearch-nohl-*)N\", {noremap = false})\u001b[0m \u001b[38;5;238m 447\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"#\", \"<Plug>(incsearch-nohl-#)\", {noremap = false}) -- search word under cursor\u001b[0m \u001b[38;5;238m 448\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"g*\", \"<Plug>(incsearch-nohl-g*)N\", {noremap = false})\u001b[0m \u001b[38;5;238m 449\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"g#\", \"<Plug>(incsearch-nohl-g#)\", {noremap = false})\u001b[0m \u001b[38;5;238m 450\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 451\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<C-H>\", \"<CMD>lua require('Navigator').left()<CR>\")\u001b[0m \u001b[38;5;238m 452\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<C-J>\", \"<CMD>lua require('Navigator').down()<CR>\")\u001b[0m \u001b[38;5;238m 453\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<C-K>\", \"<CMD>lua require('Navigator').up()<CR>\")\u001b[0m \u001b[38;5;238m 454\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<C-L>\", \"<CMD>lua require('Navigator').right()<CR>\")\u001b[0m \u001b[38;5;238m 455\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 456\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"\", \"w\", \"<Plug>CamelCaseMotion_w\", {noremap = false})\u001b[0m \u001b[38;5;238m 457\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"\", \"b\", \"<Plug>CamelCaseMotion_b\", {noremap = false})\u001b[0m \u001b[38;5;238m 458\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"\", \"e\", \"<Plug>CamelCaseMotion_e\", {noremap = false})\u001b[0m \u001b[38;5;238m 459\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"\", \"ge\", \"<Plug>CamelCaseMotion_ge\", {noremap = false})\u001b[0m \u001b[38;5;238m 460\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 461\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<C-p>\", \":lua require('fuzzy').files('')<CR>\")\u001b[0m \u001b[38;5;238m 462\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gf\", \":lua require('fuzzy').git_files()<CR>\")\u001b[0m \u001b[38;5;238m 463\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"n\", \":lua require('fuzzy').files(vim.fn.expand('%:h'))<CR>\")\u001b[0m \u001b[38;5;238m 464\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"p\", \":Buffers<CR>\")\u001b[0m \u001b[38;5;238m 465\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"<C-p>\", \":Commands<CR>\")\u001b[0m \u001b[38;5;238m 466\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"<C-h>\", \":Helptags<CR>\")\u001b[0m \u001b[38;5;238m 467\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"m\", \":Marks<CR>\")\u001b[0m \u001b[38;5;238m 468\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"f\", \":lua require('fuzzy').symbols()<CR>\", {silent = true})\u001b[0m \u001b[38;5;238m 469\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 470\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"-\", \":Defx -show-ignored-files -search=`expand('%:p')`<CR>\")\u001b[0m \u001b[38;5;238m 471\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 472\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\u001b[0m \u001b[38;5;238m 473\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"i\",\u001b[0m \u001b[38;5;238m 474\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"<CR>\",\u001b[0m \u001b[38;5;238m 475\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m [[pumvisible() ? complete_info()[\"selected\"] != \"-1\" ? \"\\<Plug>(completion_confirm_completion)\" : \"\\<c-e>\" : lexima#expand('<LT>CR>', 'i')]],\u001b[0m \u001b[38;5;238m 476\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m {expr = true, noremap = false}\u001b[0m \u001b[38;5;238m 477\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m )\u001b[0m \u001b[38;5;238m 478\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 479\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"grr\", \"<Plug>ReplaceWithSameIndentRegisterLine\", {noremap = false})\u001b[0m \u001b[38;5;238m 480\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"grR\", \"<Plug>ReplaceWithRegisterLine\", {noremap = false})\u001b[0m \u001b[38;5;238m 481\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"gr\", \"<Plug>ReplaceWithRegisterOperator\", {noremap = false})\u001b[0m \u001b[38;5;238m 482\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 483\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-1>\", \"<Plug>UnconditionalPasteLineAfter\", {noremap = false})\u001b[0m \u001b[38;5;238m 484\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-2>\", \"<Plug>UnconditionalPasteLineBefore\", {noremap = false})\u001b[0m \u001b[38;5;238m 485\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-3>\", \"<Plug>UnconditionalPasteCommaAfter\", {noremap = false})\u001b[0m \u001b[38;5;238m 486\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-4>\", \"<Plug>UnconditionalPasteCommaBefore\", {noremap = false})\u001b[0m \u001b[38;5;238m 487\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-5>\", \"<Plug>UnconditionalPasteCommaSingleQuoteAfter\", {noremap = false})\u001b[0m \u001b[38;5;238m 488\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-6>\", \"<Plug>UnconditionalPasteCommaSingleQuoteBefore\", {noremap = false})\u001b[0m \u001b[38;5;238m 489\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-7>\", \"<Plug>VimwikiIncrementListItem\", {noremap = false})\u001b[0m \u001b[38;5;238m 490\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-8>\", \"<Plug>VimwikiDecrementListItem\", {noremap = false})\u001b[0m \u001b[38;5;238m 491\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"glp\", \"<Plug>UnconditionalPasteIndentedAfter\", {noremap = false})\u001b[0m \u001b[38;5;238m 492\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"glP\", \"<Plug>UnconditionalPasteIndentedBefore\", {noremap = false})\u001b[0m \u001b[38;5;238m 493\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 494\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"gco\", \"m'yyp:Commentary<CR>`'\")\u001b[0m \u001b[38;5;238m 495\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 496\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"gj\", \"<Plug>(GitGutterNextHunk)\", {noremap = false})\u001b[0m \u001b[38;5;238m 497\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"gk\", \"<Plug>(GitGutterPrevHunk)\", {noremap = false})\u001b[0m \u001b[38;5;238m 498\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gd\", \":execute 'Gvdiff ' .. g:git_head<CR>\")\u001b[0m \u001b[38;5;238m 499\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gr\", \":Gread<CR>\")\u001b[0m \u001b[38;5;238m 500\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gb\", \":Gblame<CR>\")\u001b[0m \u001b[38;5;238m 501\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gs\", \":Gstatus<CR><C-w>o\")\u001b[0m \u001b[38;5;238m 502\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gc\", \":BCommits<CR>\")\u001b[0m \u001b[38;5;238m 503\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gc\", \":BCommits<CR>\")\u001b[0m \u001b[38;5;238m 504\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gm\", \"<Plug>(git-messenger)\", {noremap = false})\u001b[0m \u001b[38;5;238m 505\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gu\", \"<Plug>(GitGutterUndoHunk)\", {noremap = false})\u001b[0m \u001b[38;5;238m 506\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"ga\", \"<Plug>(GitGutterStageHunk)\", {noremap = false})\u001b[0m \u001b[38;5;238m 507\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\u001b[0m \u001b[38;5;238m 508\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"n\",\u001b[0m \u001b[38;5;238m 509\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m leader .. \"gg\",\u001b[0m \u001b[38;5;238m 510\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \":lua require('lists').change_active('Quickfix')<CR>:execute 'VcsJump diff ' .. g:git_head<CR>\",\u001b[0m \u001b[38;5;238m 511\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m {silent = true}\u001b[0m \u001b[38;5;238m 512\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m )\u001b[0m \u001b[38;5;238m 513\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gn\", \":lua require('lists').change_active('Quickfix')<CR>:VcsJump merge<CR>\")\u001b[0m \u001b[38;5;238m 514\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gh\", \":diffget //2<CR> :diffupdate<CR>\")\u001b[0m \u001b[38;5;238m 515\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gl\", \":diffget //3<CR> :diffupdate<CR>\")\u001b[0m \u001b[38;5;238m 516\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 517\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map({\"n\", \"x\"}, \"s\", \"<Nope>\", {noremap = false})\u001b[0m \u001b[38;5;238m 518\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 519\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map({\"n\", \"v\"}, \"gx\", \"<Plug>(openbrowser-smart-search)\", {noremap = false})\u001b[0m \u001b[38;5;238m 520\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 521\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"N\", \":e %:h/\")\u001b[0m \u001b[38;5;238m 522\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 523\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"v\", \"<\", \"<gv\")\u001b[0m \u001b[38;5;238m 524\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"v\", \">\", \">gv\")\u001b[0m \u001b[38;5;238m 525\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"v\", \"*\", '\"vygv:<C-U>/\\\\<<C-R>v\\\\><CR>')\u001b[0m \u001b[38;5;238m 526\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"v\", \"#\", '\"vygv:<C-U>?\\\\<<C-R>v\\\\><CR>')\u001b[0m \u001b[38;5;238m 527\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 528\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"v\", \"I\", \"<Plug>(niceblock-I)\", {noremap = false})\u001b[0m \u001b[38;5;238m 529\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"v\", \"gI\", \"<Plug>(niceblock-gI)\", {noremap = false})\u001b[0m \u001b[38;5;238m 530\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"v\", \"A\", \"<Plug>(niceblock-A)\", {noremap = false})\u001b[0m \u001b[38;5;238m 531\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 532\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"x\", \"P\", [['\"_d\"'.v:register.'P']], {expr = true})\u001b[0m \u001b[38;5;238m 533\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 534\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"i\", \"<C-n>\", \"compe#complete()\", {expr = true})\u001b[0m \u001b[38;5;238m 535\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"i\", \"<CR>\", \"compe#confirm(lexima#expand('<LT>CR>', 'i'))\", {expr = true})\u001b[0m \u001b[38;5;238m 536\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"i\", \"<C-e>\", \"compe#close('<C-e>')\", {expr = true})\u001b[0m \u001b[38;5;238m 537\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 538\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"c\", \"<C-J>\", \"<DOWN>\")\u001b[0m \u001b[38;5;238m 539\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"c\", \"<C-K>\", \"<UP>\")\u001b[0m \u001b[38;5;238m 540\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 541\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.cmd [[cabbrev nw noautocmd write]]\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"About"},{"location":"ll/vim/vim/#neovim","text":"After a few intense rounds with emacs and vscode I'm back to vim, specifically NeoVim. For publishing papers I'd stick to doom emacs and org -> latex -> pdf, but for the rest I'm in vim. There are two game changers why I think: vim is not \"better\" than emacs - but there are no killer features for normal text editing left, available only in emacs.","title":"(Neo)Vim"},{"location":"ll/vim/vim/#game-changers","text":"","title":"Game Changers"},{"location":"ll/vim/vim/#fzf-vim","text":"fzf really simplifies tons of operations involving lists: Matching files, commits, colorschemes, buffers, ripgrep results, whatever - it all is now at your fingertips in a convenient, lighting fast, fuzzy finding interface. Meanwhile there is an alternative with Telescope - but for me FZF is still the better working tool. Battle proven.","title":"fzf-vim"},{"location":"ll/vim/vim/#lua","text":"The big plus for emacs was that elisp >> vimscript. But now with lua that changed. We have a real programming language now and integration with vim is first class!","title":"Lua"},{"location":"ll/vim/vim/#hacks","text":"I won't discuss all my config, just a few hacks of myself, maybe of interest to others.","title":"Hacks"},{"location":"ll/vim/vim/#python","text":"Cmd Output $ bat -f --terminal-width = 200 ~/.config/nvim/ftplugin/python.vim $ bat -f --terminal-width=200 ~/.config/nvim/ftplugin/python.vim \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m\u2502 \u001b[0mFile: \u001b[1m/home/gk/.config/nvim/ftplugin/python.vim\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m 1\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239msetlocal\u001b[0m\u001b[38;2;248;248;242m textwidth=\u001b[0m\u001b[38;2;190;132;255m88\u001b[0m \u001b[38;5;238m 2\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239msetlocal\u001b[0m\u001b[38;2;248;248;242m foldmethod=indent\u001b[0m \u001b[38;5;238m 3\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239msetlocal\u001b[0m\u001b[38;2;248;248;242m foldlevel=\u001b[0m\u001b[38;2;190;132;255m99\u001b[0m \u001b[38;5;238m 4\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mlet\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mg:SimpylFold_docstring_preview\u001b[0m\u001b[38;2;248;248;242m = \u001b[0m\u001b[38;2;190;132;255m1\u001b[0m \u001b[38;5;238m 5\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mmap\u001b[0m\u001b[38;2;248;248;242m ,b \u001b[0m\u001b[38;2;102;217;239mObreakpoint\u001b[0m\u001b[38;2;248;248;242m() # FIXME BREAKPOINT\u001b[0m\u001b[38;2;166;226;46m<C-c>\u001b[0m \u001b[38;5;238m 6\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mmap\u001b[0m\u001b[38;2;248;248;242m ,e Otry:\u001b[0m\u001b[38;2;166;226;46m<Esc>\u001b[0m\u001b[38;2;248;248;242mj^i\u001b[0m\u001b[38;2;166;226;46m<TAB>\u001b[0m\u001b[38;2;166;226;46m<Esc>\u001b[0m\u001b[38;2;248;248;242moexcept Exception as ex:\u001b[0m\u001b[38;2;166;226;46m<CR>\u001b[0m\u001b[38;2;102;217;239mprint\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m'breakpoint set'\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;166;226;46m<CR>\u001b[0m\u001b[38;2;102;217;239mbreakpoint\u001b[0m\u001b[38;2;248;248;242m()\u001b[0m\u001b[38;2;166;226;46m<CR>\u001b[0m\u001b[38;2;248;248;242mkeep_ctx=True\u001b[0m\u001b[38;2;166;226;46m<Esc>\u001b[0m\u001b[38;2;248;248;242m^\u001b[0m \u001b[38;5;238m 7\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239msetlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mexpandtab\u001b[0m \u001b[38;5;238m 8\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239msetlocal\u001b[0m\u001b[38;2;248;248;242m shiftwidth=\u001b[0m\u001b[38;2;190;132;255m4\u001b[0m \u001b[38;5;238m 9\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239msetlocal\u001b[0m\u001b[38;2;248;248;242m softtabstop=\u001b[0m\u001b[38;2;190;132;255m4\u001b[0m \u001b[38;5;238m 10\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m\" on demand, pyright LSP is just the right amount of information for me:\u001b[0m \u001b[38;5;238m 11\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m:ALEDisable\u001b[0m \u001b[38;5;238m 12\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 13\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m Wrapping of code into try except blocks:","title":"Python"},{"location":"ll/vim/vim/#axblack","text":"Simple running axblack as external program on the current buffer, e.g. at save ( ,w ) has a big downside: All your jump marks are gone. First I solved this by using efm-lsp and Lukas Reineke's approach . But I found that NeoFormat does the job quite well, they trick nvim into a line by line mode when formatting - so all marks are preserved and single-transaction undos can also be made working via a modified undojoin: --vim.cmd [[autocmd BufWritePre * undojoin | Neoformat]] --but https://github.com/sbdchd/neoformat/issues/134 vim . cmd [[ au BufWritePre * try | undojoin | Neoformat | catch /^Vim\\%((\\a\\+)\\)\\=:E790/ | finally | silent Neoformat | endtry ]] Here I set a mark ( b ), show LSP completion, then write a double quoted value. Then reformat (on save), then jump back to the mark. Then I undo all transactions: Neoformat's approach also works for other language formatters, clear. See their list of supported formatters.","title":"(AX)Black"},{"location":"ll/vim/vim/#useful-in-general","text":"","title":"Useful(?) in General"},{"location":"ll/vim/vim/#color-picker","text":"This is my version - scans all available colorschemes and toggles transparency as well: When set as default it writes a file which is sourced by init.vim . Cmd Output $ bat -f /home/gk/.config/nvim/lua/colorpicker.lua $ bat -f /home/gk/.config/nvim/lua/colorpicker.lua \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m\u2502 \u001b[0mFile: \u001b[1m/home/gk/.config/nvim/lua/colorpicker.lua\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m 1\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mfzf\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mfzf\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfzf\u001b[0m \u001b[38;5;238m 2\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255maction\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mfzf.actions\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242maction\u001b[0m \u001b[38;5;238m 3\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mos\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 4\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 5\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mbg_is_transp\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mfalse\u001b[0m \u001b[38;5;238m 6\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 7\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mget_colorschemes\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 8\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcolorscheme_vim_files\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfn\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mglobpath\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mo\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mrtp\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcolors/*.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 9\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcolorschemes\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 10\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mtable\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;102;217;239minsert\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mcolorschemes\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcolors_name\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m first one selected\u001b[0m \u001b[38;5;238m 11\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mfor\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255m_\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcolorscheme_file\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114min\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mipairs\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mcolorscheme_vim_files\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mdo\u001b[0m \u001b[38;5;238m 12\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcolorscheme\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfn\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfnamemodify\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mcolorscheme_file\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m:t:r\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 13\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mtable\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;102;217;239minsert\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mcolorschemes\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcolorscheme\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 14\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 15\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mreturn\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcolorschemes\u001b[0m \u001b[38;5;238m 16\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 17\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 18\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mtoggle_background_transparency\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;253;151;31mtoggle\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 19\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m when toggle is set we change, otherwise we set it transparent when it should be (required after colorscheme change)\u001b[0m \u001b[38;5;238m 20\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mif\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mbg_is_transp\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m==\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 21\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mos.execute(\"notify-send toggle\")\u001b[0m \u001b[38;5;238m 22\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mbg_is_transp\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mfalse\u001b[0m \u001b[38;5;238m 23\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcmd\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcolorscheme \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mget_current_colorscheme\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 24\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114melse\u001b[0m \u001b[38;5;238m 25\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mbg_is_transp\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m \u001b[38;5;238m 26\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcmd\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mhi Normal guibg=NONE ctermbg=NONE\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 27\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 28\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 29\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 30\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mget_current_colorscheme\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 31\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mif\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcolors_name\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 32\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mreturn\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcolors_name\u001b[0m \u001b[38;5;238m 33\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114melse\u001b[0m \u001b[38;5;238m 34\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mreturn\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mdefault\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mnot all have the colors_name exposed\u001b[0m \u001b[38;5;238m 35\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 36\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 37\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 38\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mset_color_scheme\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;253;151;31mname\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 39\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcmd\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcolorscheme \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mname\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 40\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mif\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mbg_is_transp\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m==\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 41\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcmd\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mhi Normal guibg=NONE ctermbg=NONE\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 42\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 43\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 44\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 45\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mcoroutine\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;102;217;239mwrap\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 46\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 47\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mpreview_function\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m \u001b[38;5;238m 48\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242maction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 49\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;253;151;31margs\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 50\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mif\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255margs\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 51\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mset_color_scheme\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255margs\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 52\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 53\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 54\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 55\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mwhile\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m==\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mdo\u001b[0m \u001b[38;5;238m 56\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcurrent_colorscheme\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mget_current_colorscheme\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 57\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m os.execute ('notify-send ' .. current_colorscheme)\u001b[0m \u001b[38;5;238m 58\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m \u001b[38;5;238m 59\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mfzf\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 60\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mget_colorschemes\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 61\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m--header='b to toggle transp\u001b[0m\u001b[38;2;190;132;255m\\n\u001b[0m\u001b[38;2;230;219;116mD: set as default' --preview=\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m \u001b[38;5;238m 62\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mpreview_function\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m --preview-window right:0 --bind=j:down,k:up,q:abort --expect=b --expect=D\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 63\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116mheight\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mo\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mlines\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m-\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m10\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mwidth\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m30\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mrow\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 64\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 65\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mif\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mnot\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 66\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcmd\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcolorscheme \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mcurrent_colorscheme\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 67\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mbreak\u001b[0m \u001b[38;5;238m 68\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114melse\u001b[0m \u001b[38;5;238m 69\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mif\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m==\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mb\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 70\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mtoggle_background_transparency\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 71\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114melseif\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m==\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mD\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mthen\u001b[0m \u001b[38;5;238m 72\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mfn\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m/home/gk/.config/nvim/cur_colorscheme.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 73\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mio\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;102;217;239mopen\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mfn\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mw\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 74\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;248;248;242m:\u001b[0m\u001b[38;2;248;248;242mwrite\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcolorscheme \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;190;132;255m2\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 75\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mfile\u001b[0m\u001b[38;2;248;248;242m:\u001b[0m\u001b[38;2;248;248;242mclose\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 76\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mos\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;102;217;239mexecute\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnotify-send 'colorscheme written \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;190;132;255m2\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m' '\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mfn\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m..\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m'\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 77\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mset_color_scheme\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;190;132;255m2\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 78\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mbreak\u001b[0m \u001b[38;5;238m 79\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114melse\u001b[0m \u001b[38;5;238m 80\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242mset_color_scheme\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mchoices\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;190;132;255m2\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 81\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mbreak\u001b[0m \u001b[38;5;238m 82\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 83\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 84\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 85\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 86\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m","title":"Color Picker"},{"location":"ll/vim/vim/#smart-goto","text":"Example use case: We want to open the preprocessing source files for markdown, as soon as ,g is invoked on a link to its rendering result, e.g. in mkdocs.yml 's nav section. The file can be anywhere in the whole subtree, i.e. in the docs folder... When the selection is URL or a file not findable in the subtree we open in the browser: Cursor over word or visual selection ,g => open in nvim or browser Functioning Result: A python script gets the word under cursor or visual selection and can decide if to open the word as a new vim buffer or send it to the browser as URL or as google search string. That can naturally be all done in lua but I wanted to quickly change the decisioning process - and I'm not fit enough in lua to do that on the fly. So there is the following lua python integration: In lua we use the vim api to get the current word / URL or vis selection, write that to a file, syncronously call a python subprocess and read back what it wrote into that file, than open it in vim. If there was nothing written, then we do nothing. The latter happens, when python already calls the browser. vim hotkey LUA Python \" Universal scriptable file or browser opener over word: nmap , g viW\"ay: lua require ( 'utils' ) .smart_open ( [[ < C - R > a ]] )< CR >< CR > vmap , g : lua require ( 'utils' ) .smart_open ( [[visualsel]] )< CR >< CR > local function visual_selection_range () local _ , csrow , cscol , _ = unpack ( vim . fn . getpos ( \"'<\" )) local _ , cerow , cecol , _ = unpack ( vim . fn . getpos ( \"'>\" )) if csrow < cerow or ( csrow == cerow and cscol <= cecol ) then return csrow - 1 , cscol - 1 , cerow - 1 , cecol else return cerow - 1 , cecol - 1 , csrow - 1 , cscol end end M . smart_open = function ( arg ) -- gf opens anything openable. Calls a python app, which writes back if vim should open it -- we have a vmap of ,g to this with arg \"visualsel\" -> get that selection from the buffer: if arg == \"visualsel\" then local csrow , cscol , cerow , cecol = visual_selection_range () local l = vim . api . nvim_buf_get_lines ( vim . api . nvim_get_current_buf (), csrow , csrow + 1 , true ) arg = l [ 1 ] arg = arg : sub ( cscol , cecol ) end local fn = \"/tmp/smartopen\" local file = io.open ( fn , \"w\" ) io.output ( file ) io.write ( arg ) io.close ( file ) os.execute ( os.getenv ( \"HOME\" ) .. \"/.config/nvim/smart_vi_open\" ) --local pth = arg --:gsub('\"', \"\") --pth = pth:gsub(\"'\", \"\") --pth = string.gsub(pth, \"'\", \"\") file = io.open ( fn , \"r\" ) if file ~= nil then io.input ( file ) local s = io.read () io.close ( file ) os.execute ( \"notify-send 'vi: \" .. s .. \"'\" ) vim . cmd ( \"edit \" .. s ) end return \"\" end Cmd Output $ $ cat /home/gk/.config/nvim/smart_vi_open.py #!/usr/bin/env python \"\"\" triggered from vim, by ,g on a word We try hard to find a matching file and bring it up in vim Else we open in browser. \"\"\" import os import re import sys # http://heise.de from html import escape from pathlib import Path browser = os.environ.get('BROWSER', 'microsoft-edge') exists = os.path.exists log = lambda s: open('/tmp/smartopen.log', 'a').write( '\\ncwd: %s; %s\\n' % (os.getcwd(), s) ) def notify(title, msg=''): cmd = '''notify-send -t 10 \"%s\" \"%s\\n\\n%s\\nHelp: ,g on '?' or 'help'\" &''' os.system(cmd % (title, msg, __file__)) # 'foo/bar' fn_from_lua = '/tmp/smartopen' # '/etc/hosts' die = lambda *a: sys.exit(0) pth_join = lambda dir, fn: str(Path(dir).joinpath(Path(fn))) browse = lambda lnk: os.system('%s \"%s\" >/dev/null 2>/dev/null &' % (browser, lnk)) def send_exit(fn): \"\"\"vim opens fn now:\"\"\" log('sending back: %s' % fn) with open(fn_from_lua, 'w') as fd: fd.write(fn) die() def validate_and_complete(m): if not exists(m['fn']): die(notify('bug: file does not exist: %s' % m['fn'])) log('parsed: %s' % str(m)) m['dir'] = os.path.abspath(os.path.dirname(m['fn'])) for spam in \"'\", '\"': m['word'] = m['word'].replace(spam, '') def try_(f, **m): k = '\\n'.join(['- %s: %s' % (k, v) for k, v in m.items()]) k = '\\n%s\\n' % k notify(f.__name__, k) try: f(**m) except Exception as ex: notify('Exception', str(ex)) def notify_help(): notify('Not word selected - showing help') # bring up this file itself in vim send_exit(__file__) def is_no_word_under_cursor(word, fn, **kw): if word: return if '/docs/' in fn and '/repos/' in fn and fn.endswith('.md'): # starts the mkdocs server and opens browser on the page notify('Calling opendocs (mkdocs serve)', msg=fn) cmd = '/home/gk/bin/opendocs \"%s\" --browser >/dev/null 2>/dev/null' os.system(cmd % fn) else: notify_help() die() def is_help(word, **kw): if word == 'help' or word == '?': send_exit(__file__) def is_markdown_link(word, dir, **kw): # word = '[foo](bar.md)' ? then find or create it: # first [ missing from vim, when its like [**foo**](./bar.md): m = re.match(r'.*(.*\\])(\\(.*\\)).*', word) if not m: return title = m.groups()[0][1:-1] lnk = m.groups()[1][1:-1] if '://' in lnk: die(browse(lnk)) if not lnk.strip(): if title.strip(): die(browse(title)) die() # (./parameters.md#section) lnk = lnk.split('#', 1)[0] if lnk.endswith('/'): pth = pth_join(dir, lnk + 'index.md') if exists(pth): lnk += 'index.md' if not lnk.endswith('.md'): die(browse(title + lnk)) pth = pth_join(dir, lnk) if not exists(pth): notify('Creating file', pth) os.makedirs(os.path.dirname(pth), exist_ok=True) with open(pth, 'w') as fd: fd.write('# %s' % title) send_exit(pth) def is_absolute_path(word, **kw): if exists(word): send_exit(word) def is_relative_path(word, dir, fn, **kw): f = pth_join(dir, word) if exists(f): send_exit(f) d = dir + '/docs' if word.endswith('.md') and exists(d): try_(is_relative_path, **dict(dir=d, word=word, fn=fn)) # search everything: # def is_fd(s): # if s.startswith('.'): # s = s.rsplit('/', 1)[-1] # cmd = 'fd --max-results=1 \"%s$\"' % s # log('got cmd: %s' % cmd) # fn = os.popen(cmd).read() # log('got fn: %s' % fn) # if exists(fn.strip()): # send_exit(fn) def remove_brackets_around_word(m): word = m['word'] # remove all brackets: # resolves \"[title](./file.md)\": ( before [: for k in \"''\", '\"\"', '()', '[]', '{}': word = word.replace(k, '') while k[0] in word: # log(k + s) word = word.split(k[0], 1)[1] word = word.split(k[1], 1)[0] m['word'] = word def main(): with open(fn_from_lua) as fd: expression = fd.read().strip() log('got string: ' + expression) os.unlink(fn_from_lua) m = {'word': '', 'fn': ''} for k in m: m[k] = expression.split(':-:%s:-:' % k, 1)[1].split(':-:', 1)[0].strip() validate_and_complete(m) try_(is_no_word_under_cursor, **m) try_(is_help, **m) try_(is_markdown_link, **m) try_(is_absolute_path, **m) try_(is_relative_path, **m) remove_brackets_around_word(m) # search the whole fckng directory tree: # try_fd(word) word = m['word'] # Ok, no meaningful file match => look it up in the internet: if 'http' in word: word = 'http' + word.split('http', 1)[1] # special case foo/bar , e.g. in plugins. Then github: elif len(word.split('/')) == 2: word = 'https://github.com/' + word else: o = word word = 'https://www.google.com/search?client=%s-b-d&q=' + word notify('Not found: %s' % o, 'Opening %s' % word) die(browse(word)) if __name__ == '__main__': main() Other use case: When the word under cursor is \"foo/bar\" we search github for a repo and open in browser:","title":"Smart Goto"},{"location":"ll/vim/vim/#plugin-usage-hints","text":"Stuff I keep forgetting that I have - maybe writing it down helps remembering:","title":"Plugin Usage Hints"},{"location":"ll/vim/vim/#replace-with-register","text":"replacing from previous yank (or general register) [2021-08-22 14:01] - yank st - say: grtx and it will insert yanked stuff from cursor to next x - grr replaces hole line - gr replaces what you selected","title":"replace with register"},{"location":"ll/vim/vim/#favorite-plugins","text":"Ultisnips got an own page Tool What folke/which-key.nvim Absolutely amazing tool. Shows me all possible keybindings. Closes a huge gap to emacs. voldikss/vim-floatterm Shell integration key. wbthomason/packer.nvim Current Plugin Manager. Not sure if better than vim-plug. But as good. liuchengxu/vista.vim View and search LSP symbols, tags in Vim/NeoVim. neovim/nvim-lspconfig LSP default, no more coc. Coc was good though. sbdchd/neoformat Formatting via external tools but w/o breaking marks glepnir/lspsaga.nvim LSP Features like rename and reference lookups nvim-treesitter/nvim-treesitter-refactor --shows current scope usages and can rename symbol in buffer Not in use, breaks sometimes indentation. Waiting for fix. vijaymarupudi/nvim-fzf --lua bindings. kdheepak/lazygit.nvim lazygit integration tpope/vim-commentary tpope/vim-rhubarb -- :Gbrowse -> open browser in current gh repo. also autocompletes issues ... tpope/vim-surround -- ysiw -> foo -> foo* tpope/vim-repeat tpope/vim-eunuch --:Rename :Move :Delete tpope/vim-obsession -- :mksession tpope/vim-sleuth -- automatically adjusts 'shiftwidth' and 'expandtab' heuristically based on the current file, krisajenkins/vim-projectlocal --project local .vimrc files godlygeek/tabular Smart alignment dense-analysis/ale currently mainly for bash scripting, overwhelming in python, while coding folke/trouble.nvim Fix all troubled code places. folke/lsp-colors.nvim Tons of new colors for LSP related situations iamcco/markdown-preview.nvim Real time markdown previewer farmergreg/vim-lastplace Stores last edit location perfectly Here all plugins in my nvim: Cmd Output $ bat -f --terminal-width = 200 /home/gk/.config/nvim/lua/plugins.lua $ bat -f --terminal-width=200 /home/gk/.config/nvim/lua/plugins.lua \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m\u2502 \u001b[0mFile: \u001b[1m/home/gk/.config/nvim/lua/plugins.lua\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m \u001b[38;5;238m 1\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m plugins with keymappings\u001b[0m \u001b[38;5;238m 2\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m gh shortcut opens the links\u001b[0m \u001b[38;5;238m 3\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mmap\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mutils\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mmap\u001b[0m \u001b[38;5;238m 4\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;249;38;114mlocal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mleader\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m<space>\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 5\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 6\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mvim.g.loaded_netrwPlugin = false (gk: why did he have that - prevents gx?)\u001b[0m \u001b[38;5;238m 7\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcmd\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m[[\u001b[0m\u001b[38;2;230;219;116mpackadd cfilter\u001b[0m\u001b[38;2;230;219;116m]]\u001b[0m \u001b[38;5;238m 8\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 9\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mpacker\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mstartup\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 10\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 11\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mwbthomason/packer.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 12\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 13\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use {\u001b[0m \u001b[38;5;238m 14\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"haya14busa/incsearch.vim\",\u001b[0m \u001b[38;5;238m 15\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m config = function()\u001b[0m \u001b[38;5;238m 16\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#auto_nohlsearch\"] = true\u001b[0m \u001b[38;5;238m 17\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#magic\"] = \"\\\\v\"\u001b[0m \u001b[38;5;238m 18\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#consistent_n_direction\"] = true\u001b[0m \u001b[38;5;238m 19\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#do_not_save_error_message_history\"] = true\u001b[0m \u001b[38;5;238m 20\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m end\u001b[0m \u001b[38;5;238m 21\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 22\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 23\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m Color scheme\u001b[0m \u001b[38;5;238m 24\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 25\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mAlessandroYorba/Despacio\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 26\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116marcticicestudio/nord-vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 27\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mchriskempson/vim-tomorrow-theme\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 28\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcocopon/iceberg.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 29\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mmg979/vim-studio-dark\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m\" , :colorscheme vsark\u001b[0m \u001b[38;5;238m 30\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnavarasu/onedark.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 31\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnightsense/cosmic_latte\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 32\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnightsense/snow\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 33\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnightsense/stellarized\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 34\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116msainnhe/gruvbox-material\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 35\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116msheerun/vim-wombat-scheme\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 36\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116msjl/badwolf\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 37\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtomasiser/vim-code-dark\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 38\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtomasr/molokai\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 39\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtyrannicaltoucan/vim-deep-space\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 40\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mw0ng/vim-hybrid\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 41\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116myashguptaz/calvera-dark.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 42\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116myuttie/hydrangea-vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 43\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 44\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 45\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 46\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkyazdani42/nvim-web-devicons\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 47\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 48\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnvim-web-devicons\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242msetup\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 49\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mdefault\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m \u001b[38;5;238m 50\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 51\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 52\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 53\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m documentation stubs for python, js, ...:\u001b[0m \u001b[38;5;238m 54\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m postinstall: :call doge#install()\u001b[0m \u001b[38;5;238m 55\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m Leader D on a func sig:\u001b[0m \u001b[38;5;238m 56\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkkoomen/vim-doge\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 57\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 58\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mliuchengxu/vista.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 59\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mneovim/nvim-lspconfig\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 60\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m our link to all code formatters like prettier or black\u001b[0m \u001b[38;5;238m 61\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116msbdchd/neoformat\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 62\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mray-x/lsp_signature.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 63\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 64\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mhrsh7th/nvim-compe\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 65\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mrequires\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 66\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mhrsh7th/vim-vsnip\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 67\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m {\"andersevenrud/compe-tmux\"}\u001b[0m \u001b[38;5;238m 68\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 69\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 70\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcompe\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242msetup\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 71\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116menabled\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 72\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mautocomplete\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 73\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mdebug\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mfalse\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 74\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmin_length\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 75\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mpreselect\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116menable\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 76\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mthrottle_time\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m80\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 77\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116msource_timeout\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m200\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 78\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mresolve_timeout\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m800\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 79\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mincomplete_delay\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m400\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 80\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmax_abbr_width\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m100\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 81\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmax_kind_width\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m100\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 82\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmax_menu_width\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m100\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 83\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mdocumentation\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 84\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mborder\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m the border option is the same as `|help nvim_open_win|`\u001b[0m \u001b[38;5;238m 85\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mwinhighlight\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mNormalFloat:CompeDocumentation,FloatBorder:CompeDocumentationBorder\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 86\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmax_width\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m120\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 87\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmin_width\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m60\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 88\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmax_height\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mmath\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;102;217;239mfloor\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mo\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mlines\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m*\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m0\u001b[0m\u001b[38;2;190;132;255m.\u001b[0m\u001b[38;2;190;132;255m3\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 89\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mmin_height\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m1\u001b[0m \u001b[38;5;238m 90\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 91\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116msource\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 92\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mpath\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 93\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mbuffer\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 94\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mcalc\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 95\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mnvim_lsp\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 96\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mnvim_lua\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 97\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mvsnip = true,\u001b[0m \u001b[38;5;238m 98\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116multisnips\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m \u001b[38;5;238m 99\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mluasnip = true\u001b[0m \u001b[38;5;238m 100\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 101\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 102\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 103\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 104\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mjose-elias-alvarez/nvim-lsp-ts-utils\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 105\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mglepnir/lspsaga.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 106\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m could not switch off indentation bug for python, e.g. when brackets are in the context before\u001b[0m \u001b[38;5;238m 107\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use {\u001b[0m \u001b[38;5;238m 108\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"nvim-treesitter/nvim-treesitter\",\u001b[0m \u001b[38;5;238m 109\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m run = \":TSUpdate\",\u001b[0m \u001b[38;5;238m 110\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m config = function()\u001b[0m \u001b[38;5;238m 111\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m require \"nvim-treesitter.configs\".setup {\u001b[0m \u001b[38;5;238m 112\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m ensure_installed = \"all\",\u001b[0m \u001b[38;5;238m 113\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m highlight = {\u001b[0m \u001b[38;5;238m 114\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m enable = true,\u001b[0m \u001b[38;5;238m 115\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m language_tree = true\u001b[0m \u001b[38;5;238m 116\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m },\u001b[0m \u001b[38;5;238m 117\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m indent = {\u001b[0m \u001b[38;5;238m 118\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m enable = false -- kills python indent on return\u001b[0m \u001b[38;5;238m 119\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m },\u001b[0m \u001b[38;5;238m 120\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m refactor = {\u001b[0m \u001b[38;5;238m 121\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m highlight_definitions = {\u001b[0m \u001b[38;5;238m 122\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m enable = true\u001b[0m \u001b[38;5;238m 123\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 124\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m },\u001b[0m \u001b[38;5;238m 125\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m autotag = {\u001b[0m \u001b[38;5;238m 126\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m enable = true\u001b[0m \u001b[38;5;238m 127\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m },\u001b[0m \u001b[38;5;238m 128\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m -- context_commentstring = {\u001b[0m \u001b[38;5;238m 129\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m -- enable = true\u001b[0m \u001b[38;5;238m 130\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m -- },\u001b[0m \u001b[38;5;238m 131\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m textobjects = {\u001b[0m \u001b[38;5;238m 132\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m select = {\u001b[0m \u001b[38;5;238m 133\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m enable = true,\u001b[0m \u001b[38;5;238m 134\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m keymaps = {\u001b[0m \u001b[38;5;238m 135\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m [\"af\"] = \"@function.outer\",\u001b[0m \u001b[38;5;238m 136\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m [\"if\"] = \"@function.inner\",\u001b[0m \u001b[38;5;238m 137\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m [\"ac\"] = \"@class.outer\", --vac: visual select whole class\u001b[0m \u001b[38;5;238m 138\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m [\"ic\"] = \"@class.inner\"\u001b[0m \u001b[38;5;238m 139\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 140\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 141\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 142\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 143\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m end\u001b[0m \u001b[38;5;238m 144\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 145\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use \"nvim-treesitter/nvim-treesitter-refactor\" --shows current scope usages and can rename symbol in buffer\u001b[0m \u001b[38;5;238m 146\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use \"nvim-treesitter/nvim-treesitter-textobjects\" -- allows to select e.g. class\u001b[0m \u001b[38;5;238m 147\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use \"JoosepAlviste/nvim-ts-context-commentstring\" --different commenting styles in one file\u001b[0m \u001b[38;5;238m 148\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m \u001b[38;5;238m 149\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94muse \"windwp/nvim-ts-autotag\" --renames current html tag. requires treesitter\u001b[0m \u001b[38;5;238m 150\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 151\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 152\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mjunegunn/fzf.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 153\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mrequires\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 154\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mjunegunn/fzf\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 155\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 156\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 157\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfzf_buffers_jump\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m \u001b[38;5;238m 158\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfzf_layout\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116mwindow\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116mwidth\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m0\u001b[0m\u001b[38;2;190;132;255m.\u001b[0m\u001b[38;2;190;132;255m9\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mheight\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m0\u001b[0m\u001b[38;2;190;132;255m.\u001b[0m\u001b[38;2;190;132;255m99\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116myoffset\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m0\u001b[0m\u001b[38;2;190;132;255m.\u001b[0m\u001b[38;2;190;132;255m1\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 159\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mcmd\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m[[\u001b[0m\u001b[38;2;230;219;116mlet $FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS . ' --reverse --ansi'\u001b[0m\u001b[38;2;230;219;116m]]\u001b[0m \u001b[38;5;238m 160\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 161\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 162\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mvijaymarupudi/nvim-fzf\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mlua bindings. see mappings\u001b[0m \u001b[38;5;238m 163\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 164\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtpope/vim-commentary\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m gc, gcc\u001b[0m \u001b[38;5;238m 165\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94muse \"tpope/vim-fugitive\"\u001b[0m \u001b[38;5;238m 166\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkdheepak/lazygit.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 167\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtpope/vim-rhubarb\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m :Gbrowse -> open browser in current gh repo. also autocompletes issues ...\u001b[0m \u001b[38;5;238m 168\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtpope/vim-surround\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m ysiw* -> foo -> *foo*\u001b[0m \u001b[38;5;238m 169\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtpope/vim-repeat\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 170\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtpope/vim-eunuch\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m:Rename :Move :Delete\u001b[0m \u001b[38;5;238m 171\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtpope/vim-obsession\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m :mksession\u001b[0m \u001b[38;5;238m 172\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m problem in boxes.py (mdv): shiftwdith set to 3\u001b[0m \u001b[38;5;238m 173\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94muse \"tpope/vim-sleuth\" -- automatically adjusts 'shiftwidth' and 'expandtab' heuristically based on the current file,\u001b[0m \u001b[38;5;238m 174\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mtmhedberg/SimpylFold\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m fold python only on class def (indent)\u001b[0m \u001b[38;5;238m 175\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 176\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m Projects / Git\u001b[0m \u001b[38;5;238m 177\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkrisajenkins/vim-projectlocal\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mproject local .vimrc files\u001b[0m \u001b[38;5;238m 178\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 179\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 180\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mairblade/vim-gitgutter\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mtons of features for hunks commits\u001b[0m \u001b[38;5;238m 181\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 182\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgitgutter_map_keys\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mfalse\u001b[0m \u001b[38;5;238m 183\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgitgutter_sign_added\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 184\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgitgutter_sign_modified\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 185\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgitgutter_sign_removed\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 186\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgitgutter_sign_removed_first_line\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 187\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgitgutter_sign_removed_above_and_below\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 188\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgitgutter_sign_modified_removed\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 189\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 190\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 191\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 192\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mwincent/vcs-jump\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mputs stuff into quickfix list, like hunks. See his old settings.lua to navigate that list\u001b[0m \u001b[38;5;238m 193\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 194\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 195\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m HOLY MOLY. Github w/o the browser. Everything! Uses gh command\u001b[0m \u001b[38;5;238m 196\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mpwntester/octo.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 197\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mrequires\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 198\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnvim-lua/plenary.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 199\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnvim-lua/popup.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 200\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnvim-telescope/telescope.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 201\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 202\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 203\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 204\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m online help for , and <SPC> completions\u001b[0m \u001b[38;5;238m 205\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mfolke/which-key.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 206\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 207\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 208\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mvoldikss/vim-floaterm\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 209\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 210\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfloaterm_autoclosg\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m2\u001b[0m \u001b[38;5;238m 211\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 212\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m open term at cwd:\u001b[0m \u001b[38;5;238m 213\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 214\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mrhysd/git-messenger.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mleader gm -> git commit with that change\u001b[0m \u001b[38;5;238m 215\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 216\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mgit_messenger_floating_win_opts\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116mborder\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfloating_window_border_dark\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 217\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 218\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 219\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 220\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m file explorer, diretory browser\u001b[0m \u001b[38;5;238m 221\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 222\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mShougo/defx.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 223\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mrun\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m:UpdateRemotePlugins\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 224\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mrequires\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 225\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkristijanhusak/defx-git\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 226\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkristijanhusak/defx-icons\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 227\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 228\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 229\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mdefx_icons_root_opened_tree_icon\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u251c\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 230\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mdefx_icons_nested_opened_tree_icon\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u251c\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 231\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mdefx_icons_nested_closed_tree_icon\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 232\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mdefx_icons_directory_icon\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2502\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 233\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mdefx_icons_parent_icon\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u251c\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 234\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 235\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfn\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mdefx#custom#column\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 236\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mmark\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 237\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 238\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mreadonly_icon\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u25c6\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 239\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mselected_icon\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u25a0\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 240\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 241\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 242\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 243\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfn\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mdefx#custom#column\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 244\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mindent\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 245\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 246\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mindent\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 247\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 248\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 249\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 250\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfn\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mdefx#custom#option\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 251\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m_\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 252\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 253\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcolumns\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mindent:mark:icons:git:filename\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 254\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 255\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 256\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 257\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mfn\u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mdefx#custom#column\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m \u001b[38;5;238m 258\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mgit\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 259\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mindicators\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 260\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 261\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mModified\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u25c9\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 262\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mStaged\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u271a\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 263\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mUntracked\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u25c8\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 264\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mRenamed\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u279c\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 265\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mUnmerged\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2550\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 266\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mIgnored\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u25a8\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 267\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mDeleted\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m\u2716\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 268\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m[\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mUnknown\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m]\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116m?\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 269\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 270\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 271\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 272\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 273\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 274\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mnavigate between splits and panes (tmux)\u001b[0m \u001b[38;5;238m 275\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 276\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mnumToStr/Navigator.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 277\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 278\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mrequire\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mNavigator\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242msetup\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 279\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 280\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 281\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 282\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mSirVer/ultisnips\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 283\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mhonza/vim-snippets\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 284\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 285\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m auto parens (with repeat by dot:)\u001b[0m \u001b[38;5;238m 286\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use {\u001b[0m \u001b[38;5;238m 287\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"cohama/lexima.vim\",\u001b[0m \u001b[38;5;238m 288\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m config = function()\u001b[0m \u001b[38;5;238m 289\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.lexima_no_default_rules = true\u001b[0m \u001b[38;5;238m 290\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.fn[\"lexima#set_default_rules\"]()\u001b[0m \u001b[38;5;238m 291\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.completion_confirm_key = \"\"\u001b[0m \u001b[38;5;238m 292\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m end\u001b[0m \u001b[38;5;238m 293\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 294\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m -- super for python: textobjects based on indent level: dai dii (inner indent) or daI dII (with line below)\u001b[0m \u001b[38;5;238m 295\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mmichaeljsmith/vim-indent-object\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 296\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mgodlygeek/tabular\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 297\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m again textobjects: cin( jumps into next bracket, changing.\u001b[0m \u001b[38;5;238m 298\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mwellle/targets.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 299\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m show colors over color code:\u001b[0m \u001b[38;5;238m 300\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 301\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mrrethy/vim-hexokinase\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 302\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116mrun\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mmake hexokinase\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 303\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 304\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mHexokinase_optInPatterns\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mfull_hex,rgb,rgba,hsl,hsla\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 305\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 306\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 307\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m yy -> gcp -> inserts characterwise, w/o the new lines. and much more\u001b[0m \u001b[38;5;238m 308\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mvim-scripts/UnconditionalPaste\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 309\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 310\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m incremental searching. hefty\u001b[0m \u001b[38;5;238m 311\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 312\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use {\u001b[0m \u001b[38;5;238m 313\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"haya14busa/incsearch.vim\",\u001b[0m \u001b[38;5;238m 314\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m config = function()\u001b[0m \u001b[38;5;238m 315\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#auto_nohlsearch\"] = true\u001b[0m \u001b[38;5;238m 316\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#magic\"] = \"\\\\v\"\u001b[0m \u001b[38;5;238m 317\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#consistent_n_direction\"] = true\u001b[0m \u001b[38;5;238m 318\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g[\"incsearch#do_not_save_error_message_history\"] = true\u001b[0m \u001b[38;5;238m 319\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m end\u001b[0m \u001b[38;5;238m 320\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 321\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 322\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m e.g. /foo<C>P -> completes in commandline from buffer\u001b[0m \u001b[38;5;238m 323\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mvim-scripts/CmdlineComplete\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 324\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 325\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m like rg but matches remain in buffer split: :Ack foo\u001b[0m \u001b[38;5;238m 326\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 327\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mmileszs/ack.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 328\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 329\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mackprg\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mrg --vimgrep --no-heading --hidden --smart-case\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 330\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 331\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 332\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 333\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mromainl/vim-qf\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 334\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 335\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mqf_nowrap\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mfalse\u001b[0m \u001b[38;5;238m 336\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mqf_max_height\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255m20\u001b[0m \u001b[38;5;238m 337\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 338\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 339\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 340\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mmachakann/vim-sandwich\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m operate on textobjects\u001b[0m \u001b[38;5;238m 341\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 342\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mbounceme/poppy.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m highlite parens\u001b[0m \u001b[38;5;238m 343\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 344\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use {\u001b[0m \u001b[38;5;238m 345\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"vimwiki/vimwiki\",\u001b[0m \u001b[38;5;238m 346\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m branch = \"dev\",\u001b[0m \u001b[38;5;238m 347\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m requires = {{\"inkarkat/vim-SyntaxRange\"}},\u001b[0m \u001b[38;5;238m 348\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m config = function()\u001b[0m \u001b[38;5;238m 349\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.vimwiki_list = {\u001b[0m \u001b[38;5;238m 350\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m {\u001b[0m \u001b[38;5;238m 351\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m path = \"~/vimwiki/\",\u001b[0m \u001b[38;5;238m 352\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m auto_tags = 1,\u001b[0m \u001b[38;5;238m 353\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m auto_generate_links = 1,\u001b[0m \u001b[38;5;238m 354\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m auto_generate_tags = 1,\u001b[0m \u001b[38;5;238m 355\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m links_space_char = \"-\"\u001b[0m \u001b[38;5;238m 356\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 357\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 358\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.vimwiki_folding = \"custom\"\u001b[0m \u001b[38;5;238m 359\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.vimwiki_use_calendar = 0\u001b[0m \u001b[38;5;238m 360\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.vimwiki_global_ext = 0\u001b[0m \u001b[38;5;238m 361\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.vimwiki_valid_html_tags = \"b,i,s,u,sub,sup,kbd,br,hr,span\"\u001b[0m \u001b[38;5;238m 362\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 363\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.vimwiki_key_mappings = {\u001b[0m \u001b[38;5;238m 364\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m all_maps = 1,\u001b[0m \u001b[38;5;238m 365\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m global = 0,\u001b[0m \u001b[38;5;238m 366\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m headers = 0,\u001b[0m \u001b[38;5;238m 367\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m text_objs = 1,\u001b[0m \u001b[38;5;238m 368\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m table_format = 0,\u001b[0m \u001b[38;5;238m 369\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m table_mappings = 1,\u001b[0m \u001b[38;5;238m 370\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m lists = 1,\u001b[0m \u001b[38;5;238m 371\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m links = 0,\u001b[0m \u001b[38;5;238m 372\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m html = 0,\u001b[0m \u001b[38;5;238m 373\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m mouse = 1\u001b[0m \u001b[38;5;238m 374\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 375\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m end\u001b[0m \u001b[38;5;238m 376\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 377\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mdense-analysis/ale\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 378\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mbkad/camelcasemotion\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m moves from f to b in foo_bar or fooBar or FooBar\u001b[0m \u001b[38;5;238m 379\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 380\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mvim-scripts/ReplaceWithRegister\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94mgr, grrr https://github.com/vim-scripts/ReplaceWithRegister\u001b[0m \u001b[38;5;238m 381\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mvim-scripts/ReplaceWithSameIndentRegister\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 382\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 383\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116marthurxavierx/vim-caser\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 384\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 385\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mervandew/supertab\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 386\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mz1mm32m4n/vim-superman\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m man page viewer in vim\u001b[0m \u001b[38;5;238m 387\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 388\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 389\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mrhysd/clever-f.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 390\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 391\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mclever_f_fix_key_direction\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m f always forward, F always back\u001b[0m \u001b[38;5;238m 392\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mclever_f_show_prompt\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m f always forward, F always back\u001b[0m \u001b[38;5;238m 393\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 394\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 395\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 396\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mfolke/trouble.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 397\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mfolke/lsp-colors.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 398\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkepbod/quick-scope\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m shows unique matching chars the line -> f<char> there\u001b[0m \u001b[38;5;238m 399\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 400\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m displays marks\u001b[0m \u001b[38;5;238m 401\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m \u001b[38;5;238m 402\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkshenoy/vim-signature\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m \u001b[38;5;238m 403\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;166;226;46mconfig\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;102;217;239mfunction\u001b[0m\u001b[38;2;248;248;242m(\u001b[0m\u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 404\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;255;255;255mvim\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mg\u001b[0m\u001b[38;2;248;248;242m.\u001b[0m\u001b[38;2;248;248;242mSignatureForceRemoveGlobal\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114m=\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;190;132;255mtrue\u001b[0m \u001b[38;5;238m 405\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 406\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 407\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m Make blockwise Visual mode more useful\u001b[0m \u001b[38;5;238m 408\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mkana/vim-niceblock\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m \u001b[38;5;238m 409\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m Stores edit location over file close\u001b[0m \u001b[38;5;238m 410\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94muse \"farmergreg/vim-lastplace\"\u001b[0m \u001b[38;5;238m 411\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94muse \"vim-scripts/restore_view.vim\"\u001b[0m \u001b[38;5;238m 412\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 413\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m we have our ,g\u001b[0m \u001b[38;5;238m 414\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m use {\u001b[0m \u001b[38;5;238m 415\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"tyru/open-browser.vim\",\u001b[0m \u001b[38;5;238m 416\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m config = function()\u001b[0m \u001b[38;5;238m 417\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.g.openbrowser_default_search = \"duckduckgo\"\u001b[0m \u001b[38;5;238m 418\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m end\u001b[0m \u001b[38;5;238m 419\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m }\u001b[0m \u001b[38;5;238m 420\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m postinstall:\u001b[0m \u001b[38;5;238m 421\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m cd /home/gk/.local/share/nvim/site/pack/packer/start/markdown-preview.nvim/app\u001b[0m \u001b[38;5;238m 422\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m yarn install\u001b[0m \u001b[38;5;238m 423\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116miamcco/markdown-preview.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m, 'plasticboy/vim-markdown' }\u001b[0m \u001b[38;5;238m 424\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mdhruvasagar/vim-table-mode\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 425\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 426\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mglepnir/galaxyline.nvim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mmhinz/vim-startify\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 427\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242muse\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;248;248;242m{\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mcespare/vim-toml\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116maklt/plantuml-syntax\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m,\u001b[0m\u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;230;219;116mchr4/nginx.vim\u001b[0m\u001b[38;2;230;219;116m\"\u001b[0m\u001b[38;2;248;248;242m}\u001b[0m \u001b[38;5;238m 428\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 429\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \", config = function()\u001b[0m \u001b[38;5;238m 430\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \" function! MKDPSplit(url)\u001b[0m \u001b[38;5;238m 431\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \" call system('firefox '.shellescape(a:url). ' &')\u001b[0m \u001b[38;5;238m 432\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \" endfunction\u001b[0m \u001b[38;5;238m 433\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \" let g:mkdp_browserfunc = 'MKDPSplit'\u001b[0m \u001b[38;5;238m 434\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \" let g:mkdp_open_to_the_world = 1\u001b[0m \u001b[38;5;238m 435\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \" let g:mkdp_auto_close = 1\u001b[0m \u001b[38;5;238m 436\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \" let g:mkdp_auto_start = 0\u001b[0m \u001b[38;5;238m 437\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 438\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94muse \"jparise/vim-graphql\"\u001b[0m \u001b[38;5;238m 439\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m \u001b[0m\u001b[38;2;249;38;114mend\u001b[0m \u001b[38;5;238m 440\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;248;248;242m)\u001b[0m \u001b[38;5;238m 441\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m begin_archive\u001b[0m \u001b[38;5;238m 442\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"/\", \"<Plug>(incsearch-forward)\", {noremap = false})\u001b[0m \u001b[38;5;238m 443\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"?\", \"<Plug>(incsearch-backward)\", {noremap = false})\u001b[0m \u001b[38;5;238m 444\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"n\", \"<Plug>(incsearch-nohl-n)\", {noremap = false})\u001b[0m \u001b[38;5;238m 445\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"N\", \"<Plug>(incsearch-nohl-N)\", {noremap = false})\u001b[0m \u001b[38;5;238m 446\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"*\", \"<Plug>(incsearch-nohl-*)N\", {noremap = false})\u001b[0m \u001b[38;5;238m 447\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"#\", \"<Plug>(incsearch-nohl-#)\", {noremap = false}) -- search word under cursor\u001b[0m \u001b[38;5;238m 448\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"g*\", \"<Plug>(incsearch-nohl-g*)N\", {noremap = false})\u001b[0m \u001b[38;5;238m 449\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"g#\", \"<Plug>(incsearch-nohl-g#)\", {noremap = false})\u001b[0m \u001b[38;5;238m 450\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 451\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<C-H>\", \"<CMD>lua require('Navigator').left()<CR>\")\u001b[0m \u001b[38;5;238m 452\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<C-J>\", \"<CMD>lua require('Navigator').down()<CR>\")\u001b[0m \u001b[38;5;238m 453\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<C-K>\", \"<CMD>lua require('Navigator').up()<CR>\")\u001b[0m \u001b[38;5;238m 454\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<C-L>\", \"<CMD>lua require('Navigator').right()<CR>\")\u001b[0m \u001b[38;5;238m 455\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 456\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"\", \"w\", \"<Plug>CamelCaseMotion_w\", {noremap = false})\u001b[0m \u001b[38;5;238m 457\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"\", \"b\", \"<Plug>CamelCaseMotion_b\", {noremap = false})\u001b[0m \u001b[38;5;238m 458\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"\", \"e\", \"<Plug>CamelCaseMotion_e\", {noremap = false})\u001b[0m \u001b[38;5;238m 459\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"\", \"ge\", \"<Plug>CamelCaseMotion_ge\", {noremap = false})\u001b[0m \u001b[38;5;238m 460\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 461\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<C-p>\", \":lua require('fuzzy').files('')<CR>\")\u001b[0m \u001b[38;5;238m 462\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gf\", \":lua require('fuzzy').git_files()<CR>\")\u001b[0m \u001b[38;5;238m 463\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"n\", \":lua require('fuzzy').files(vim.fn.expand('%:h'))<CR>\")\u001b[0m \u001b[38;5;238m 464\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"p\", \":Buffers<CR>\")\u001b[0m \u001b[38;5;238m 465\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"<C-p>\", \":Commands<CR>\")\u001b[0m \u001b[38;5;238m 466\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"<C-h>\", \":Helptags<CR>\")\u001b[0m \u001b[38;5;238m 467\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"m\", \":Marks<CR>\")\u001b[0m \u001b[38;5;238m 468\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"f\", \":lua require('fuzzy').symbols()<CR>\", {silent = true})\u001b[0m \u001b[38;5;238m 469\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 470\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"-\", \":Defx -show-ignored-files -search=`expand('%:p')`<CR>\")\u001b[0m \u001b[38;5;238m 471\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 472\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\u001b[0m \u001b[38;5;238m 473\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"i\",\u001b[0m \u001b[38;5;238m 474\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"<CR>\",\u001b[0m \u001b[38;5;238m 475\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m [[pumvisible() ? complete_info()[\"selected\"] != \"-1\" ? \"\\<Plug>(completion_confirm_completion)\" : \"\\<c-e>\" : lexima#expand('<LT>CR>', 'i')]],\u001b[0m \u001b[38;5;238m 476\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m {expr = true, noremap = false}\u001b[0m \u001b[38;5;238m 477\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m )\u001b[0m \u001b[38;5;238m 478\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 479\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"grr\", \"<Plug>ReplaceWithSameIndentRegisterLine\", {noremap = false})\u001b[0m \u001b[38;5;238m 480\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"grR\", \"<Plug>ReplaceWithRegisterLine\", {noremap = false})\u001b[0m \u001b[38;5;238m 481\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"gr\", \"<Plug>ReplaceWithRegisterOperator\", {noremap = false})\u001b[0m \u001b[38;5;238m 482\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 483\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-1>\", \"<Plug>UnconditionalPasteLineAfter\", {noremap = false})\u001b[0m \u001b[38;5;238m 484\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-2>\", \"<Plug>UnconditionalPasteLineBefore\", {noremap = false})\u001b[0m \u001b[38;5;238m 485\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-3>\", \"<Plug>UnconditionalPasteCommaAfter\", {noremap = false})\u001b[0m \u001b[38;5;238m 486\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-4>\", \"<Plug>UnconditionalPasteCommaBefore\", {noremap = false})\u001b[0m \u001b[38;5;238m 487\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-5>\", \"<Plug>UnconditionalPasteCommaSingleQuoteAfter\", {noremap = false})\u001b[0m \u001b[38;5;238m 488\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-6>\", \"<Plug>UnconditionalPasteCommaSingleQuoteBefore\", {noremap = false})\u001b[0m \u001b[38;5;238m 489\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-7>\", \"<Plug>VimwikiIncrementListItem\", {noremap = false})\u001b[0m \u001b[38;5;238m 490\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"<CLEAR-8>\", \"<Plug>VimwikiDecrementListItem\", {noremap = false})\u001b[0m \u001b[38;5;238m 491\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"glp\", \"<Plug>UnconditionalPasteIndentedAfter\", {noremap = false})\u001b[0m \u001b[38;5;238m 492\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"glP\", \"<Plug>UnconditionalPasteIndentedBefore\", {noremap = false})\u001b[0m \u001b[38;5;238m 493\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 494\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"gco\", \"m'yyp:Commentary<CR>`'\")\u001b[0m \u001b[38;5;238m 495\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 496\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"gj\", \"<Plug>(GitGutterNextHunk)\", {noremap = false})\u001b[0m \u001b[38;5;238m 497\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", \"gk\", \"<Plug>(GitGutterPrevHunk)\", {noremap = false})\u001b[0m \u001b[38;5;238m 498\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gd\", \":execute 'Gvdiff ' .. g:git_head<CR>\")\u001b[0m \u001b[38;5;238m 499\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gr\", \":Gread<CR>\")\u001b[0m \u001b[38;5;238m 500\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gb\", \":Gblame<CR>\")\u001b[0m \u001b[38;5;238m 501\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gs\", \":Gstatus<CR><C-w>o\")\u001b[0m \u001b[38;5;238m 502\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gc\", \":BCommits<CR>\")\u001b[0m \u001b[38;5;238m 503\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gc\", \":BCommits<CR>\")\u001b[0m \u001b[38;5;238m 504\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gm\", \"<Plug>(git-messenger)\", {noremap = false})\u001b[0m \u001b[38;5;238m 505\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gu\", \"<Plug>(GitGutterUndoHunk)\", {noremap = false})\u001b[0m \u001b[38;5;238m 506\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"ga\", \"<Plug>(GitGutterStageHunk)\", {noremap = false})\u001b[0m \u001b[38;5;238m 507\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\u001b[0m \u001b[38;5;238m 508\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \"n\",\u001b[0m \u001b[38;5;238m 509\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m leader .. \"gg\",\u001b[0m \u001b[38;5;238m 510\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m \":lua require('lists').change_active('Quickfix')<CR>:execute 'VcsJump diff ' .. g:git_head<CR>\",\u001b[0m \u001b[38;5;238m 511\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m {silent = true}\u001b[0m \u001b[38;5;238m 512\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m )\u001b[0m \u001b[38;5;238m 513\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gn\", \":lua require('lists').change_active('Quickfix')<CR>:VcsJump merge<CR>\")\u001b[0m \u001b[38;5;238m 514\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gh\", \":diffget //2<CR> :diffupdate<CR>\")\u001b[0m \u001b[38;5;238m 515\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"gl\", \":diffget //3<CR> :diffupdate<CR>\")\u001b[0m \u001b[38;5;238m 516\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 517\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map({\"n\", \"x\"}, \"s\", \"<Nope>\", {noremap = false})\u001b[0m \u001b[38;5;238m 518\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 519\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map({\"n\", \"v\"}, \"gx\", \"<Plug>(openbrowser-smart-search)\", {noremap = false})\u001b[0m \u001b[38;5;238m 520\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 521\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"n\", leader .. \"N\", \":e %:h/\")\u001b[0m \u001b[38;5;238m 522\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 523\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"v\", \"<\", \"<gv\")\u001b[0m \u001b[38;5;238m 524\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"v\", \">\", \">gv\")\u001b[0m \u001b[38;5;238m 525\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"v\", \"*\", '\"vygv:<C-U>/\\\\<<C-R>v\\\\><CR>')\u001b[0m \u001b[38;5;238m 526\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"v\", \"#\", '\"vygv:<C-U>?\\\\<<C-R>v\\\\><CR>')\u001b[0m \u001b[38;5;238m 527\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 528\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"v\", \"I\", \"<Plug>(niceblock-I)\", {noremap = false})\u001b[0m \u001b[38;5;238m 529\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"v\", \"gI\", \"<Plug>(niceblock-gI)\", {noremap = false})\u001b[0m \u001b[38;5;238m 530\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"v\", \"A\", \"<Plug>(niceblock-A)\", {noremap = false})\u001b[0m \u001b[38;5;238m 531\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 532\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"x\", \"P\", [['\"_d\"'.v:register.'P']], {expr = true})\u001b[0m \u001b[38;5;238m 533\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 534\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"i\", \"<C-n>\", \"compe#complete()\", {expr = true})\u001b[0m \u001b[38;5;238m 535\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"i\", \"<CR>\", \"compe#confirm(lexima#expand('<LT>CR>', 'i'))\", {expr = true})\u001b[0m \u001b[38;5;238m 536\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"i\", \"<C-e>\", \"compe#close('<C-e>')\", {expr = true})\u001b[0m \u001b[38;5;238m 537\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 538\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"c\", \"<C-J>\", \"<DOWN>\")\u001b[0m \u001b[38;5;238m 539\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m map(\"c\", \"<C-K>\", \"<UP>\")\u001b[0m \u001b[38;5;238m 540\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;5;238m 541\u001b[0m \u001b[38;5;238m\u2502\u001b[0m \u001b[38;2;117;113;94m--\u001b[0m\u001b[38;2;117;113;94m vim.cmd [[cabbrev nw noautocmd write]]\u001b[0m \u001b[38;5;238m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u001b[0m typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Favorite Plugins"},{"location":"markdown_presentations.md/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Markdown Presentations \u00a4 Tpope's markdown-vim is integrated in neovim, here are the syntax rules: /home/gk/pds/bin/nvimfs/usr/share/nvim/runtime/syntax/markdown.vim Example for addons: /home/gk/pds/bin/nvimfs/usr/share/nvim/runtime/syntax/lsp_markdown.vim Better? https://github.com/preservim/vim-markdown/blob/master/syntax/markdown.vim or, forked: https://github.com/ixru/nvim-markdown Problem \u00a4 WE FUCKING CANNOT CHANGE THE CHARS - EXCEPT VIA CONCEAL - BUT THEN THERE IS JUST ONE HILIGHT GROUP (CONCEAL), - i.e. no color control for changed chars - only one char - in folds it's a nightmare to get the concealed chars: https://stackoverflow.com/questions/18275527/combining-vims-fold-and-conceal-feature In other words: We can conceal powerfully by regex. (:help conceal) or this https://github.com/alok/python-conceal/blob/master/after/syntax/python.vim But no color control then. https://github.com/dirkwallenstein/vim-match-control This can color existing stuff: https://github.com/dirkwallenstein/vim-match-control Maybe .. don't use vim: https://github.com/d0c-s4vage/lookatme Or Norg: https://github.com/nvim-neorg/neorg#-showcase images?! https://github.com/edluffy/hologram.nvim Wait: https://github.com/nvim-zh/md-nanny typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Markdown Presentations"},{"location":"markdown_presentations.md/#markdown-presentations","text":"Tpope's markdown-vim is integrated in neovim, here are the syntax rules: /home/gk/pds/bin/nvimfs/usr/share/nvim/runtime/syntax/markdown.vim Example for addons: /home/gk/pds/bin/nvimfs/usr/share/nvim/runtime/syntax/lsp_markdown.vim Better? https://github.com/preservim/vim-markdown/blob/master/syntax/markdown.vim or, forked: https://github.com/ixru/nvim-markdown","title":"Markdown Presentations"},{"location":"markdown_presentations.md/#problem","text":"WE FUCKING CANNOT CHANGE THE CHARS - EXCEPT VIA CONCEAL - BUT THEN THERE IS JUST ONE HILIGHT GROUP (CONCEAL), - i.e. no color control for changed chars - only one char - in folds it's a nightmare to get the concealed chars: https://stackoverflow.com/questions/18275527/combining-vims-fold-and-conceal-feature In other words: We can conceal powerfully by regex. (:help conceal) or this https://github.com/alok/python-conceal/blob/master/after/syntax/python.vim But no color control then. https://github.com/dirkwallenstein/vim-match-control This can color existing stuff: https://github.com/dirkwallenstein/vim-match-control Maybe .. don't use vim: https://github.com/d0c-s4vage/lookatme Or Norg: https://github.com/nvim-neorg/neorg#-showcase images?! https://github.com/edluffy/hologram.nvim Wait: https://github.com/nvim-zh/md-nanny typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Problem"},{"location":"programming/python/prompt_toolkit/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Prompt Toolkit \u00a4 [2022-04-27 06:27] Want to explore this a bit over time - when I have time. Seems powerful enough as foundation for e.g. pymux (tmux in python) See tutorial Example about easy context menus - but there are also layout managers and built in dialogs. Hotkeys Completions Before Character This works also with gevent monkey patched: from prompt_toolkit import prompt from prompt_toolkit.application import run_in_terminal from prompt_toolkit.key_binding import KeyBindings i = 2 bindings = KeyBindings () @bindings . add ( 'c-t' ) def _ ( event ): \" Say 'hello' at `c-t`\" def print_hello (): print ( 'hello world' ) os . system ( 'bash' ) # these inputs are NOT captured run_in_terminal ( print_hello ) @bindings . add ( 'c-i' ) def _ ( event ): \" Exit when `c-i` - `c-x` - needs term set ixo foo. \" event . app . exit () @bindings . add ( 'd' ) def _ ( event ): global i i *= 2 text = prompt ( '> ' , key_bindings = bindings ) print ( f 'You said: { text } ' ) print ( f 'i is now { i } ' ) from prompt_toolkit import PromptSession from prompt_toolkit.completion import WordCompleter completer = WordCompleter ([ u \"Hello\" , u \"World\" ]) session = PromptSession ( u \"> \" , completer = completer ) session . prompt ( pre_run = session . default_buffer . start_completion ) typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Prompt Toolkit"},{"location":"programming/python/prompt_toolkit/#prompt-toolkit","text":"[2022-04-27 06:27] Want to explore this a bit over time - when I have time. Seems powerful enough as foundation for e.g. pymux (tmux in python) See tutorial Example about easy context menus - but there are also layout managers and built in dialogs. Hotkeys Completions Before Character This works also with gevent monkey patched: from prompt_toolkit import prompt from prompt_toolkit.application import run_in_terminal from prompt_toolkit.key_binding import KeyBindings i = 2 bindings = KeyBindings () @bindings . add ( 'c-t' ) def _ ( event ): \" Say 'hello' at `c-t`\" def print_hello (): print ( 'hello world' ) os . system ( 'bash' ) # these inputs are NOT captured run_in_terminal ( print_hello ) @bindings . add ( 'c-i' ) def _ ( event ): \" Exit when `c-i` - `c-x` - needs term set ixo foo. \" event . app . exit () @bindings . add ( 'd' ) def _ ( event ): global i i *= 2 text = prompt ( '> ' , key_bindings = bindings ) print ( f 'You said: { text } ' ) print ( f 'i is now { i } ' ) from prompt_toolkit import PromptSession from prompt_toolkit.completion import WordCompleter completer = WordCompleter ([ u \"Hello\" , u \"World\" ]) session = PromptSession ( u \"> \" , completer = completer ) session . prompt ( pre_run = session . default_buffer . start_completion ) typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Prompt Toolkit"},{"location":"programming/python/prompt_toolkit/dup2/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Python's dup2 Method / Intercepting StdIn \u00a4 [2022-04-27 06:27] That time of the year, where I want to do \"simple\" terminal stdin redirection/duplication and realize I forgot everything I knew about it. Lets write it down this time. Output Examples \u00a4 Tee - By Overloading stdout.write Simple os.dup2 Output Example Non Blocking Subproc Stdout Reads (no threads) Same for fzf (fast) ~/ gk1 master ? 7 \u276f cat tee . py ; echo 'output:' ; python tee . py ; cat log import sys class tee : def __init__ ( self , _fd1 , _fd2 ) : self . fd1 = _fd1 self . fd2 = _fd2 def __del__ ( self ) : if self . fd1 != sys . stdout and self . fd1 != sys . stdout : self . fd1 . close () if self . fd2 != sys . stdout and self . fd2 != sys . stdout : self . fd2 . close () def write ( self , text ) : self . fd1 . write ( text ) self . fd2 . write ( text ) def flush ( self ) : self . fd1 . flush () self . fd2 . flush () stdoutsav = sys . stdout outputlog = open ( 'log' , \"w\" ) sys . stdout = tee ( stdoutsav , outputlog ) print ( 'foo' ) output : foo foo import os os . dup2 ( 1 , 3 ) print ( 'hi' , file = os . fdopen ( 3 , 'w' )) Both stdout and stderr need to be streamed. Both of them need to be non-blocking: when there is no output and when there are too much output. Do not want to use Threading or multiprocessing, also not willing to use pexpect. import subprocess as sbp import fcntl import os def non_block_read ( output ): fd = output . fileno () fl = fcntl . fcntl ( fd , fcntl . F_GETFL ) fcntl . fcntl ( fd , fcntl . F_SETFL , fl | os . O_NONBLOCK ) try : return output . readline () except : return \"\" with sbp . Popen ( 'find / -name foo' , shell = True , universal_newlines = True , encoding = 'utf-8' , bufsize = 1 , stdout = sbp . PIPE , stderr = sbp . PIPE ) as p : while True : out = non_block_read ( p . stdout ) err = non_block_read ( p . stderr ) if out : print ( out , end = '' ) if err : print ( 'E: ' + err , end = '' ) if p . poll () is not None : break The newlines are fubared in fzf, this works perfect and fast: No delay noticable in fzf. nice: import subprocess as sbp import fcntl import os def non_block_read ( output ): fd = output . fileno () fl = fcntl . fcntl ( fd , fcntl . F_GETFL ) fcntl . fcntl ( fd , fcntl . F_SETFL , fl | os . O_NONBLOCK ) try : return output . read ( 1024 ) except : return with sbp . Popen ( 'fzf' , shell = True , # universal_newlines=True, # encoding='utf-8', # bufsize=1, stdout = sbp . PIPE , stderr = sbp . PIPE , ) as p : while True : out = non_block_read ( p . stdout ) err = non_block_read ( p . stderr ) if out : os . write ( 1 , out ) if err : os . write ( 2 , err ) # print(err.decode('utf-8')) # , end='') if p . poll () is not None : break The inner process can detect it is not writing to a tty (try it out by calling python in a subproc and print sys.stdout.isatty() . But fzf does not care - for stdout and err, behaves normally. Intercept / Control User Input to SubProcess \u00a4 Big question: How to send user input from outside the process into e.g. fzf, i.e. control it. Up to now we came to the conclusion that doing it from a terminal stream hijacker is the best way: See termcontrol But can we do it from within python? I start fzf w/o piping sth into it, pid is 3124845: Via proc file system? First guess, naa, the fds there are api but not the pty itself. Writing into those does only produce the illusion that the user typed sth: with open ( '/proc/3124845/fd/0' , 'a' ) as fd : fd . write ( 'a' ); fd . flush () fzf does not see it - E.g. after we really typed an \"a\" on the keyboard: All open fds: lsof -P -n -p <pid> ~/.config/ptpython \u276f lsof -P -n -p 3140976 COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME fzf 3140976 gk cwd DIR 0,41 54 18761005 /home/gk/.config/ptpython fzf 3140976 gk rtd DIR 0,35 160 256 / fzf 3140976 gk txt REG 0,35 3234120 1629801 /usr/bin/fzf fzf 3140976 gk mem REG 0,33 1629801 /usr/bin/fzf (path dev=0,35) fzf 3140976 gk mem REG 0,33 1411886 /usr/lib64/ld-2.33.so (path dev=0,35) fzf 3140976 gk 0u CHR 136,7 0t0 10 /dev/pts/7 fzf 3140976 gk 1u CHR 136,7 0t0 10 /dev/pts/7 fzf 3140976 gk 2u CHR 136,7 0t0 10 /dev/pts/7 fzf 3140976 gk 3r CHR 5,0 0t0 11 /dev/tty fzf 3140976 gk 4u a_inode 0,14 0 11950 [eventpoll:3,5] fzf 3140976 gk 5r FIFO 0,13 0t0 31532188 pipe fzf 3140976 gk 6w FIFO 0,13 0t0 31532188 pipe The r/w FIFO at the end is interesting - is FZF maybe internally setting those up to be able to read data here and user input there? Is it in the filesystem? Answer - nope. A python program where I open a FIFO on a file reports python 3154696 gk 3r FIFO 0,41 0t0 18768718 /home/gk/myfifo I.e. I get the filename. pipe - that is the shell pipe which FZF built, using $FZF_DEFAULT_COMMAND - not for user input. Also a grep for fifo on fzf source code says nothing about setting such a fifo up - except in tmux mode and for some zshell completion. Simplified Program \u00a4 Since we do not know what fzf really does internally let's start with a simple python program. i = input ( 'q> ' ) print ( 'have it' ) lsof reports python 3160241 gk 0u CHR 136,11 0t0 14 /dev/pts/11 python 3160241 gk 1u CHR 136,11 0t0 14 /dev/pts/11 python 3160241 gk 2u CHR 136,11 0t0 14 /dev/pts/11 Again the naiv tries just result in stuff getting echoed but the 'have it' never shows up: From another term I tried: echo -e 'foo\\n' >> /dev/pts/11 echo -e 'foo\\x0a\\x0c' >> /dev/pts/11 cat /dev/stdin >/dev/pts/11 cat - > /dev/pts/11 Important There is only one stdin fd and it is owned by the python process itself. os.dup2 \u00a4 DESCRIPTION top The dup() system call allocates a new file descriptor that refers to the same open file description as the descriptor oldfd. (For an explanation of open file descriptions, see open(2).) The new file descriptor number is guaranteed to be the lowest-numbered file descriptor that was unused in the calling process. After a successful return, the old and new file descriptors may be used interchangeably. Since the two file descriptors refer to the same open file description, they share file offset and file status flags; for example, if the file offset is modified by using lseek(2) on one of the file descriptors, the offset is also changed for the other file descriptor. The two file descriptors do not share file descriptor flags (the close-on-exec flag). The close-on-exec flag (FD_CLOEXEC; see fcntl(2)) for the duplicate descriptor is off. dup2() The dup2() system call performs the same task as dup(), but instead of using the lowest-numbered unused file descriptor, it uses the file descriptor number specified in newfd. In other words, the file descriptor newfd is adjusted so that it now refers to the same open file description as oldfd. If the file descriptor newfd was previously open, it is closed before being reused; the close is performed silently (i.e., any errors during the close are not reported by dup2()). The steps of closing and reusing the file descriptor newfd are performed atomically. This is important, because trying to implement equivalent functionality using close(2) and dup() would be subject to race conditions, whereby newfd might be reused between the two steps. Such reuse could happen because the main program is interrupted by a signal handler that allocates a file descriptor, or because a parallel thread allocates a file descriptor. Note the following points: * If oldfd is not a valid file descriptor, then the call fails, and newfd is not closed. * If oldfd is a valid file descriptor, and newfd has the same value as oldfd, then dup2() does nothing, and returns newfd.e os.dup2() method in Python is used to duplicate a file descriptor fd to a given value fd2. The file descriptor will be duplicated to fd2 only if fd2 is available and duplicated file descriptor is inheritable by default. With 'inheritable': A Boolean value, True or False. The default value of this parameter is True, which means duplicated file descriptor is inheritable by child processes. To make it non-inheritable set it to False. ~ \u276f cat aa . py import os fn = 'myfifo' os . unlink ( fn ) if os . path . exists ( fn ) else 0 os . mkfifo ( fn ) fd = open ( fn ) os . dup2 ( fd . fileno (), 0 ) i = input ( 'q> ' ) print ( 'have it:' , i ) With this we can 'fake' user input from outside the process: ~ \u276f python aa.py & [1] 3164080 ~ \u276f echo answer > myfifo \uf013 q> % have it: answer [1] + 3164080 done python aa.py Nice. Nonblocking: fd = os.open(fn, os.O_RDONLY | os.O_NONBLOCK) - but that breaks the input method. Question: Is stdin avail also from within the process? Answer: No. We get terminal feedback of what we type but that's all - process now ONLY has the FIFO for user input. Because - see above: If the file descriptor newfd was previously open, it is closed before being reused; the close is performed silently (i.e., any errors during the close are not reported by dup2()). If we duplicate the other way round ( os.dup(0, fd_of_fifo) ) then the python process keeps having normal stdin behaviour - but the fifo is not writeable anymore from outside. Summary So Far \u00a4 What we got so far is nothing else than a straight forward input redirection: os . mkfifo ( fn ) fd = open ( fn ) sys . stdin = fd => Where is an actual duplication , i.e. stdin available from 2 processes? pty.fork \u00a4 Extremely instructive: https://stackoverflow.com/questions/4022600/python-pty-fork-how-does-it-work #!/usr/bin/env python3 import sys import os import time import pty import subprocess def log ( chars ): sys . stdout . write ( ' > ' + chars + ' \\n ' ) def main (): # fork this script such that a child process writes to a pty that is # controlled or \"spied on\" by the parent process ( child_pid , fd ) = pty . fork () # A new child process has been spawned and is continuing from here. # The original parent process is also continuing from here. # They have \"forked\". if child_pid == 0 : log ( 'This is the child process fork, pid %s ' % os . getpid ()) log ( 'Child process will run a subprocess controlled by the parent process' ) log ( 'All output, including this text, will be written to a pty and handled ' ) log ( 'by the parent process.' ) # redirect stdout/stderr if you want to here subprocess . run ([ 'bash' ]) else : log ( 'This is the parent process fork, pid %s ' % os . getpid ()) log ( 'the fd being read from, %s , is not stdout nor stderr; it is ' % fd ) log ( 'simply what the child is trying to write to its tty. ' ) log ( 'stdout/stderr are combined along with terminal escape codes.' ) print () # Read initial output of child process before \"typing\" anything in its pty sys . stdout . write ( os . read ( fd , 1024 ) . decode ()) print () # Run any bash commands you want. I/O to the fd is handled as if you are typing # at a terminal. os . write ( fd , 'ls \\n ' . encode ()) os . write ( fd , 'which git \\n ' . encode ()) # you can even test tab completions os . write ( fd , 'git sta \\t\\t ' . encode ()) while True : log ( 'parent will read 1024 bytes that the child wrote to its pty' ) log ( 'if no new output is available, parent will wait. Exit with ctrl+c. \\n ' ) # take out decode() to see raw bytes the child wrote to its pty sys . stdout . write ( os . read ( fd , 1024 ) . decode ()) time . sleep ( 1 ) if __name__ == '__main__' : main () Send Stdin Items \u00a4 Can we control FZF? With this we can send search results via a fifo: mkfifo foo Then start: import socket , subprocess , os s = open ( 'foo' ) print ( '1' ) os . dup2 ( s . fileno (), 0 , inheritable = True ) # inheritable True = default print ( '2' ) p = subprocess . call ([ 'fzf' ]) print ( 'done' ) (will block waiting on open - nothing printed) Then start: with open ( 'foo' , 'w' ) as fd : n = 0 while 1 : for i in range ( 1000 ): n += 1 fd . write ( f 'a { n } sdf \\n ' ) breakpoint () And you see fzf waiting for more - until you say fd.close() - here after the second chunk sent: (fzf progress indicator eager for more) If we flushed in the sender we will see in fzf nice chunks of 1000 records. Summary: We can dynamically control the data red by fzf - from a python parent process. But faking User Input is unsolved. Solution \u00a4 Here is the solution: https://github.com/asciinema/asciinema/blob/develop/asciinema/recorder.py They meanwhile not just simply write what is written on the pty - but really can differentiate the source, incl. 'i' - input. Nice. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Stream Control"},{"location":"programming/python/prompt_toolkit/dup2/#pythons-dup2-method-intercepting-stdin","text":"[2022-04-27 06:27] That time of the year, where I want to do \"simple\" terminal stdin redirection/duplication and realize I forgot everything I knew about it. Lets write it down this time.","title":"Python's dup2 Method / Intercepting StdIn"},{"location":"programming/python/prompt_toolkit/dup2/#output-examples","text":"Tee - By Overloading stdout.write Simple os.dup2 Output Example Non Blocking Subproc Stdout Reads (no threads) Same for fzf (fast) ~/ gk1 master ? 7 \u276f cat tee . py ; echo 'output:' ; python tee . py ; cat log import sys class tee : def __init__ ( self , _fd1 , _fd2 ) : self . fd1 = _fd1 self . fd2 = _fd2 def __del__ ( self ) : if self . fd1 != sys . stdout and self . fd1 != sys . stdout : self . fd1 . close () if self . fd2 != sys . stdout and self . fd2 != sys . stdout : self . fd2 . close () def write ( self , text ) : self . fd1 . write ( text ) self . fd2 . write ( text ) def flush ( self ) : self . fd1 . flush () self . fd2 . flush () stdoutsav = sys . stdout outputlog = open ( 'log' , \"w\" ) sys . stdout = tee ( stdoutsav , outputlog ) print ( 'foo' ) output : foo foo import os os . dup2 ( 1 , 3 ) print ( 'hi' , file = os . fdopen ( 3 , 'w' )) Both stdout and stderr need to be streamed. Both of them need to be non-blocking: when there is no output and when there are too much output. Do not want to use Threading or multiprocessing, also not willing to use pexpect. import subprocess as sbp import fcntl import os def non_block_read ( output ): fd = output . fileno () fl = fcntl . fcntl ( fd , fcntl . F_GETFL ) fcntl . fcntl ( fd , fcntl . F_SETFL , fl | os . O_NONBLOCK ) try : return output . readline () except : return \"\" with sbp . Popen ( 'find / -name foo' , shell = True , universal_newlines = True , encoding = 'utf-8' , bufsize = 1 , stdout = sbp . PIPE , stderr = sbp . PIPE ) as p : while True : out = non_block_read ( p . stdout ) err = non_block_read ( p . stderr ) if out : print ( out , end = '' ) if err : print ( 'E: ' + err , end = '' ) if p . poll () is not None : break The newlines are fubared in fzf, this works perfect and fast: No delay noticable in fzf. nice: import subprocess as sbp import fcntl import os def non_block_read ( output ): fd = output . fileno () fl = fcntl . fcntl ( fd , fcntl . F_GETFL ) fcntl . fcntl ( fd , fcntl . F_SETFL , fl | os . O_NONBLOCK ) try : return output . read ( 1024 ) except : return with sbp . Popen ( 'fzf' , shell = True , # universal_newlines=True, # encoding='utf-8', # bufsize=1, stdout = sbp . PIPE , stderr = sbp . PIPE , ) as p : while True : out = non_block_read ( p . stdout ) err = non_block_read ( p . stderr ) if out : os . write ( 1 , out ) if err : os . write ( 2 , err ) # print(err.decode('utf-8')) # , end='') if p . poll () is not None : break The inner process can detect it is not writing to a tty (try it out by calling python in a subproc and print sys.stdout.isatty() . But fzf does not care - for stdout and err, behaves normally.","title":"Output Examples"},{"location":"programming/python/prompt_toolkit/dup2/#intercept-control-user-input-to-subprocess","text":"Big question: How to send user input from outside the process into e.g. fzf, i.e. control it. Up to now we came to the conclusion that doing it from a terminal stream hijacker is the best way: See termcontrol But can we do it from within python? I start fzf w/o piping sth into it, pid is 3124845: Via proc file system? First guess, naa, the fds there are api but not the pty itself. Writing into those does only produce the illusion that the user typed sth: with open ( '/proc/3124845/fd/0' , 'a' ) as fd : fd . write ( 'a' ); fd . flush () fzf does not see it - E.g. after we really typed an \"a\" on the keyboard: All open fds: lsof -P -n -p <pid> ~/.config/ptpython \u276f lsof -P -n -p 3140976 COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME fzf 3140976 gk cwd DIR 0,41 54 18761005 /home/gk/.config/ptpython fzf 3140976 gk rtd DIR 0,35 160 256 / fzf 3140976 gk txt REG 0,35 3234120 1629801 /usr/bin/fzf fzf 3140976 gk mem REG 0,33 1629801 /usr/bin/fzf (path dev=0,35) fzf 3140976 gk mem REG 0,33 1411886 /usr/lib64/ld-2.33.so (path dev=0,35) fzf 3140976 gk 0u CHR 136,7 0t0 10 /dev/pts/7 fzf 3140976 gk 1u CHR 136,7 0t0 10 /dev/pts/7 fzf 3140976 gk 2u CHR 136,7 0t0 10 /dev/pts/7 fzf 3140976 gk 3r CHR 5,0 0t0 11 /dev/tty fzf 3140976 gk 4u a_inode 0,14 0 11950 [eventpoll:3,5] fzf 3140976 gk 5r FIFO 0,13 0t0 31532188 pipe fzf 3140976 gk 6w FIFO 0,13 0t0 31532188 pipe The r/w FIFO at the end is interesting - is FZF maybe internally setting those up to be able to read data here and user input there? Is it in the filesystem? Answer - nope. A python program where I open a FIFO on a file reports python 3154696 gk 3r FIFO 0,41 0t0 18768718 /home/gk/myfifo I.e. I get the filename. pipe - that is the shell pipe which FZF built, using $FZF_DEFAULT_COMMAND - not for user input. Also a grep for fifo on fzf source code says nothing about setting such a fifo up - except in tmux mode and for some zshell completion.","title":"Intercept / Control User Input to SubProcess"},{"location":"programming/python/prompt_toolkit/dup2/#simplified-program","text":"Since we do not know what fzf really does internally let's start with a simple python program. i = input ( 'q> ' ) print ( 'have it' ) lsof reports python 3160241 gk 0u CHR 136,11 0t0 14 /dev/pts/11 python 3160241 gk 1u CHR 136,11 0t0 14 /dev/pts/11 python 3160241 gk 2u CHR 136,11 0t0 14 /dev/pts/11 Again the naiv tries just result in stuff getting echoed but the 'have it' never shows up: From another term I tried: echo -e 'foo\\n' >> /dev/pts/11 echo -e 'foo\\x0a\\x0c' >> /dev/pts/11 cat /dev/stdin >/dev/pts/11 cat - > /dev/pts/11 Important There is only one stdin fd and it is owned by the python process itself.","title":"Simplified Program"},{"location":"programming/python/prompt_toolkit/dup2/#osdup2","text":"DESCRIPTION top The dup() system call allocates a new file descriptor that refers to the same open file description as the descriptor oldfd. (For an explanation of open file descriptions, see open(2).) The new file descriptor number is guaranteed to be the lowest-numbered file descriptor that was unused in the calling process. After a successful return, the old and new file descriptors may be used interchangeably. Since the two file descriptors refer to the same open file description, they share file offset and file status flags; for example, if the file offset is modified by using lseek(2) on one of the file descriptors, the offset is also changed for the other file descriptor. The two file descriptors do not share file descriptor flags (the close-on-exec flag). The close-on-exec flag (FD_CLOEXEC; see fcntl(2)) for the duplicate descriptor is off. dup2() The dup2() system call performs the same task as dup(), but instead of using the lowest-numbered unused file descriptor, it uses the file descriptor number specified in newfd. In other words, the file descriptor newfd is adjusted so that it now refers to the same open file description as oldfd. If the file descriptor newfd was previously open, it is closed before being reused; the close is performed silently (i.e., any errors during the close are not reported by dup2()). The steps of closing and reusing the file descriptor newfd are performed atomically. This is important, because trying to implement equivalent functionality using close(2) and dup() would be subject to race conditions, whereby newfd might be reused between the two steps. Such reuse could happen because the main program is interrupted by a signal handler that allocates a file descriptor, or because a parallel thread allocates a file descriptor. Note the following points: * If oldfd is not a valid file descriptor, then the call fails, and newfd is not closed. * If oldfd is a valid file descriptor, and newfd has the same value as oldfd, then dup2() does nothing, and returns newfd.e os.dup2() method in Python is used to duplicate a file descriptor fd to a given value fd2. The file descriptor will be duplicated to fd2 only if fd2 is available and duplicated file descriptor is inheritable by default. With 'inheritable': A Boolean value, True or False. The default value of this parameter is True, which means duplicated file descriptor is inheritable by child processes. To make it non-inheritable set it to False. ~ \u276f cat aa . py import os fn = 'myfifo' os . unlink ( fn ) if os . path . exists ( fn ) else 0 os . mkfifo ( fn ) fd = open ( fn ) os . dup2 ( fd . fileno (), 0 ) i = input ( 'q> ' ) print ( 'have it:' , i ) With this we can 'fake' user input from outside the process: ~ \u276f python aa.py & [1] 3164080 ~ \u276f echo answer > myfifo \uf013 q> % have it: answer [1] + 3164080 done python aa.py Nice. Nonblocking: fd = os.open(fn, os.O_RDONLY | os.O_NONBLOCK) - but that breaks the input method. Question: Is stdin avail also from within the process? Answer: No. We get terminal feedback of what we type but that's all - process now ONLY has the FIFO for user input. Because - see above: If the file descriptor newfd was previously open, it is closed before being reused; the close is performed silently (i.e., any errors during the close are not reported by dup2()). If we duplicate the other way round ( os.dup(0, fd_of_fifo) ) then the python process keeps having normal stdin behaviour - but the fifo is not writeable anymore from outside.","title":"os.dup2"},{"location":"programming/python/prompt_toolkit/dup2/#summary-so-far","text":"What we got so far is nothing else than a straight forward input redirection: os . mkfifo ( fn ) fd = open ( fn ) sys . stdin = fd => Where is an actual duplication , i.e. stdin available from 2 processes?","title":"Summary So Far"},{"location":"programming/python/prompt_toolkit/dup2/#ptyfork","text":"Extremely instructive: https://stackoverflow.com/questions/4022600/python-pty-fork-how-does-it-work #!/usr/bin/env python3 import sys import os import time import pty import subprocess def log ( chars ): sys . stdout . write ( ' > ' + chars + ' \\n ' ) def main (): # fork this script such that a child process writes to a pty that is # controlled or \"spied on\" by the parent process ( child_pid , fd ) = pty . fork () # A new child process has been spawned and is continuing from here. # The original parent process is also continuing from here. # They have \"forked\". if child_pid == 0 : log ( 'This is the child process fork, pid %s ' % os . getpid ()) log ( 'Child process will run a subprocess controlled by the parent process' ) log ( 'All output, including this text, will be written to a pty and handled ' ) log ( 'by the parent process.' ) # redirect stdout/stderr if you want to here subprocess . run ([ 'bash' ]) else : log ( 'This is the parent process fork, pid %s ' % os . getpid ()) log ( 'the fd being read from, %s , is not stdout nor stderr; it is ' % fd ) log ( 'simply what the child is trying to write to its tty. ' ) log ( 'stdout/stderr are combined along with terminal escape codes.' ) print () # Read initial output of child process before \"typing\" anything in its pty sys . stdout . write ( os . read ( fd , 1024 ) . decode ()) print () # Run any bash commands you want. I/O to the fd is handled as if you are typing # at a terminal. os . write ( fd , 'ls \\n ' . encode ()) os . write ( fd , 'which git \\n ' . encode ()) # you can even test tab completions os . write ( fd , 'git sta \\t\\t ' . encode ()) while True : log ( 'parent will read 1024 bytes that the child wrote to its pty' ) log ( 'if no new output is available, parent will wait. Exit with ctrl+c. \\n ' ) # take out decode() to see raw bytes the child wrote to its pty sys . stdout . write ( os . read ( fd , 1024 ) . decode ()) time . sleep ( 1 ) if __name__ == '__main__' : main ()","title":"pty.fork"},{"location":"programming/python/prompt_toolkit/dup2/#send-stdin-items","text":"Can we control FZF? With this we can send search results via a fifo: mkfifo foo Then start: import socket , subprocess , os s = open ( 'foo' ) print ( '1' ) os . dup2 ( s . fileno (), 0 , inheritable = True ) # inheritable True = default print ( '2' ) p = subprocess . call ([ 'fzf' ]) print ( 'done' ) (will block waiting on open - nothing printed) Then start: with open ( 'foo' , 'w' ) as fd : n = 0 while 1 : for i in range ( 1000 ): n += 1 fd . write ( f 'a { n } sdf \\n ' ) breakpoint () And you see fzf waiting for more - until you say fd.close() - here after the second chunk sent: (fzf progress indicator eager for more) If we flushed in the sender we will see in fzf nice chunks of 1000 records. Summary: We can dynamically control the data red by fzf - from a python parent process. But faking User Input is unsolved.","title":"Send Stdin Items"},{"location":"programming/python/prompt_toolkit/dup2/#solution","text":"Here is the solution: https://github.com/asciinema/asciinema/blob/develop/asciinema/recorder.py They meanwhile not just simply write what is written on the pty - but really can differentiate the source, incl. 'i' - input. Nice. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Solution"},{"location":"programming/python/rx/","text":"@media only screen and (min-width: 76.25em) { .md-main__inner { max-width: none; } .md-sidebar--primary { left: 0; } .md-sidebar--secondary { right: 0; margin-left: 0; -webkit-transform: none; transform: none; } } Reactive Programming With RxPY \u00a4 Motivation \u00a4 Let's build an API server, which can send data to clients as soon as it arrives. You might say that's trivial but it is not: Data may arrive e.g. not en bloc but in parts , like from \"follow tailing\" files or from stream subscriptions, e.g. via websockets or a server implemented as show here, i.e. itself streaming from jobs of other clients (but still interesting for us) from different systems, with vastly varying response times In all these cases we want to update the client partially , as soon as new data is present on the server, w/o having to wait for the \"full\" result (if that even exists). Important Also we do not want to constantly poll the server but passively wait for new data, with the server being able to push to all interested parties, once there. The operationally most simple solution is not via websockets but by sending the responses as chunks . Solution Stack \u00a4 Flask as (not so) Microframework gevent as async framwork ReactiveX for a far more high level coordination of jobs and coroutines, compared to using gevent low level machinery in order to declaratively parametrize the server's async behaviour via high level coordination functions like this one: Packages \u00a4 Cmd Output $ for p in rx gevent flask ; do pip show $p || pip install $p ; done $ for p in rx gevent flask; do pip show $p || pip install $p; done Name: Rx Version: 3.2.0 Summary: Reactive Extensions (Rx) for Python Home-page: http://reactivex.io Author: Dag Brattli Author-email: dag@brattli.net License: MIT License Location: /home/gk/miniconda3/envs/blog_py3.9/lib/python3.9/site-packages Requires: Required-by: Name: gevent Version: 21.12.0 Summary: Coroutine-based network library Home-page: http://www.gevent.org/ Author: Denis Bilenko Author-email: denis.bilenko@gmail.com License: MIT Location: /home/gk/miniconda3/envs/blog_py3.9/lib/python3.9/site-packages Requires: greenlet, setuptools, zope.event, zope.interface Required-by: Name: Flask Version: 2.0.3 Summary: A simple framework for building complex web applications. Home-page: https://palletsprojects.com/p/flask Author: Armin Ronacher Author-email: armin.ronacher@active-4.com License: BSD-3-Clause Location: /home/gk/miniconda3/envs/blog_py3.9/lib/python3.9/site-packages Requires: click, itsdangerous, Jinja2, Werkzeug Required-by: Tools \u00a4 We want to carefully inspect what's going on on the server. For this any invocation of print will also show millisecs since process start threadname (shortened) colors, according to a who integer given (so we can see who initiated an event) Little test, one w/o and one with the gevent monkey patch: $ python tests/rx/tools.py \u001b[0;38;5;245m 5\u001b[0m M \u001b[31m[S] msg 1\u001b[0m \u001b[0;38;5;245m 56\u001b[0m M \u001b[33m[2] async msg\u001b[0m \u001b[0;38;5;245m 56\u001b[0m M \u001b[34m[3] async msg\u001b[0m \u001b[0;38;5;245m 56\u001b[0m M \u001b[31m[S] async msg\u001b[0m \u001b[0;38;5;245m 106\u001b[0m M \u001b[35m[4] msg 3\u001b[0m $ python tests/rx/tools.py patched \u001b[0;38;5;245m 115\u001b[0m M \u001b[31m[S] msg 1\u001b[0m \u001b[0;38;5;245m 166\u001b[0m 1 \u001b[33m[2] async msg\u001b[0m \u001b[0;38;5;245m 166\u001b[0m 2 \u001b[34m[3] async msg\u001b[0m \u001b[0;38;5;245m 166\u001b[0m 3 \u001b[31m[S] async msg\u001b[0m \u001b[0;38;5;245m 216\u001b[0m M \u001b[35m[4] msg 3\u001b[0m M is MainThread, Numbers like 2 in the second column are \" Greenlet \" numbers. You see w/o the monkey patch that gevent actually coordinates everything on the main thread of the process. The [S] symbol is printed for who=0 (the default - here the server) Colors depend on the who argument You can see that the (pretty complex) monkey patching of all(!) blocking calls consumes well over 100 milliseconds startup time. Console Printer Source The tests are done in the main section $ cat tests / rx / tools . py import time import sys from threading import current_thread import gevent now = lambda : int ( time . time () * 1000 ) t0 = now () dt = lambda : now () - t0 thread = lambda : current_thread () . name . replace ( 'Dummy-' , '' ) . replace ( 'MainThread' , 'M' ) gray = ' \\x1b [0;38;5;245m %s \\x1b [0m' def print ( * a , p = print , who = 0 , ** kw ): pre = ' %s %2s ' % ( gray % ( ' %5s ' % dt ()), thread ()) msg = ' ' . join ([ str ( i ) for i in a ]) msg = ' \\x1b [3 %s m[ %s ] %s \\x1b [0m' % ( who + 1 , who or 'S' , msg ) p ( pre + msg , ** kw ) return a [ 0 ] # -------------------- quick test follows ------------------------------------------- if __name__ == '__main__' : from gevent import monkey sleep , asyn = gevent . sleep , gevent . spawn if sys . argv [ - 1 ] == 'patched' : monkey . patch_all () assert time . sleep == gevent . sleep # since patched print ( 'msg 1' ) def f ( who ): sleep ( 0.05 ) print ( 'async msg' , who = who ) asyn ( f , 2 ) asyn ( f , 3 ) asyn ( f , 0 ) sleep ( 0.1 ) print ( 'msg 3' , who = 4 ) Server \u00a4 Intro: Async HTTP processing with greenlets \u00a4 Any webserver based on gevent will allocate one greenlet per incoming request. Therefore we can block within the request handler w/o affecting other clients: def handle_get ( job ): # run within a request specific greenlet # blocks for this client request but servers others res = request . get ( \"<external api>\" ) . text return res The job processing, incl. sending the full response was a direct consequence of the client request event We have to solve now How to send data in parts (chunks) to the API clients (browsers, others) How to allow any eventhandler on the server to send a data chunk at any time to any client interested in it Here is how this is done (framwork API wise): https://bottlepy.org/docs/dev/async.html . Please read - it is pretty concise. Server Code \u00a4 We want to build a server, which we can reparametrize declaratively how it coordinates the events. Currently we have two event sources: From the clients (the requests they send) From the side effects we trigger, based on those requests. E.g. external websocket respsonses, file reading chunks, ... We want to completely decouple those event streams and therefore create two subjects: one for jobs, one for response (parts): Async Server Source $ cat tests / rx / server . py #!/usr/bin/env python import json import sys import time from functools import partial import gevent import gevent.queue import rx as Rx from flask import Flask , stream_with_context from gevent import monkey from gevent.pywsgi import WSGIServer from rx import operators as rx from rx.scheduler.eventloop import GEventScheduler as GS from tools import gevent , now , print from werkzeug.debug import DebuggedApplication from werkzeug.serving import run_with_reloader sys . path . append ( __file__ . rsplit ( '/' , 1 )[ 0 ]) monkey . patch_all () app = Flask ( __name__ ) GS = GS ( gevent ) jobs = Rx . subject . Subject () results = Rx . subject . Subject () flush_response = lambda q : q . put ( StopIteration ) # closing the socket wait = lambda dt : time . sleep ( dt / 1000.0 ) asyn = lambda : rx . observe_on ( GS ) # put pipeline onto a new greenlet class J : \"\"\"Job Running Pipeline Functions\"\"\" def _run_job ( job ): \"\"\"syncronous job running\"\"\" # how is the job (transport, behaviour, ...): _ , job = job [ 'meta' ] . pop , job [ 'job' ] parts , dt , q , ts = _ ( 'parts' ), _ ( 'dt' ), _ ( 'req' ), _ ( 'ts' ) print ( 'running job' , job ) for c in range ( parts ): wait ( dt ) print ( 'got result part' , c , job ) res = { 'res' : ' %s result %s ' % ( job , c ), 'nr' : c , 'dt' : now () - ts , 'req' : q , } results . on_next ( res ) # Closing the req socket after all parts are there. Normally elsewhere, we do # not know that normally or 'all there' is never. # But that can be done from anywhere - e.g. at cancel from the client # or when his socket closes: wait ( dt ) flush_response ( q ) run_job = rx . map ( _run_job ) class R : \"\"\"Results Handling Functions\"\"\" def interested_clients ( res ): \"\"\"Work via a central registry of clients who want job results\"\"\" # here we just added \"them\" directly into the result: return [ res . pop ( 'req' )] def _send_response ( res ): clients = R . interested_clients ( res ) ser = json . dumps ( res ) + ' \\r\\n ' [ c . put ( ser ) for c in clients ] return res send_response = rx . map ( _send_response ) def new_job ( job , meta ): \"\"\"Production decoupled from repsonse sending\"\"\" jobs . on_next ({ 'job' : job , 'meta' : meta }) @app . route ( '/<job>/<int:parts>/<int:dt>' ) def index ( job , parts , dt ): \"\"\" The request handling greenlet. The client can parametrize how many data parts the job result should have - and when they 'arrive'. Creates a queue which, when seing an item, will cause a chunk response \"\"\" # eventhandlers can produce here and we'll send to the client: q = gevent . queue . Queue () meta = { 'parts' : parts , 'dt' : dt , 'req' : q , 'ts' : now ()} new_job ( job , meta ) return app . response_class ( stream_with_context ( q ), mimetype = 'application/json' ) # ------------------------------------------------------------------------------- server def reconfigure_server_pipelines ( pipelines , subs = [ 0 , 0 ]): print ( 'starting processing pipelines for jobs and incomming data' ) if subs [ 0 ]: print ( 'stopping old pipeline' ) [ s . dispose () for s in subs ] for i in [ 0 , 1 ]: s = [ jobs , results ][ i ] . pipe ( asyn (), * pipelines [ i ]) subs [ i ] = s . subscribe () return True def run_server (): print ( '' ) print ( 'starting server at 50000' ) http_server = WSGIServer (( '' , 50000 ), DebuggedApplication ( app )) http_server . serve_forever () Processing Pipeline(s) \u00a4 Here is the code $ cat tests / rx / test_async_server . py import json import os import sys import time from functools import partial from server import J , R , Rx , asyn , reconfigure_server_pipelines , run_server , rx , wait from tools import gevent , print sys . path . append ( __file__ . rsplit ( '/' , 1 )[ 0 ]) # noqa gevent . spawn ( run_server ) done_clients = [] def test_server_one (): \"\"\"Keeping order but processing jobs (and responses) one after the other Whichever clients' requests is first on the server will see all chunks first: \"\"\" p = [[ J . run_job ], [ R . send_response ]] reconfigure_server_pipelines ( p ) and send_requests () def test_server_two (): \"\"\"Here we run the jobs within parallel greenlets\"\"\" p = [ [ rx . flat_map ( lambda job : Rx . just ( job ) . pipe ( asyn (), J . run_job )),], [ R . send_response ], ] reconfigure_server_pipelines ( p ) and send_requests () # ------------------------------------------------------------------------------- Tools # here spawn 3 greenlets, sending 3 requests in parallel, simulating 3 clients\"\"\" # they iterate of the chunks from the server and print them def send_requests (): # yes we can reconfigure the pipeline while running; done_clients . clear () print ( '' ) for client in 1 , 2 , 3 : s = partial ( send_job_req_to_api_server , client = client ) gevent . spawn ( s ) while not len ( done_clients ) == 3 : wait ( 100 ) print ( 'all_done' , who = client ) def send_job_req_to_api_server ( client ): from requests import get print ( 'Sending job' , who = client ) j , url = json . loads , 'http://127.0.0.1:50000/job %s /3/ %s ' chunks = get ( url % ( client , 100 * client ), stream = True ) [ print ( 'got chunk' , j ( r ), who = client ) for r in chunks . iter_lines ()] print ( 'done client' , who = client ) done_clients . append ( client ) First we run the non parallel version of the job processor: $ pytest -xs tests/rx/test_async_server.py -k one 2>/dev/null ============================= test session starts ============================== platform linux -- Python 3.9.10, pytest-6.2.5, py-1.11.0, pluggy-1.0.0 Using --randomly-seed=860789797 rootdir: /home/gk/repos plugins: forked-1.4.0, randomly-3.11.0, cov-2.12.1, xdist-2.5.0, sugar-0.9.4 collected 2 items / 1 deselected / 1 selected tests/rx/test_async_server.py \u001b[0;38;5;245m 80\u001b[0m M \u001b[31m[S] starting processing pipelines for jobs and incomming data\u001b[0m \u001b[0;38;5;245m 80\u001b[0m M \u001b[31m[S] \u001b[0m \u001b[0;38;5;245m 81\u001b[0m 1 \u001b[31m[S] \u001b[0m \u001b[0;38;5;245m 81\u001b[0m 1 \u001b[31m[S] starting server at 50000\u001b[0m \u001b[0;38;5;245m 113\u001b[0m 2 \u001b[32m[1] Sending job\u001b[0m \u001b[0;38;5;245m 114\u001b[0m 3 \u001b[33m[2] Sending job\u001b[0m \u001b[0;38;5;245m 115\u001b[0m 4 \u001b[34m[3] Sending job\u001b[0m \u001b[0;38;5;245m 120\u001b[0m 5 \u001b[31m[S] running job job3\u001b[0m \u001b[0;38;5;245m 420\u001b[0m 5 \u001b[31m[S] got result part 0 job3\u001b[0m \u001b[0;38;5;245m 421\u001b[0m 4 \u001b[34m[3] got chunk {'res': 'job3 result 0', 'nr': 0, 'dt': 301}\u001b[0m \u001b[0;38;5;245m 721\u001b[0m 5 \u001b[31m[S] got result part 1 job3\u001b[0m \u001b[0;38;5;245m 722\u001b[0m 4 \u001b[34m[3] got chunk {'res': 'job3 result 1', 'nr': 1, 'dt': 602}\u001b[0m \u001b[0;38;5;245m 1021\u001b[0m 5 \u001b[31m[S] got result part 2 job3\u001b[0m \u001b[0;38;5;245m 1022\u001b[0m 4 \u001b[34m[3] got chunk {'res': 'job3 result 2', 'nr': 2, 'dt': 902}\u001b[0m \u001b[0;38;5;245m 1322\u001b[0m 6 \u001b[31m[S] running job job1\u001b[0m \u001b[0;38;5;245m 1323\u001b[0m 4 \u001b[34m[3] done client\u001b[0m \u001b[0;38;5;245m 1423\u001b[0m 6 \u001b[31m[S] got result part 0 job1\u001b[0m \u001b[0;38;5;245m 1424\u001b[0m 2 \u001b[32m[1] got chunk {'res': 'job1 result 0', 'nr': 0, 'dt': 1304}\u001b[0m \u001b[0;38;5;245m 1524\u001b[0m 6 \u001b[31m[S] got result part 1 job1\u001b[0m \u001b[0;38;5;245m 1524\u001b[0m 2 \u001b[32m[1] got chunk {'res': 'job1 result 1', 'nr': 1, 'dt': 1405}\u001b[0m \u001b[0;38;5;245m 1625\u001b[0m 6 \u001b[31m[S] got result part 2 job1\u001b[0m \u001b[0;38;5;245m 1625\u001b[0m 2 \u001b[32m[1] got chunk {'res': 'job1 result 2', 'nr': 2, 'dt': 1506}\u001b[0m \u001b[0;38;5;245m 1726\u001b[0m 7 \u001b[31m[S] running job job2\u001b[0m \u001b[0;38;5;245m 1726\u001b[0m 2 \u001b[32m[1] done client\u001b[0m \u001b[0;38;5;245m 1926\u001b[0m 7 \u001b[31m[S] got result part 0 job2\u001b[0m \u001b[0;38;5;245m 1927\u001b[0m 3 \u001b[33m[2] got chunk {'res': 'job2 result 0', 'nr': 0, 'dt': 1807}\u001b[0m \u001b[0;38;5;245m 2127\u001b[0m 7 \u001b[31m[S] got result part 1 job2\u001b[0m \u001b[0;38;5;245m 2127\u001b[0m 3 \u001b[33m[2] got chunk {'res': 'job2 result 1', 'nr': 1, 'dt': 2008}\u001b[0m \u001b[0;38;5;245m 2328\u001b[0m 7 \u001b[31m[S] got result part 2 job2\u001b[0m \u001b[0;38;5;245m 2328\u001b[0m 3 \u001b[33m[2] got chunk {'res': 'job2 result 2', 'nr': 2, 'dt': 2209}\u001b[0m \u001b[0;38;5;245m 2530\u001b[0m 3 \u001b[33m[2] done client\u001b[0m \u001b[0;38;5;245m 2591\u001b[0m M \u001b[34m[3] all_done\u001b[0m . ======================= 1 passed, 1 deselected in 2.72s ======================== And here processing in parallel greenlets, i.e. giving up order for throughput: $ pytest -xs tests/rx/test_async_server.py -k two 2>/dev/null ============================= test session starts ============================== platform linux -- Python 3.9.10, pytest-6.2.5, py-1.11.0, pluggy-1.0.0 Using --randomly-seed=3525127434 rootdir: /home/gk/repos plugins: forked-1.4.0, randomly-3.11.0, cov-2.12.1, xdist-2.5.0, sugar-0.9.4 collected 2 items / 1 deselected / 1 selected tests/rx/test_async_server.py \u001b[0;38;5;245m 78\u001b[0m M \u001b[31m[S] starting processing pipelines for jobs and incomming data\u001b[0m \u001b[0;38;5;245m 79\u001b[0m M \u001b[31m[S] \u001b[0m \u001b[0;38;5;245m 79\u001b[0m 1 \u001b[31m[S] \u001b[0m \u001b[0;38;5;245m 79\u001b[0m 1 \u001b[31m[S] starting server at 50000\u001b[0m \u001b[0;38;5;245m 111\u001b[0m 2 \u001b[32m[1] Sending job\u001b[0m \u001b[0;38;5;245m 112\u001b[0m 3 \u001b[33m[2] Sending job\u001b[0m \u001b[0;38;5;245m 113\u001b[0m 4 \u001b[34m[3] Sending job\u001b[0m \u001b[0;38;5;245m 117\u001b[0m 6 \u001b[31m[S] running job job1\u001b[0m \u001b[0;38;5;245m 118\u001b[0m 8 \u001b[31m[S] running job job2\u001b[0m \u001b[0;38;5;245m 118\u001b[0m 10 \u001b[31m[S] running job job3\u001b[0m \u001b[0;38;5;245m 218\u001b[0m 6 \u001b[31m[S] got result part 0 job1\u001b[0m \u001b[0;38;5;245m 219\u001b[0m 2 \u001b[32m[1] got chunk {'res': 'job1 result 0', 'nr': 0, 'dt': 102}\u001b[0m \u001b[0;38;5;245m 318\u001b[0m 6 \u001b[31m[S] got result part 1 job1\u001b[0m \u001b[0;38;5;245m 318\u001b[0m 8 \u001b[31m[S] got result part 0 job2\u001b[0m \u001b[0;38;5;245m 319\u001b[0m 2 \u001b[32m[1] got chunk {'res': 'job1 result 1', 'nr': 1, 'dt': 202}\u001b[0m \u001b[0;38;5;245m 319\u001b[0m 3 \u001b[33m[2] got chunk {'res': 'job2 result 0', 'nr': 0, 'dt': 202}\u001b[0m \u001b[0;38;5;245m 418\u001b[0m 10 \u001b[31m[S] got result part 0 job3\u001b[0m \u001b[0;38;5;245m 419\u001b[0m 6 \u001b[31m[S] got result part 2 job1\u001b[0m \u001b[0;38;5;245m 419\u001b[0m 2 \u001b[32m[1] got chunk {'res': 'job1 result 2', 'nr': 2, 'dt': 303}\u001b[0m \u001b[0;38;5;245m 419\u001b[0m 4 \u001b[34m[3] got chunk {'res': 'job3 result 0', 'nr': 0, 'dt': 301}\u001b[0m \u001b[0;38;5;245m 519\u001b[0m 8 \u001b[31m[S] got result part 1 job2\u001b[0m \u001b[0;38;5;245m 519\u001b[0m 3 \u001b[33m[2] got chunk {'res': 'job2 result 1', 'nr': 1, 'dt': 403}\u001b[0m \u001b[0;38;5;245m 519\u001b[0m 2 \u001b[32m[1] done client\u001b[0m \u001b[0;38;5;245m 719\u001b[0m 10 \u001b[31m[S] got result part 1 job3\u001b[0m \u001b[0;38;5;245m 719\u001b[0m 8 \u001b[31m[S] got result part 2 job2\u001b[0m \u001b[0;38;5;245m 719\u001b[0m 3 \u001b[33m[2] got chunk {'res': 'job2 result 2', 'nr': 2, 'dt': 603}\u001b[0m \u001b[0;38;5;245m 720\u001b[0m 4 \u001b[34m[3] got chunk {'res': 'job3 result 1', 'nr': 1, 'dt': 602}\u001b[0m \u001b[0;38;5;245m 921\u001b[0m 3 \u001b[33m[2] done client\u001b[0m \u001b[0;38;5;245m 1019\u001b[0m 10 \u001b[31m[S] got result part 2 job3\u001b[0m \u001b[0;38;5;245m 1020\u001b[0m 4 \u001b[34m[3] got chunk {'res': 'job3 result 2', 'nr': 2, 'dt': 902}\u001b[0m \u001b[0;38;5;245m 1321\u001b[0m 4 \u001b[34m[3] done client\u001b[0m \u001b[0;38;5;245m 1386\u001b[0m M \u001b[34m[3] all_done\u001b[0m . ======================= 1 passed, 1 deselected in 1.51s ======================== Todo \u00a4 Invent a mapping registry of job result (parts) to interested clients. Who is interested in what should be up to the client - server should only care about security. See below. Once you have that, do e.g. pipe(rx.group_by(job_data_source), rx.buffer_with_time(1), rx.run_job_list , to not overload external api with many small requests (use their list APIs). Send all jobs you have at e.g. dashboard open in ONE request - and stream all results via that socket Suggestion: Expressing Interest \u00a4 How can we enable clients to express sth. like \"Dear API server, I want to get all data updates from any job, containing joe@doe.com for the next 10 seconds ( no matter the nesting level of that email address within the data schemas). In order to facilitate clients to be able to express and update to the server, in which data they are interested, you might look into an expression library like this one . The most common conditions will be e.g. ids of certain data objects, like cpeids, userids, (...). Problem here that those are typically not always at the \"same places\" within the data. One solution might be, to define, when implementing a new use case, also sth like a 'possibly interesting value extractor' function and then push those possibly interesting values into a dedicated stream, mapping them to jobids. When client interest matches, you can pull the full data from short lived memory caches. Redis streams would be a good choice, when such values arrive on many server processes. Then store also the process (or local redis server) where the full data is in the cache. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Reactive Programming With RxPY"},{"location":"programming/python/rx/#reactive-programming-with-rxpy","text":"","title":"Reactive Programming With RxPY"},{"location":"programming/python/rx/#motivation","text":"Let's build an API server, which can send data to clients as soon as it arrives. You might say that's trivial but it is not: Data may arrive e.g. not en bloc but in parts , like from \"follow tailing\" files or from stream subscriptions, e.g. via websockets or a server implemented as show here, i.e. itself streaming from jobs of other clients (but still interesting for us) from different systems, with vastly varying response times In all these cases we want to update the client partially , as soon as new data is present on the server, w/o having to wait for the \"full\" result (if that even exists). Important Also we do not want to constantly poll the server but passively wait for new data, with the server being able to push to all interested parties, once there. The operationally most simple solution is not via websockets but by sending the responses as chunks .","title":"Motivation"},{"location":"programming/python/rx/#solution-stack","text":"Flask as (not so) Microframework gevent as async framwork ReactiveX for a far more high level coordination of jobs and coroutines, compared to using gevent low level machinery in order to declaratively parametrize the server's async behaviour via high level coordination functions like this one:","title":"Solution Stack"},{"location":"programming/python/rx/#packages","text":"Cmd Output $ for p in rx gevent flask ; do pip show $p || pip install $p ; done $ for p in rx gevent flask; do pip show $p || pip install $p; done Name: Rx Version: 3.2.0 Summary: Reactive Extensions (Rx) for Python Home-page: http://reactivex.io Author: Dag Brattli Author-email: dag@brattli.net License: MIT License Location: /home/gk/miniconda3/envs/blog_py3.9/lib/python3.9/site-packages Requires: Required-by: Name: gevent Version: 21.12.0 Summary: Coroutine-based network library Home-page: http://www.gevent.org/ Author: Denis Bilenko Author-email: denis.bilenko@gmail.com License: MIT Location: /home/gk/miniconda3/envs/blog_py3.9/lib/python3.9/site-packages Requires: greenlet, setuptools, zope.event, zope.interface Required-by: Name: Flask Version: 2.0.3 Summary: A simple framework for building complex web applications. Home-page: https://palletsprojects.com/p/flask Author: Armin Ronacher Author-email: armin.ronacher@active-4.com License: BSD-3-Clause Location: /home/gk/miniconda3/envs/blog_py3.9/lib/python3.9/site-packages Requires: click, itsdangerous, Jinja2, Werkzeug Required-by:","title":"Packages"},{"location":"programming/python/rx/#tools","text":"We want to carefully inspect what's going on on the server. For this any invocation of print will also show millisecs since process start threadname (shortened) colors, according to a who integer given (so we can see who initiated an event) Little test, one w/o and one with the gevent monkey patch: $ python tests/rx/tools.py \u001b[0;38;5;245m 5\u001b[0m M \u001b[31m[S] msg 1\u001b[0m \u001b[0;38;5;245m 56\u001b[0m M \u001b[33m[2] async msg\u001b[0m \u001b[0;38;5;245m 56\u001b[0m M \u001b[34m[3] async msg\u001b[0m \u001b[0;38;5;245m 56\u001b[0m M \u001b[31m[S] async msg\u001b[0m \u001b[0;38;5;245m 106\u001b[0m M \u001b[35m[4] msg 3\u001b[0m $ python tests/rx/tools.py patched \u001b[0;38;5;245m 115\u001b[0m M \u001b[31m[S] msg 1\u001b[0m \u001b[0;38;5;245m 166\u001b[0m 1 \u001b[33m[2] async msg\u001b[0m \u001b[0;38;5;245m 166\u001b[0m 2 \u001b[34m[3] async msg\u001b[0m \u001b[0;38;5;245m 166\u001b[0m 3 \u001b[31m[S] async msg\u001b[0m \u001b[0;38;5;245m 216\u001b[0m M \u001b[35m[4] msg 3\u001b[0m M is MainThread, Numbers like 2 in the second column are \" Greenlet \" numbers. You see w/o the monkey patch that gevent actually coordinates everything on the main thread of the process. The [S] symbol is printed for who=0 (the default - here the server) Colors depend on the who argument You can see that the (pretty complex) monkey patching of all(!) blocking calls consumes well over 100 milliseconds startup time. Console Printer Source The tests are done in the main section $ cat tests / rx / tools . py import time import sys from threading import current_thread import gevent now = lambda : int ( time . time () * 1000 ) t0 = now () dt = lambda : now () - t0 thread = lambda : current_thread () . name . replace ( 'Dummy-' , '' ) . replace ( 'MainThread' , 'M' ) gray = ' \\x1b [0;38;5;245m %s \\x1b [0m' def print ( * a , p = print , who = 0 , ** kw ): pre = ' %s %2s ' % ( gray % ( ' %5s ' % dt ()), thread ()) msg = ' ' . join ([ str ( i ) for i in a ]) msg = ' \\x1b [3 %s m[ %s ] %s \\x1b [0m' % ( who + 1 , who or 'S' , msg ) p ( pre + msg , ** kw ) return a [ 0 ] # -------------------- quick test follows ------------------------------------------- if __name__ == '__main__' : from gevent import monkey sleep , asyn = gevent . sleep , gevent . spawn if sys . argv [ - 1 ] == 'patched' : monkey . patch_all () assert time . sleep == gevent . sleep # since patched print ( 'msg 1' ) def f ( who ): sleep ( 0.05 ) print ( 'async msg' , who = who ) asyn ( f , 2 ) asyn ( f , 3 ) asyn ( f , 0 ) sleep ( 0.1 ) print ( 'msg 3' , who = 4 )","title":"Tools"},{"location":"programming/python/rx/#server","text":"","title":"Server"},{"location":"programming/python/rx/#intro-async-http-processing-with-greenlets","text":"Any webserver based on gevent will allocate one greenlet per incoming request. Therefore we can block within the request handler w/o affecting other clients: def handle_get ( job ): # run within a request specific greenlet # blocks for this client request but servers others res = request . get ( \"<external api>\" ) . text return res The job processing, incl. sending the full response was a direct consequence of the client request event We have to solve now How to send data in parts (chunks) to the API clients (browsers, others) How to allow any eventhandler on the server to send a data chunk at any time to any client interested in it Here is how this is done (framwork API wise): https://bottlepy.org/docs/dev/async.html . Please read - it is pretty concise.","title":"Intro: Async HTTP processing with greenlets"},{"location":"programming/python/rx/#server-code","text":"We want to build a server, which we can reparametrize declaratively how it coordinates the events. Currently we have two event sources: From the clients (the requests they send) From the side effects we trigger, based on those requests. E.g. external websocket respsonses, file reading chunks, ... We want to completely decouple those event streams and therefore create two subjects: one for jobs, one for response (parts): Async Server Source $ cat tests / rx / server . py #!/usr/bin/env python import json import sys import time from functools import partial import gevent import gevent.queue import rx as Rx from flask import Flask , stream_with_context from gevent import monkey from gevent.pywsgi import WSGIServer from rx import operators as rx from rx.scheduler.eventloop import GEventScheduler as GS from tools import gevent , now , print from werkzeug.debug import DebuggedApplication from werkzeug.serving import run_with_reloader sys . path . append ( __file__ . rsplit ( '/' , 1 )[ 0 ]) monkey . patch_all () app = Flask ( __name__ ) GS = GS ( gevent ) jobs = Rx . subject . Subject () results = Rx . subject . Subject () flush_response = lambda q : q . put ( StopIteration ) # closing the socket wait = lambda dt : time . sleep ( dt / 1000.0 ) asyn = lambda : rx . observe_on ( GS ) # put pipeline onto a new greenlet class J : \"\"\"Job Running Pipeline Functions\"\"\" def _run_job ( job ): \"\"\"syncronous job running\"\"\" # how is the job (transport, behaviour, ...): _ , job = job [ 'meta' ] . pop , job [ 'job' ] parts , dt , q , ts = _ ( 'parts' ), _ ( 'dt' ), _ ( 'req' ), _ ( 'ts' ) print ( 'running job' , job ) for c in range ( parts ): wait ( dt ) print ( 'got result part' , c , job ) res = { 'res' : ' %s result %s ' % ( job , c ), 'nr' : c , 'dt' : now () - ts , 'req' : q , } results . on_next ( res ) # Closing the req socket after all parts are there. Normally elsewhere, we do # not know that normally or 'all there' is never. # But that can be done from anywhere - e.g. at cancel from the client # or when his socket closes: wait ( dt ) flush_response ( q ) run_job = rx . map ( _run_job ) class R : \"\"\"Results Handling Functions\"\"\" def interested_clients ( res ): \"\"\"Work via a central registry of clients who want job results\"\"\" # here we just added \"them\" directly into the result: return [ res . pop ( 'req' )] def _send_response ( res ): clients = R . interested_clients ( res ) ser = json . dumps ( res ) + ' \\r\\n ' [ c . put ( ser ) for c in clients ] return res send_response = rx . map ( _send_response ) def new_job ( job , meta ): \"\"\"Production decoupled from repsonse sending\"\"\" jobs . on_next ({ 'job' : job , 'meta' : meta }) @app . route ( '/<job>/<int:parts>/<int:dt>' ) def index ( job , parts , dt ): \"\"\" The request handling greenlet. The client can parametrize how many data parts the job result should have - and when they 'arrive'. Creates a queue which, when seing an item, will cause a chunk response \"\"\" # eventhandlers can produce here and we'll send to the client: q = gevent . queue . Queue () meta = { 'parts' : parts , 'dt' : dt , 'req' : q , 'ts' : now ()} new_job ( job , meta ) return app . response_class ( stream_with_context ( q ), mimetype = 'application/json' ) # ------------------------------------------------------------------------------- server def reconfigure_server_pipelines ( pipelines , subs = [ 0 , 0 ]): print ( 'starting processing pipelines for jobs and incomming data' ) if subs [ 0 ]: print ( 'stopping old pipeline' ) [ s . dispose () for s in subs ] for i in [ 0 , 1 ]: s = [ jobs , results ][ i ] . pipe ( asyn (), * pipelines [ i ]) subs [ i ] = s . subscribe () return True def run_server (): print ( '' ) print ( 'starting server at 50000' ) http_server = WSGIServer (( '' , 50000 ), DebuggedApplication ( app )) http_server . serve_forever ()","title":"Server Code"},{"location":"programming/python/rx/#processing-pipelines","text":"Here is the code $ cat tests / rx / test_async_server . py import json import os import sys import time from functools import partial from server import J , R , Rx , asyn , reconfigure_server_pipelines , run_server , rx , wait from tools import gevent , print sys . path . append ( __file__ . rsplit ( '/' , 1 )[ 0 ]) # noqa gevent . spawn ( run_server ) done_clients = [] def test_server_one (): \"\"\"Keeping order but processing jobs (and responses) one after the other Whichever clients' requests is first on the server will see all chunks first: \"\"\" p = [[ J . run_job ], [ R . send_response ]] reconfigure_server_pipelines ( p ) and send_requests () def test_server_two (): \"\"\"Here we run the jobs within parallel greenlets\"\"\" p = [ [ rx . flat_map ( lambda job : Rx . just ( job ) . pipe ( asyn (), J . run_job )),], [ R . send_response ], ] reconfigure_server_pipelines ( p ) and send_requests () # ------------------------------------------------------------------------------- Tools # here spawn 3 greenlets, sending 3 requests in parallel, simulating 3 clients\"\"\" # they iterate of the chunks from the server and print them def send_requests (): # yes we can reconfigure the pipeline while running; done_clients . clear () print ( '' ) for client in 1 , 2 , 3 : s = partial ( send_job_req_to_api_server , client = client ) gevent . spawn ( s ) while not len ( done_clients ) == 3 : wait ( 100 ) print ( 'all_done' , who = client ) def send_job_req_to_api_server ( client ): from requests import get print ( 'Sending job' , who = client ) j , url = json . loads , 'http://127.0.0.1:50000/job %s /3/ %s ' chunks = get ( url % ( client , 100 * client ), stream = True ) [ print ( 'got chunk' , j ( r ), who = client ) for r in chunks . iter_lines ()] print ( 'done client' , who = client ) done_clients . append ( client ) First we run the non parallel version of the job processor: $ pytest -xs tests/rx/test_async_server.py -k one 2>/dev/null ============================= test session starts ============================== platform linux -- Python 3.9.10, pytest-6.2.5, py-1.11.0, pluggy-1.0.0 Using --randomly-seed=860789797 rootdir: /home/gk/repos plugins: forked-1.4.0, randomly-3.11.0, cov-2.12.1, xdist-2.5.0, sugar-0.9.4 collected 2 items / 1 deselected / 1 selected tests/rx/test_async_server.py \u001b[0;38;5;245m 80\u001b[0m M \u001b[31m[S] starting processing pipelines for jobs and incomming data\u001b[0m \u001b[0;38;5;245m 80\u001b[0m M \u001b[31m[S] \u001b[0m \u001b[0;38;5;245m 81\u001b[0m 1 \u001b[31m[S] \u001b[0m \u001b[0;38;5;245m 81\u001b[0m 1 \u001b[31m[S] starting server at 50000\u001b[0m \u001b[0;38;5;245m 113\u001b[0m 2 \u001b[32m[1] Sending job\u001b[0m \u001b[0;38;5;245m 114\u001b[0m 3 \u001b[33m[2] Sending job\u001b[0m \u001b[0;38;5;245m 115\u001b[0m 4 \u001b[34m[3] Sending job\u001b[0m \u001b[0;38;5;245m 120\u001b[0m 5 \u001b[31m[S] running job job3\u001b[0m \u001b[0;38;5;245m 420\u001b[0m 5 \u001b[31m[S] got result part 0 job3\u001b[0m \u001b[0;38;5;245m 421\u001b[0m 4 \u001b[34m[3] got chunk {'res': 'job3 result 0', 'nr': 0, 'dt': 301}\u001b[0m \u001b[0;38;5;245m 721\u001b[0m 5 \u001b[31m[S] got result part 1 job3\u001b[0m \u001b[0;38;5;245m 722\u001b[0m 4 \u001b[34m[3] got chunk {'res': 'job3 result 1', 'nr': 1, 'dt': 602}\u001b[0m \u001b[0;38;5;245m 1021\u001b[0m 5 \u001b[31m[S] got result part 2 job3\u001b[0m \u001b[0;38;5;245m 1022\u001b[0m 4 \u001b[34m[3] got chunk {'res': 'job3 result 2', 'nr': 2, 'dt': 902}\u001b[0m \u001b[0;38;5;245m 1322\u001b[0m 6 \u001b[31m[S] running job job1\u001b[0m \u001b[0;38;5;245m 1323\u001b[0m 4 \u001b[34m[3] done client\u001b[0m \u001b[0;38;5;245m 1423\u001b[0m 6 \u001b[31m[S] got result part 0 job1\u001b[0m \u001b[0;38;5;245m 1424\u001b[0m 2 \u001b[32m[1] got chunk {'res': 'job1 result 0', 'nr': 0, 'dt': 1304}\u001b[0m \u001b[0;38;5;245m 1524\u001b[0m 6 \u001b[31m[S] got result part 1 job1\u001b[0m \u001b[0;38;5;245m 1524\u001b[0m 2 \u001b[32m[1] got chunk {'res': 'job1 result 1', 'nr': 1, 'dt': 1405}\u001b[0m \u001b[0;38;5;245m 1625\u001b[0m 6 \u001b[31m[S] got result part 2 job1\u001b[0m \u001b[0;38;5;245m 1625\u001b[0m 2 \u001b[32m[1] got chunk {'res': 'job1 result 2', 'nr': 2, 'dt': 1506}\u001b[0m \u001b[0;38;5;245m 1726\u001b[0m 7 \u001b[31m[S] running job job2\u001b[0m \u001b[0;38;5;245m 1726\u001b[0m 2 \u001b[32m[1] done client\u001b[0m \u001b[0;38;5;245m 1926\u001b[0m 7 \u001b[31m[S] got result part 0 job2\u001b[0m \u001b[0;38;5;245m 1927\u001b[0m 3 \u001b[33m[2] got chunk {'res': 'job2 result 0', 'nr': 0, 'dt': 1807}\u001b[0m \u001b[0;38;5;245m 2127\u001b[0m 7 \u001b[31m[S] got result part 1 job2\u001b[0m \u001b[0;38;5;245m 2127\u001b[0m 3 \u001b[33m[2] got chunk {'res': 'job2 result 1', 'nr': 1, 'dt': 2008}\u001b[0m \u001b[0;38;5;245m 2328\u001b[0m 7 \u001b[31m[S] got result part 2 job2\u001b[0m \u001b[0;38;5;245m 2328\u001b[0m 3 \u001b[33m[2] got chunk {'res': 'job2 result 2', 'nr': 2, 'dt': 2209}\u001b[0m \u001b[0;38;5;245m 2530\u001b[0m 3 \u001b[33m[2] done client\u001b[0m \u001b[0;38;5;245m 2591\u001b[0m M \u001b[34m[3] all_done\u001b[0m . ======================= 1 passed, 1 deselected in 2.72s ======================== And here processing in parallel greenlets, i.e. giving up order for throughput: $ pytest -xs tests/rx/test_async_server.py -k two 2>/dev/null ============================= test session starts ============================== platform linux -- Python 3.9.10, pytest-6.2.5, py-1.11.0, pluggy-1.0.0 Using --randomly-seed=3525127434 rootdir: /home/gk/repos plugins: forked-1.4.0, randomly-3.11.0, cov-2.12.1, xdist-2.5.0, sugar-0.9.4 collected 2 items / 1 deselected / 1 selected tests/rx/test_async_server.py \u001b[0;38;5;245m 78\u001b[0m M \u001b[31m[S] starting processing pipelines for jobs and incomming data\u001b[0m \u001b[0;38;5;245m 79\u001b[0m M \u001b[31m[S] \u001b[0m \u001b[0;38;5;245m 79\u001b[0m 1 \u001b[31m[S] \u001b[0m \u001b[0;38;5;245m 79\u001b[0m 1 \u001b[31m[S] starting server at 50000\u001b[0m \u001b[0;38;5;245m 111\u001b[0m 2 \u001b[32m[1] Sending job\u001b[0m \u001b[0;38;5;245m 112\u001b[0m 3 \u001b[33m[2] Sending job\u001b[0m \u001b[0;38;5;245m 113\u001b[0m 4 \u001b[34m[3] Sending job\u001b[0m \u001b[0;38;5;245m 117\u001b[0m 6 \u001b[31m[S] running job job1\u001b[0m \u001b[0;38;5;245m 118\u001b[0m 8 \u001b[31m[S] running job job2\u001b[0m \u001b[0;38;5;245m 118\u001b[0m 10 \u001b[31m[S] running job job3\u001b[0m \u001b[0;38;5;245m 218\u001b[0m 6 \u001b[31m[S] got result part 0 job1\u001b[0m \u001b[0;38;5;245m 219\u001b[0m 2 \u001b[32m[1] got chunk {'res': 'job1 result 0', 'nr': 0, 'dt': 102}\u001b[0m \u001b[0;38;5;245m 318\u001b[0m 6 \u001b[31m[S] got result part 1 job1\u001b[0m \u001b[0;38;5;245m 318\u001b[0m 8 \u001b[31m[S] got result part 0 job2\u001b[0m \u001b[0;38;5;245m 319\u001b[0m 2 \u001b[32m[1] got chunk {'res': 'job1 result 1', 'nr': 1, 'dt': 202}\u001b[0m \u001b[0;38;5;245m 319\u001b[0m 3 \u001b[33m[2] got chunk {'res': 'job2 result 0', 'nr': 0, 'dt': 202}\u001b[0m \u001b[0;38;5;245m 418\u001b[0m 10 \u001b[31m[S] got result part 0 job3\u001b[0m \u001b[0;38;5;245m 419\u001b[0m 6 \u001b[31m[S] got result part 2 job1\u001b[0m \u001b[0;38;5;245m 419\u001b[0m 2 \u001b[32m[1] got chunk {'res': 'job1 result 2', 'nr': 2, 'dt': 303}\u001b[0m \u001b[0;38;5;245m 419\u001b[0m 4 \u001b[34m[3] got chunk {'res': 'job3 result 0', 'nr': 0, 'dt': 301}\u001b[0m \u001b[0;38;5;245m 519\u001b[0m 8 \u001b[31m[S] got result part 1 job2\u001b[0m \u001b[0;38;5;245m 519\u001b[0m 3 \u001b[33m[2] got chunk {'res': 'job2 result 1', 'nr': 1, 'dt': 403}\u001b[0m \u001b[0;38;5;245m 519\u001b[0m 2 \u001b[32m[1] done client\u001b[0m \u001b[0;38;5;245m 719\u001b[0m 10 \u001b[31m[S] got result part 1 job3\u001b[0m \u001b[0;38;5;245m 719\u001b[0m 8 \u001b[31m[S] got result part 2 job2\u001b[0m \u001b[0;38;5;245m 719\u001b[0m 3 \u001b[33m[2] got chunk {'res': 'job2 result 2', 'nr': 2, 'dt': 603}\u001b[0m \u001b[0;38;5;245m 720\u001b[0m 4 \u001b[34m[3] got chunk {'res': 'job3 result 1', 'nr': 1, 'dt': 602}\u001b[0m \u001b[0;38;5;245m 921\u001b[0m 3 \u001b[33m[2] done client\u001b[0m \u001b[0;38;5;245m 1019\u001b[0m 10 \u001b[31m[S] got result part 2 job3\u001b[0m \u001b[0;38;5;245m 1020\u001b[0m 4 \u001b[34m[3] got chunk {'res': 'job3 result 2', 'nr': 2, 'dt': 902}\u001b[0m \u001b[0;38;5;245m 1321\u001b[0m 4 \u001b[34m[3] done client\u001b[0m \u001b[0;38;5;245m 1386\u001b[0m M \u001b[34m[3] all_done\u001b[0m . ======================= 1 passed, 1 deselected in 1.51s ========================","title":"Processing Pipeline(s)"},{"location":"programming/python/rx/#todo","text":"Invent a mapping registry of job result (parts) to interested clients. Who is interested in what should be up to the client - server should only care about security. See below. Once you have that, do e.g. pipe(rx.group_by(job_data_source), rx.buffer_with_time(1), rx.run_job_list , to not overload external api with many small requests (use their list APIs). Send all jobs you have at e.g. dashboard open in ONE request - and stream all results via that socket","title":"Todo"},{"location":"programming/python/rx/#suggestion-expressing-interest","text":"How can we enable clients to express sth. like \"Dear API server, I want to get all data updates from any job, containing joe@doe.com for the next 10 seconds ( no matter the nesting level of that email address within the data schemas). In order to facilitate clients to be able to express and update to the server, in which data they are interested, you might look into an expression library like this one . The most common conditions will be e.g. ids of certain data objects, like cpeids, userids, (...). Problem here that those are typically not always at the \"same places\" within the data. One solution might be, to define, when implementing a new use case, also sth like a 'possibly interesting value extractor' function and then push those possibly interesting values into a dedicated stream, mapping them to jobids. When client interest matches, you can pull the full data from short lived memory caches. Redis streams would be a good choice, when such values arrive on many server processes. Then store also the process (or local redis server) where the full data is in the cache. typeof start_lc === \"undefined\" ? 0 : start_lc()","title":"Suggestion: Expressing Interest"}]}